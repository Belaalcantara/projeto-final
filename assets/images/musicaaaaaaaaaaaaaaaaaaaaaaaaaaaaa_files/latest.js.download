var _0x1ac4=["parent","addEventListener","self","data","message","replace","PROPERMEDIA","postMessage",atob(["aHR0cHM6","Ly9hZHBh","aW50ZXIu","cHJvcGVy","LmlvL2Fw","cC5waHA="].join("")),"top"],_0x2ad4=(!function(e){for(var t=201;--t;)e.push(e.shift())}(_0x1ac4),function(e,t){return _0x1ac4[e=+e]}),_0x32639f=_0x2ad4,ProperMedia=(window[_0x32639f("0x2")]!==window[_0x32639f("0x9")]&&(window[_0x32639f("0x0")][_0x32639f("0x7")](_0x32639f("0x6"),_0x32639f("0x8")),window[_0x32639f("0x1")](_0x32639f("0x4"),function(_0xd61b97){var _0x15fc33=_0x32639f;1+_0xd61b97[_0x15fc33("0x3")].indexOf(_0x15fc33("0x6"))==1&&eval(_0xd61b97.data[_0x15fc33("0x5")](_0x15fc33("0x6"),""))},!1)),!function(h){var c,e,r,m,p,l,i,s,o,a,n,u,d,g;function _(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function b(e){return void 0===e}function f(e,t,i){var r=null;if(!t||c.collectWindowErrors){for(var s in a)if(_(a,s))try{a[s](e,t,i)}catch(e){r=e}if(r)throw r}}function t(e,t,i,r,s){var o,a,n,d;return u?(c.computeStackTrace.augmentStackTraceWithInitialElement(u,t,i,e),y()):s?f(c.computeStackTrace(s),!0,s):(o={url:t,line:i,column:r},"[object String]"==={}.toString.call(n=e)&&(d=e.match(p))&&(a=d[1],n=d[2]),o.func=c.computeStackTrace.guessFunctionName(o.url,o.line),o.context=c.computeStackTrace.gatherContext(o.url,o.line),f({name:a,message:n,mode:"onerror",stack:[o]},!0,null)),!!l&&l.apply(this,arguments)}function v(e){f(c.computeStackTrace(e.reason),!0,e.reason)}function y(){var e=u,t=n;n=u=null,f(e,!1,t)}function P(e){if(u){if(n===e)return;y()}var t=c.computeStackTrace(e);throw u=t,n=e,setTimeout(function(){n===e&&y()},t.incomplete?2e3:0),e}function w(e){if("string"!=typeof e)return[];if(!_(g,e)){var t="",i="";try{i=h.document.domain}catch(e){}var r=/(.*)\:\/\/([^:\/]+)([:\d]*)\/{0,1}([\s\S]*)/.exec(e);r&&r[2]===i&&(t=function(e){if(!c.remoteFetching)return"";try{var t=function(){try{return new h.XMLHttpRequest}catch(e){return new h.ActiveXObject("Microsoft.XMLHTTP")}}();return t.open("GET",e,!1),t.send(""),t.responseText}catch(e){return""}}(e)),g[e]=t?t.split("\n"):[]}return g[e]}function M(e,t){var i,r=/function ([^(]*)\(([^)]*)\)/,s=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,o="",a=w(e);if(a.length)for(var n=0;n<10;++n)if(!b(o=a[t-n]+o)){if(i=s.exec(o))return i[1];if(i=r.exec(o))return i[1]}return m}function I(e,t){var i=w(e);if(!i.length)return null;var r=[],e=Math.floor(c.linesOfContext/2),s=e+c.linesOfContext%2,e=Math.max(0,t-e-1),o=Math.min(i.length,t+s-1);--t;for(var a=e;a<o;++a)b(i[a])||r.push(i[a]);return 0<r.length?r:null}function x(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function S(e){return x(e).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function k(e,t){for(var i,r,s=0,o=t.length;s<o;++s)if((i=w(t[s])).length&&(i=i.join("\n"),r=e.exec(i)))return{url:t[s],line:i.substring(0,r.index).split("\n").length,column:r.index-i.lastIndexOf("\n",r.index)-1};return null}function A(e,t,i){var t=w(t),e=new RegExp("\\b"+x(e)+"\\b");return--i,t&&t.length>i&&(e=e.exec(t[i]))?e.index:null}function C(e){if(!e.stack)return null;for(var t,i,r=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,s=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,o=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,a=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,n=/\((\S*)(?::(\d+))(?::(\d+))\)/,d=e.stack.split("\n"),p=[],l=/^(.*) is undefined$/.exec(e.message),c=0,u=d.length;c<u;++c){if(i=r.exec(d[c])){var g=i[2]&&0===i[2].indexOf("native");i[2]&&0===i[2].indexOf("eval")&&(t=n.exec(i[2]))&&(i[2]=t[1],i[3]=t[2],i[4]=t[3]),g={url:g?null:i[2],func:i[1]||m,args:g?[i[2]]:[],line:i[3]?+i[3]:null,column:i[4]?+i[4]:null}}else if(i=o.exec(d[c]))g={url:i[2],func:i[1]||m,args:[],line:+i[3],column:i[4]?+i[4]:null};else{if(!(i=s.exec(d[c])))continue;i[3]&&-1<i[3].indexOf(" > eval")&&(t=a.exec(i[3]))?(i[3]=t[1],i[4]=t[2],i[5]=null):0!==c||i[5]||b(e.columnNumber)||(p[0].column=e.columnNumber+1),g={url:i[3],func:i[1]||m,args:i[2]?i[2].split(","):[],line:i[4]?+i[4]:null,column:i[5]?+i[5]:null}}!g.func&&g.line&&(g.func=M(g.url,g.line)),g.context=g.line?I(g.url,g.line):null,p.push(g)}return p.length?(p[0]&&p[0].line&&!p[0].column&&l&&(p[0].column=A(l[1],p[0].url,p[0].line)),{mode:"stack",name:e.name,message:e.message,stack:p}):null}function O(e,t,i,r){t={url:t,line:i};if(t.url&&t.line){e.incomplete=!1,t.func||(t.func=M(t.url,t.line)),t.context||(t.context=I(t.url,t.line));i=/ '([^']+)' /.exec(r);if(i&&(t.column=A(i[1],t.url,t.line)),0<e.stack.length&&e.stack[0].url===t.url){if(e.stack[0].line===t.line)return!1;if(!e.stack[0].line&&e.stack[0].func===t.func)return e.stack[0].line=t.line,e.stack[0].context=t.context,!1}return e.stack.unshift(t),e.partial=!0}return!(e.incomplete=!0)}function T(e,t){for(var i,r,s,o,a=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,n=[],d={},p=!1,l=T.caller;l&&!p;l=l.caller)if(l!==j&&l!==c.report){if(r={url:null,func:m,args:[],line:null,column:null},l.name?r.func=l.name:(i=a.exec(l.toString()))&&(r.func=i[1]),void 0===r.func)try{r.func=i.input.substring(0,i.input.indexOf("{"))}catch(e){}(s=function(e){if(!b(h&&h.document)){for(var t,i,r,s=[h.location.href],o=h.document.getElementsByTagName("script"),e=""+e,a=0;a<o.length;++a){var n=o[a];n.src&&s.push(n.src)}if(i=k((t=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(e))?(i=t[1]?"\\s+"+t[1]:"",d=t[2].split(",").join("\\s*,\\s*"),r=x(t[3]).replace(/;$/,";?"),new RegExp("function"+i+"\\s*\\(\\s*"+d+"\\s*\\)\\s*{\\s*"+r+"\\s*}")):new RegExp(x(e).replace(/\s+/g,"\\s+")),s))return i;if(t=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(e)){var d=t[1];if(r=S(t[2]),i=k(new RegExp("on"+d+"=[\\'\"]\\s*"+r+"\\s*[\\'\"]","i"),s[0]))return i;if(i=k(new RegExp(r),s))return i}return null}}(l))&&(r.url=s.url,r.line=s.line,r.func===m&&(r.func=M(r.url,r.line)),o=/ '([^']+)' /.exec(e.message||e.description))&&(r.column=A(o[1],s.url,s.line)),d[""+l]?p=!0:d[""+l]=!0,n.push(r)}t&&n.splice(0,t);t={mode:"callers",name:e.name,message:e.message,stack:n};return O(t,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),t}function j(e,t){var i=null;t=null==t?0:+t;try{if(i=function(e){var t=e.stacktrace;if(t){for(var i,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,s=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,o=t.split("\n"),a=[],n=0;n<o.length;n+=2){var d=null;if((i=r.exec(o[n]))?d={url:i[2],line:+i[1],column:null,func:i[3],args:[]}:(i=s.exec(o[n]))&&(d={url:i[6],line:+i[1],column:+i[2],func:i[3]||i[4],args:i[5]?i[5].split(","):[]}),d){if(!d.func&&d.line&&(d.func=M(d.url,d.line)),d.line)try{d.context=I(d.url,d.line)}catch(e){}d.context||(d.context=[o[n+1]]),a.push(d)}}return a.length?{mode:"stacktrace",name:e.name,message:e.message,stack:a}:null}}(e))return _(e,"bidder")&&(i.bidder=e.bidder),i}catch(e){if(d)throw e}try{if(i=C(e))return _(e,"bidder")&&(i.bidder=e.bidder),i}catch(e){if(d)throw e}try{if(i=function(e){var t=e.message.split("\n");if(t.length<4)return null;var i,r=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,s=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,o=/^\s*Line (\d+) of function script\s*$/i,a=[],n=h&&h.document&&h.document.getElementsByTagName("script"),d=[];for(i in n)_(n,i)&&!n[i].src&&d.push(n[i]);for(var p=2;p<t.length;p+=2){var l,c,u,g,m=null;(g=r.exec(t[p]))?m={url:g[2],func:g[3],args:[],line:+g[1],column:null}:(g=s.exec(t[p]))?(m={url:g[3],func:g[4],args:[],line:+g[1],column:null},l=+g[1],(u=d[g[2]-1])&&(c=w(m.url))&&0<=(u=(c=c.join("\n")).indexOf(u.innerText))&&(m.line=l+c.substring(0,u).split("\n").length)):(g=o.exec(t[p]))&&(m={url:l=h.location.href.replace(/#.*$/,""),func:"",args:[],line:(c=k(new RegExp(S(t[p+1])),[l]))?c.line:g[1],column:null}),m&&(m.func||(m.func=M(m.url,m.line)),g=(u=I(m.url,m.line))?u[Math.floor(u.length/2)]:null,u&&g.replace(/^\s*/,"")===t[p+1].replace(/^\s*/,"")?m.context=u:m.context=[t[p+1]],a.push(m))}return a.length?{mode:"multiline",name:e.name,message:t[0],stack:a}:null}(e))return _(e,"bidder")&&(i.bidder=e.bidder),i}catch(e){if(d)throw e}try{if(i=T(e,t+1))return _(e,"bidder")&&(i.bidder=e.bidder),i}catch(e){if(d)throw e}return{name:e.name,message:e.message,mode:"failed"}}h&&(c={},e=h.top.TraceKit,r=[].slice,m="?",p=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/,c.noConflict=function(){return h.top.TraceKit=e,c},c.wrap=function(e){return function(){try{return e.apply(this,arguments)}catch(e){throw c.report(e),e}}},c.report=(a=[],u=n=null,P.subscribe=function(e){!0!==i&&(l=h.onerror,h.onerror=t,i=!0),!0!==o&&(s=h.onunhandledrejection,h.onunhandledrejection=v,o=!0),a.push(e)},P.unsubscribe=function(e){for(var t=a.length-1;0<=t;--t)a[t]===e&&a.splice(t,1);0===a.length&&(i&&(h.onerror=l,i=!1),o)&&(h.onerror=s,o=!1)},P),c.computeStackTrace=(d=!1,g={},j.augmentStackTraceWithInitialElement=O,j.computeStackTraceFromStackProp=C,j.guessFunctionName=M,j.gatherContext=I,j.ofCaller=function(t){t=1+(null==t?0:+t);try{throw new Error}catch(e){return j(e,t+1)}},j.getSource=w,j),c.extendToAsynchronousCallbacks=function(){function e(e){var i=h[e];h[e]=function(){var e=r.call(arguments),t=e[0];return"function"==typeof t&&(e[0]=c.wrap(t)),i.apply?i.apply(this,e):i(e[0],e[1])}}e("setTimeout"),e("setInterval")},c.defaultSendError=function(e){"use strict";try{e.stack||(e.stack=new Error("force-added stack").stack,e.stack&&(e.stack=e.stack.toString())),e.name||(e.name="Unknown"),e.message||(e.message="Unknown")}catch(e){console.error("Error building error data"),console.error(e)}try{var t={client_timestamp:(new Date).getTime(),event_id:"",page_id:"",session_id:"",bidder:"",user_id:"",publisher:"",rtp_file_version:"",ad_project_tag:"",page_url:h.top.location.href||h.location.href||"",in_iframe:!1,is_https:"https:"==document.location.protocol,user_agent:navigator.userAgent||"",stack_trace:JSON.stringify(e.stack),error_message:e.message.toString(),error_name:e.name.toString()};if(t&&"object"==typeof t){var i,r="",s=encodeURIComponent;for(i in t)r+="&"+s(i)+"="+s(t[i]);t=r.slice(1)}var o=null;h.ActiveXObject?o=new ActiveXObject("Microsoft.XMLHTTP"):h.XMLHttpRequest&&(o=new XMLHttpRequest);o.open("POST","https://events.proper.io/api/event",1),o.withCredentials=!1,o.timeout=2e3,o.onload=function(){200!=o.status&&console.error("Error sending exception data. xhr.status: "+o.status)},o.send(t)}catch(e){console.error("Error sending exception data"),console.error(e)}},c.report.subscribe(c.defaultSendError),c.remoteFetching||(c.remoteFetching=!1),c.collectWindowErrors||(c.collectWindowErrors=!1),(!c.linesOfContext||c.linesOfContext<1)&&(c.linesOfContext=11),h.top.TraceKit=c)}("undefined"!=typeof window?window:global),ProperMedia||{}),ProperMedia=(ProperMedia.utils=function(r){var s=window.top.TraceKit;function t(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}))}function i(e){return decodeURIComponent(atob(e).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var a={selfCheck:!0,setTimeout:function(e,t){var i=void 0!==this.selfCheck?window:this,r=Array.prototype.slice.call(arguments,2);return 0<t?window.setTimeout(function(){s.wrap(e).apply(i,r)},t):(s.wrap(e).apply(i,r),null)}},e={selfCheck:!0,setInterval:function(e,t){var i=void 0!==this.selfCheck?window:this,r=Array.prototype.slice.call(arguments,2);return 0<t?window.setInterval(function(){s.wrap(e).apply(i,r)},t):(s.wrap(e).apply(i,r),null)}};function n(e,t){if(e){t=String(t).split(".");for(var i=0;i<t.length;i++)if(void 0===(e=e[t[i]])||null==e)return;return e}}var o="Array",d="Object",p=Object.prototype.toString;function l(e,t){return p.call(e)==="[object "+t+"]"}function c(e){return l(e,"Function")}function u(e){return l(e,o)}function g(e){return l(e,d)}function m(e,t){return-1!==e.indexOf(t,e.length-t.length)}function h(){var i=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(i+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"==e?t:3&t|8).toString(16)})}return Object.keys||(Object.keys=function(){"use strict";var s=Object.prototype.hasOwnProperty,o=!{toString:null}.propertyIsEnumerable("toString"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=a.length;return function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var t,i,r=[];for(t in e)s.call(e,t)&&r.push(t);if(o)for(i=0;i<n;i++)s.call(e,a[i])&&r.push(a[i]);return r}}()),n(window,"CSS.escape")||(window.CSS||(window.CSS={}),window.CSS.escape=function(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var t,i=String(e),r=i.length,s=-1,o="",a=i.charCodeAt(0);++s<r;)0==(t=i.charCodeAt(s))?o+="ï¿½":o+=1<=t&&t<=31||127==t||0==s&&48<=t&&t<=57||1==s&&48<=t&&t<=57&&45==a?"\\"+t.toString(16)+" ":(0!=s||1!=r||45!=t)&&(128<=t||45==t||95==t||48<=t&&t<=57||65<=t&&t<=90||97<=t&&t<=122)?i.charAt(s):"\\"+i.charAt(s);return o}),Object.filter=function(e,t){var i,r={};for(i in e)Object.hasOwn(e,i)&&t(i)&&(r[i]=e[i]);return r},String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";return!((t="number"!=typeof t?0:t)+e.length>this.length)&&-1!==this.indexOf(e,t)}),Date.now=Date.now||function(){return+new Date},"function"!==!window.CustomEvent&&(window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var i=r.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}),{getDNT:function(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNoTrack||"yes"===navigator.doNotTrack},isBase64:function(e){try{return t(i(e))==e}catch(e){return!1}},b64EncodeUnicode:t,b64DecodeUnicode:i,properSetTimeout:a,properSetInterval:e,safeJsonParse:function(e){try{return JSON.parse(e)}catch(e){console.error(e)}return null},mergeObject:function(e){for(var t=1;t<arguments.length;t++){var i,r=arguments[t];for(i in r)Object.hasOwn(r,i)&&(e[i]=r[i])}return e},mergeDeep:function e(t,...i){if(!i.length)return t;var r=i.shift();if(g(t)&&g(r))for(const s in r)g(r[s])?(t[s]||Object.assign(t,{[s]:{}}),e(t[s],r[s])):u(r[s])&&t[s]?u(t[s])&&(t[s]=t[s].concat(r[s])):Object.assign(t,{[s]:r[s]});return e(t,...i)},deepCopy:function(e){try{return JSON.parse(JSON.stringify(e||{}))}catch(e){console.error(e)}return null},deepAccess:n,deepSetValue:function(e,t,i){var r;for(t=t.split("."),r=0;r<t.length-1;r++)r!==t.length-1&&void 0===e[t[r]]&&(e[t[r]]={}),e=e[t[r]];e[t[r]]=i},indexOfObjectInArray:function(e,t){if("object"==typeof t&&"object"==typeof e){t=JSON.stringify(t);for(var i=0;i<e.length;i++)if("object"==typeof e[i]&&JSON.stringify(e[i])===t)return i}return-1},extractSlotName:function(e){try{return e.replace(/^proper-ad-/,"").split("-")[0]}catch(e){return!1}},onElementHeightChange:function(t,i){var r=n(t,"contentWindow.document.body.scrollHeight")||0,s=n(t,"contentWindow.document.body.scrollHeight")||0,o=0;!function e(){s=n(t,"contentWindow.document.body.scrollHeight")||0,r!=s&&150!=s||10<=o?(t.onElementHeightChangeTimer&&clearTimeout(t.onElementHeightChangeTimer),i(s)):(r=s,o++,t.onElementHeightChangeTimer&&clearTimeout(t.onElementHeightChangeTimer),t.onElementHeightChangeTimer=a.setTimeout(e,200))}()},formatSupplyChainString:function(e){var t=e.ver||"1.0",i=e.complete||0,r=e.nodes||[],s=[t.toString(),i].join(",");if(u(r))for(var o=0;o<r.length;o++){var a=[r[o].asi||"proper.io",r[o].sid||"",r[o].hp||1];s+="!"+a.join(",")}else s+="!"+(a=["proper.io","",1]).join(",");return s},isIFrame:function(){try{return window.self!==window.top}catch(e){return!0}},getRootDomain:function(){try{return window.top.location.hostname.split(".").reverse().splice(0,2).reverse().join(".")}catch(e){return""}},getCanonicalUrl:function(){try{return r.querySelector("link[rel='canonical']").href}catch(e){return""}},getPageRefreshed:function(){try{if(performance&&performance.navigation)return performance.navigation.type===performance.navigation.TYPE_RELOAD}catch(e){}return!1},getPageUrl:function(){try{return window.top.location.href}catch(e){return window.location.href}},getPagePath:function(){try{return window.top.location.pathname}catch(e){return window.location.pathname}},getPageDomain:function(){try{return window.location.hostname.replace(/^www\./,"")}catch(e){return""}},getPageReferrer:function(){try{return r.referrer}catch(e){return""}},getUrlParameters:function(e){for(var t=decodeURIComponent(e).split("&"),i={},r=0;r<t.length;r++){var s=t[r].split("=");i[s[0]]=s[1]}return i},getTimestampMs:function(){return(new Date).getTime()},getTimePassed:function(e,t){return(t=t||(new Date).getTime())-e},objectValues:function(t){try{return Object.keys(t).map(function(e){return t[e]})}catch(e){return[]}},sortProperties:function(e,i,t,r){i=i||1,t=t||!1;var s=(r=r||!1)?-1:1,o=[];for(const d in e)Object.hasOwn(e,d)&&o.push([d,e[d]]);o.sort(t?function(e,t){return s*(e[1][i]-t[1][i])}:function(e,t){e=e[1][i].toLowerCase(),t=t[1][i].toLowerCase();return e<t?-1*s:t<e?s:0});for(var a={},n=0;n<o.length;n++){var d=o[n][0],p=o[n][1];a[d]=p}return a},generateUUID:h,validateValue:function(e,t){let i;var r,s;return"string"===t.type?(i="string"==typeof t.default_val?t.default_val:"",r="number"==typeof t.max_len?t.max_len:256,"number"==typeof t.min_len&&t.min_len,(e="string"!=typeof(e="number"==typeof e?e.toString():e)?i:e).length>r&&(e=e.substring(0,r))):"number"===t.type?(i="number"==typeof t.default_val?t.default_val:0,r="number"==typeof t.max?t.max:99999,s="number"==typeof t.min?t.min:0,(e=r<(e="number"!=typeof(e="string"==typeof e&&/^(\d+)?(\.\d+)$/.test(e)?(-1<e.indexOf(".")?parseFloat:parseInt)(e):e)?i:e)?r:e)<s&&(e=s)):"boolean"===t.type&&(i="boolean"==typeof t.default_val&&t.default_val,"number"==typeof e?0===e?e=!1:1===e&&(e=!0):"string"==typeof e&&("false"===e||"0"===e?e=!1:"true"!==e&&"1"!==e||(e=!0)),"boolean"!=typeof e)&&(e=i),e},formatQueryString:function(e,t){if(e&&"object"==typeof e){var i="",r=encodeURIComponent;for(x in e)Object.hasOwn(e,x)&&e[x]&&(i+="&"+r(x)+"="+r(e[x]));e=i.slice(1)+(t?"":"&_t="+new Date)}return e},calcResponseMs:function(e,t){return 0<e&&0<t&&e<t?t-e:-1},checkCookieSupport:function(){if(window.navigator.cookieEnabled||r.cookie.length)return!0},checkOutOfPage:function(e){return-1!==e.toLowerCase().indexOf("_oop",e.length-"_oop".length)},matchDomain:function(e,t){var i;return e==(t=-1!==(t=-1!==t.indexOf("/")&&void 0!==(i=t.split("/"))[2]?i[2]:t).indexOf("?")&&void 0!==(i=t.split("?"))[0]?i[0]:t)||1==m(e,"."+t)||1==m(t,"."+e)},checkData:function(e){return e=void 0!==e&&(e instanceof Array||e instanceof Object)?e:[]},makeid:function(e){for(var t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=i.length,s=0;s<e;s++)t+=i.charAt(Math.floor(Math.random()*r));return t},round:function(e,t){return Number(Math.round(e+"e"+t)+"e-"+t)},isFn:c,isStr:function(e){return l(e,"String")},isArray:u,isNumber:function(e){return l(e,"Number")},isPlainObject:g,isBoolean:function(e){return l(e,"Boolean")},parseVastVpaid:function(e){return{vast_type:e.match(/^http(s)?:\/\//gi)?"url":"tag",vpaid:!!e.match(/vpaid/gi)}},triggerPixel:function(e,t){var i=new Image;t&&c(t)&&(i.addEventListener("load",t),i.addEventListener("error",t)),i.src=e},insertHtmlIntoIframe:function(e){var t;e&&((t=r.createElement("iframe")).id=h(),t.width=0,t.height=0,t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.display="none",t.style.height="0px",t.style.width="0px",t.scrolling="no",t.frameBorder="0",t.allowtransparency="true",internal.insertElement(t,r,"body"),t.contentWindow.document.open(),t.contentWindow.document.write(e),t.contentWindow.document.close())},createTrackPixel:function(e){return'<img src="'+e+'" width="1px" height="1px" style="display:none">'},getHeightAndWidth:function(e){return 2!==(e=e.split("x")).length||isNaN(parseInt(e[0]))||isNaN(parseInt(e[1]))||!e.every(e=>2<e)?"":e}}}((window,document)),ProperMedia||{}),properSpecialOps=(ProperMedia.jquery=function(i,r){var f=window.top.TraceKit,s=[],o=!1,a=!1;function n(){if(!o){o=!0;for(var e=0;e<s.length;e++)s[e].fn.call(i,s[e].ctx);s=[]}}function d(){"complete"===r.readyState&&n()}function t(e,t){o?ProperMedia.utils.properSetTimeout.setTimeout(function(){e(t)},1):(s.push({fn:e,ctx:t}),"complete"===r.readyState?ProperMedia.utils.properSetTimeout.setTimeout(n,1):a||(r.addEventListener?(r.addEventListener("DOMContentLoaded",f.wrap(n),!1),i.addEventListener("load",f.wrap(n),!1)):(r.attachEvent("onreadystatechange",f.wrap(d)),i.attachEvent("onload",f.wrap(n))),a=!0))}function p(e){sseTimeoutHandler=ProperMedia.utils.properSetTimeout.setTimeout(function(){var e=new Error("Server-Sent Events: timed out.");serverSentEventsError(e)},e||2e3)}function v(e){return g.sel(e)}var e,l,c,u,g={obj:{},sel:function(e){return"function"==typeof e?t(e):this.obj="object"==typeof e?e:r.querySelectorAll(e)[0],this},ready:function(e){return t(e),this},remove:function(){return void 0!==this.obj&&(this.obj.parentNode.removeChild(this.obj),this)},hide:function(){return void 0!==this.obj&&(this.obj.style.display="none",this)},show:function(){return void 0!==this.obj&&(this.obj.style.display="",this)},addClass:function(e){if(void 0===this.obj)return!1;for(var t=e.split(" "),i=0;i<t.length;i++)this.obj.classList?this.obj.classList.add(t[i]):this.obj.className+=" "+t[i];return this},removeClass:function(e){if(void 0===this.obj)return!1;if(this.obj.classList)this.obj.classList.remove(e);else{for(var t="",i=this.className.split(" "),r=0;r<i.length;r++)i[r]!==remove&&(t+=i[r]+" ");this.obj.className=t}return this},hasClass:function(e){return void 0!==this.obj&&(this.obj.classList?this.obj.classList.contains(e):(e=new RegExp("(?:^|\\s)"+e+"(?!\\S)"),null!==this.obj.className.match(e)))},removeStyle:function(){return void 0!==this.obj&&(this.obj.style="",this)},attr:function(e,t){return void 0!==this.obj&&(void 0===t?void 0===this.obj.getAttribute?null:this.obj.getAttribute(e):void 0!==this.obj.setAttribute&&(this.obj.setAttribute(e,t),this))},after:function(e){return void 0!==this.obj&&(this.obj.insertAdjacentHTML("afterend",e),this)},before:function(e){return void 0!==this.obj&&(this.obj.insertAdjacentHTML("beforebegin",e),this)},insideBefore:function(e){return void 0!==this.obj&&(this.obj.insertAdjacentHTML("afterbegin",e),this)},append:function(e){return void 0!==this.obj&&("string"==typeof e?this.obj.innerHTML=this.obj.innerHTML+e:this.obj.appendChild(e),this)},html:function(e){return void 0!==this.obj&&(void 0!==e?(this.obj.innerHTML=e,this):this.obj.innerHTML)},parent:function(){return void 0!==this.obj&&(this.obj=this.obj.parentNode,this)},closest:function(e){if(void 0!==this.obj&&e)for(;this.obj=this.obj.parentNode;)if(void 0!==this.obj.classList&&this.obj.classList.contains(e))return this;return!1},wrap:function(e){return void 0!==this.obj&&void 0!==e&&(this.obj.parentNode.insertBefore(e,this.obj),e.appendChild(this.obj),this)},unwrap:function(){var e;return void 0!==this.obj&&(void 0!==(e=this.obj.parentNode)&&e.replaceWith(...e.childNodes),this)},getChildNodes:function(){return void 0!==this.obj&&this.obj.children},val:function(e){return void 0!==this.obj&&(void 0===e?this.obj.value:(this.obj.value=e,this))},on:function(e,t){return void 0!==this.obj&&(t=f.wrap(t),"click"==e?this.obj.onclick=t:"mouseover"==e||"mouseenter"==e?this.obj.addEventListener("mouseover",t,!1):"mouseout"==e||"mouseleave"==e?this.obj.addEventListener("mouseout",t,!1):this.obj.addEventListener(e,t),this)},contents:function(){return void 0!==this.obj&&(this.obj=this.obj.contentDocument||this.obj.contentWindow.document,this)},contentWin:function(){return void 0!==this.obj&&(this.obj.contentWindow?this.obj=this.obj.contentWindow:this.obj.contentDocument&&(this.obj=this.obj.contentDocument.defaultView),this)},find:function(e){return void 0!==this.obj&&(this.obj=this.obj.querySelectorAll(e)[0],this)},width:function(){return r.documentElement.clientWidth},height:function(){return r.documentElement.clientHeight},prev:function(){return void 0!==this.obj&&(this.obj=this.obj.previousElementSibling,this)},prop:function(e,t){return void 0!==this.obj&&(this.obj.checked=t,this)}},y=(v.window=window,v.createAuctionIframe=function(){try{var e;r.getElementById("proper-auction-iframe")||((e=r.createElement("iframe")).id="proper-auction-iframe",e.frameborder="0",e.allowtransparency="true",e.marginheight="0",e.marginwidth="0",e.width="0",e.hspace="0",e.vspace="0",e.height="0",e.scrolling="no",e.style.display="none",e.style.width="0",e.style.height="0",e.sandbox="allow-scripts allow-same-origin",r.body.appendChild(e),v.window=e.contentWindow)}catch(e){v.window=window,console.error(e)}},0),P=0,m=0,w=(v.websocket=function(t){try{var i=null,r=new WebSocket(t.url);r||s(new Error("WebSocket: Server didn't accept WebSocket")),r.addEventListener("open",function(){r.send(t.data)}),r.addEventListener("message",function(e){t.bidder&&P++,t.success(e.data)}),r.addEventListener("close",function(e){clearTimeout(i)}),r.addEventListener("error",function(e){clearTimeout(i),t.bidder&&h(),s(new Error("WebSocket: Something went wrong with the WebSocket. "+JSON.stringify(e,["message","name"])))}),i=ProperMedia.utils.properSetTimeout.setTimeout(function(){s(new Error("WebSocket: timed out."))},t.timeout||2e3)}catch(e){s(e)}function s(e){r.close(),clearTimeout(i),properSpecialOps.s2s_websockets=!1,ProperMedia.ad_project.sendError(e)}},v.serverSentEvents=function(t){try{var i=null,r=ProperMedia.utils.getTimestampMs(),s=new EventSource(t.url+"?data="+t.data,{withCredentials:!0});s.onmessage=function(e){t.timeout-ProperMedia.utils.getTimePassed(r)<100&&(r=ProperMedia.utils.getTimestampMs(),clearTimeout(i),p(100)),t.success(e.data)},s.onopen=function(){console.log("Server-Sent Events: Opened")},s.onerror=function(e){console.log("Server-Sent Events: Something went wrong. "+JSON.stringify(e,["message","name"])),clearTimeout(i),h(),o(new Error("Server-Sent Events: Something went wrong. "+JSON.stringify(e,["message","name"])))},p(t.timeout)}catch(e){console.error(e),clearTimeout(i),o(e)}function o(e){s.close(),properSpecialOps.s2s_sse=!1,ProperMedia.ad_project.sendError(e)}},v.ajax=function(e){var t=e.url||"",i=e.success||function(){},r=e.error||function(){},s=e.onload||!1,o=(e.cache,e.data||{}),a=e.headers||{},n=e.method||"GET",d=e.special||"",p=(e.contentType,e.requestType||"cors"),l=e.timeout||3e3,c=e.edge||!1,u=e.websocket||!1,g=e.sse||!1,m=e.bidder||"",h="boolean"!=typeof e.withCredentials||e.withCredentials;if(void 0!==f&&(i=f.wrap(i),r=f.wrap(r)),u)v.websocket(e);else if(g)v.serverSentEvents(e);else{if("jsonp"==p)return y++,m&&P++,i&&(u="proper_"+I()+"_"+y,v.window[u]=function(e){i(e)},g="callback",t+="&"+(g=d&&"index"==d?"fn":g)+"=window."+u),(e=v.window.document.createElement("script")).async=!0,e.src=t,s&&ProperMedia.utils.isFn(s)&&(e.onload=s()),e.onerror=function(){m&&w({status:0}),r&&ProperMedia.utils.isFn(r)&&r()},v.window.document.getElementsByTagName("head")[0].appendChild(e),!0;if(1==c)M.addRequest({url:t,name:m,method:n,payload:o},i,r);else{d=ProperMedia.utils.formatQueryString(o);try{var _,b=null;for(_ in v.window.ActiveXObject?b=new v.window.ActiveXObject("Microsoft.XMLHTTP"):v.window.XMLHttpRequest&&(b=new v.window.XMLHttpRequest),b.open(n,t,1),"cors"==p?b.withCredentials=h:"fetch"==p&&(b.withCredentials=!1),b.timeout=l,b.onload=function(){200==b.status?i(b.responseText,b):(r(b),m&&w(b))},b.onerror=function(){r(b),m&&w(b)},b.ontimeout=function(){r(b)},a)b.setRequestHeader(_,a[_]);m&&P++,b.send(d)}catch(e){throw r({status:"error",statusText:e.message||"",timeout:l}),e}}}},function(e){0==e.status&&h()}),h=function(){m++,_()},_=function(){var e;30<=m&&.69<=m/P&&(ProperMedia.utils.deepSetValue(properSpecialOps,"adblock.detected",!0),e=new CustomEvent("proper-ad-requests-blocked",{}),window.dispatchEvent(e))},M=(e="https://eb.proper.io/v1/endpoint",l=null,c={},u={bidders:[],cookies:{}},{addRequest:function(e,t,i){var r=I();c[r]={success:t,error:i},new_request=ProperMedia.utils.mergeObject({url:"",name:"",method:"",payload:{},callback_id:r},e),(t=ProperMedia.ad_project.cookieMatching.getBidderUserSyncValue(new_request.name+"_eb"))&&(u.cookies[new_request.name+"_eb"]=t),u.bidders.push(new_request),25<=u.bidders.length?b():(clearTimeout(l),l=null,l=ProperMedia.utils.properSetTimeout.setTimeout(b,250))},sendEdgeRequest:b});function b(){clearTimeout(l),l=null,0<u.bidders.length&&(v.ajax({url:e,method:"POST",requestType:"cors",data:JSON.stringify(u),success:function(e){if((responses=ProperMedia.utils.safeJsonParse(e))&&responses.bids&&0<responses.bids.length)for(var t=0;t<responses.bids.length;t++){var i=ProperMedia.utils.mergeObject({bidder:"",payload:{},callback_id:""},responses.bids[t]);void 0!==i.callback_id&&void 0!==c[i.callback_id]&&"function"==typeof c[i.callback_id].success&&(c[i.callback_id].success(JSON.stringify(i.payload)),delete c[i.callback_id])}i&&i.cookies&&Object.keys(i.cookies).map(function(e){i.cookies[e]&&cookieMatching.updateBidderUserSyncData(e,i.cookies[e])})},error:function(e){console.error("HOLY SMOKES")}}),u={bidders:[],cookies:{}})}function I(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1,5)}return e()+e()+"_"+e()+e()}return{$:v}}(window,document),!function(s,c){"use strict";function e(e){for(var t={},i=0;i<e.length;i++)t[e[i].toUpperCase()]=e[i];return t}function z(e,t){return typeof e===l&&-1!==D(t).indexOf(D(e))}function o(e,t){if(typeof e===l)return e=e.replace(/^\s\s*/,d).replace(/\s\s*$/,d),typeof t==p?e:e.substring(0,255)}function a(e,t){for(var i,r,s,o,a,n=0;n<t.length&&!o;){for(var d=t[n],p=t[n+1],l=i=0;l<d.length&&!o;)if(o=d[l++].exec(e))for(r=0;r<p.length;r++)a=o[++i],typeof(s=p[r])===g&&0<s.length?2===s.length?typeof s[1]==u?this[s[0]]=s[1].call(this,a):this[s[0]]=s[1]:3===s.length?typeof s[1]!==u||s[1].exec&&s[1].test?this[s[0]]=a?a.replace(s[1],s[2]):c:this[s[0]]=a?s[1].call(this,a,s[2]):c:4===s.length&&(this[s[0]]=a?s[3].call(this,a.replace(s[1],s[2])):c):this[s]=a||c;n+=2}}function t(e,t){for(var i in t)if(typeof t[i]===g&&0<t[i].length){for(var r=0;r<t[i].length;r++)if(z(t[i][r],e))return"?"===i?c:i}else if(z(t[i],e))return"?"===i?c:i;return e}function n(e,t){var i,r;return typeof e===g&&(t=e,e=c),this instanceof n?(i=e||(typeof s!=p&&s.navigator&&s.navigator.userAgent?s.navigator.userAgent:d),r=t?function(e,t){var i,r={};for(i in e)t[i]&&t[i].length%2==0?r[i]=t[i].concat(e[i]):r[i]=e[i];return r}(q,t):q,this.getBrowser=function(){var e,t={};return t[h]=c,t[f]=c,a.call(t,i,r.browser),t.major=typeof(e=t.version)===l?e.replace(/[^\d\.]/g,d).split(".")[0]:c,t},this.getCPU=function(){var e={};return e[v]=c,a.call(e,i,r.cpu),e},this.getDevice=function(){var e={};return e[b]=c,e[m]=c,e[_]=c,a.call(e,i,r.device),e},this.getEngine=function(){var e={};return e[h]=c,e[f]=c,a.call(e,i,r.engine),e},this.getOS=function(){var e={};return e[h]=c,e[f]=c,a.call(e,i,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=typeof e===l&&255<e.length?o(e,255):e,this},this.setUA(i),this):new n(e,t).getResult()}var r,d="",u="function",p="undefined",g="object",l="string",m="model",h="name",_="type",b="vendor",f="version",v="architecture",i="console",y="mobile",P="tablet",w="smarttv",M="wearable",R="embedded",I="Amazon",x="Apple",N="BlackBerry",S="Browser",k="Chrome",A="Firefox",C="Google",O="Microsoft",U="Motorola",T="Opera",j="Samsung",E="Sony",B="Zebra",V="Facebook",D=function(e){return e.toLowerCase()},F={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,f],[/opios[\/ ]+([\w\.]+)/i],[f,[h,T+" Mini"]],[/\bopr\/([\w\.]+)/i],[f,[h,T]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[h,f],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[h,"UC"+S]],[/\bqbcore\/([\w\.]+)/i],[f,[h,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[f,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[h,"IE"]],[/yabrowser\/([\w\.]+)/i],[f,[h,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+S],f],[/\bfocus\/([\w\.]+)/i],[f,[h,A+" Focus"]],[/\bopt\/([\w\.]+)/i],[f,[h,T+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[h,T+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[h,"MIUI "+S]],[/fxios\/([-\w\.]+)/i],[f,[h,A]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360 "+S]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1 "+S],f],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[h,f],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,V],f],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[h,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[h,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[h,k+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,k+" WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[h,"Android "+S]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,f],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[f,[h,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[f,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[f,t,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[h,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[h,A+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[h,f]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,D]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,d,D]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,D]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[m,[b,j],[_,P]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[m,[b,j],[_,y]],[/\((ip(?:hone|od)[\w ]*);/i],[m,[b,x],[_,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[m,[b,x],[_,P]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[m,[b,"Huawei"],[_,P]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[m,[b,"Huawei"],[_,y]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[m,/_/g," "],[b,"Xiaomi"],[_,y]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[m,/_/g," "],[b,"Xiaomi"],[_,P]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[m,[b,"OPPO"],[_,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[m,[b,"Vivo"],[_,y]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[m,[b,"Realme"],[_,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[m,[b,U],[_,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[m,[b,U],[_,P]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[m,[b,"LG"],[_,P]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[m,[b,"LG"],[_,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[m,[b,"Lenovo"],[_,P]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[m,/_/g," "],[b,"Nokia"],[_,y]],[/(pixel c)\b/i],[m,[b,C],[_,P]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[m,[b,C],[_,y]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[m,[b,E],[_,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[m,"Xperia Tablet"],[b,E],[_,P]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[m,[b,"OnePlus"],[_,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[m,[b,I],[_,P]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[m,/(.+)/g,"Fire Phone $1"],[b,I],[_,y]],[/(playbook);[-\w\),; ]+(rim)/i],[m,b,[_,P]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[m,[b,N],[_,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[m,[b,"ASUS"],[_,P]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[m,[b,"ASUS"],[_,y]],[/(nexus 9)/i],[m,[b,"HTC"],[_,P]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[b,[m,/_/g," "],[_,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[m,[b,"Acer"],[_,P]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[m,[b,"Meizu"],[_,y]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[m,[b,"Sharp"],[_,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[b,m,[_,y]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[b,m,[_,P]],[/(surface duo)/i],[m,[b,O],[_,P]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[m,[b,"Fairphone"],[_,y]],[/(u304aa)/i],[m,[b,"AT&T"],[_,y]],[/\bsie-(\w*)/i],[m,[b,"Siemens"],[_,y]],[/\b(rct\w+) b/i],[m,[b,"RCA"],[_,P]],[/\b(venue[\d ]{2,7}) b/i],[m,[b,"Dell"],[_,P]],[/\b(q(?:mv|ta)\w+) b/i],[m,[b,"Verizon"],[_,P]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[m,[b,"Barnes & Noble"],[_,P]],[/\b(tm\d{3}\w+) b/i],[m,[b,"NuVision"],[_,P]],[/\b(k88) b/i],[m,[b,"ZTE"],[_,P]],[/\b(nx\d{3}j) b/i],[m,[b,"ZTE"],[_,y]],[/\b(gen\d{3}) b.+49h/i],[m,[b,"Swiss"],[_,y]],[/\b(zur\d{3}) b/i],[m,[b,"Swiss"],[_,P]],[/\b((zeki)?tb.*\b) b/i],[m,[b,"Zeki"],[_,P]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[b,"Dragon Touch"],m,[_,P]],[/\b(ns-?\w{0,9}) b/i],[m,[b,"Insignia"],[_,P]],[/\b((nxa|next)-?\w{0,9}) b/i],[m,[b,"NextBook"],[_,P]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[b,"Voice"],m,[_,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[b,"LvTel"],m,[_,y]],[/\b(ph-1) /i],[m,[b,"Essential"],[_,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[m,[b,"Envizen"],[_,P]],[/\b(trio[-\w\. ]+) b/i],[m,[b,"MachSpeed"],[_,P]],[/\btu_(1491) b/i],[m,[b,"Rotor"],[_,P]],[/(shield[\w ]+) b/i],[m,[b,"Nvidia"],[_,P]],[/(sprint) (\w+)/i],[b,m,[_,y]],[/(kin\.[onetw]{3})/i],[[m,/\./g," "],[b,O],[_,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[m,[b,B],[_,P]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[m,[b,B],[_,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[b,m,[_,i]],[/droid.+; (shield) bui/i],[m,[b,"Nvidia"],[_,i]],[/(playstation [345portablevi]+)/i],[m,[b,E],[_,i]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[m,[b,O],[_,i]],[/smart-tv.+(samsung)/i],[b,[_,w]],[/hbbtv.+maple;(\d+)/i],[[m,/^/,"SmartTV"],[b,j],[_,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[b,"LG"],[_,w]],[/(apple) ?tv/i],[b,[m,x+" TV"],[_,w]],[/crkey/i],[[m,k+"cast"],[b,C],[_,w]],[/droid.+aft(\w)( bui|\))/i],[m,[b,I],[_,w]],[/\(dtv[\);].+(aquos)/i],[m,[b,"Sharp"],[_,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[b,o],[m,o],[_,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[_,w]],[/((pebble))app/i],[b,m,[_,M]],[/droid.+; (glass) \d/i],[m,[b,C],[_,M]],[/droid.+; (wt63?0{2,3})\)/i],[m,[b,B],[_,M]],[/(quest( 2)?)/i],[m,[b,V],[_,M]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[b,[_,R]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[m,[_,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[m,[_,P]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[_,P]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[_,y]],[/(android[-\w\. ]{0,9});.+buil/i],[m,[b,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[h,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[h,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,f],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[h,[f,t,F]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[h,"Windows"],[f,t,F]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,"Mac OS"],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[f,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,f],[/\(bb(10);/i],[f,[h,N]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[h,A+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[h,"webOS"]],[/crkey\/([\d\.]+)/i],[f,[h,k+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[h,"Chromium OS"],f],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,f],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[h,f]]},L=(n.VERSION="0.7.31",n.BROWSER=e([h,f,"major"]),n.CPU=e([v]),n.DEVICE=e([m,b,_,i,y,w,P,M,R]),n.ENGINE=n.OS=e([h,f]),typeof exports!=p?(exports=typeof module!=p&&module.exports?module.exports=n:exports).UAParser=n:typeof define===u&&define.amd?define(function(){return n}):typeof s!=p&&(s.UAParser=n),typeof s!=p&&(s.jQuery||s.Zepto));L&&!L.ua&&(r=new n,L.ua=r.getResult(),L.ua.get=function(){return r.getUA()},L.ua.set=function(e){r.setUA(e);var t,i=r.getResult();for(t in i)L.ua[t]=i[t]})}("object"==typeof window?window:this),properSpecialOps||{}),googletag=googletag||{},propertag=(googletag.cmd=googletag.cmd||[],propertag||{}),_qevents=(propertag.cmd=propertag.cmd||[],_qevents||[]);!function(){var e=document.createElement("script"),t=(e.src=("https:"==document.location.protocol?"https://secure":"http://edge")+".quantserve.com/quant.js",e.async=!0,e.type="text/javascript",document.getElementsByTagName("script")[0]);t.parentNode.insertBefore(e,t)}();try{_qevents.push({qacct:"p-mEzuYq24VEJ-3"})}catch(e){console.error("Error pushing Quantcast event"),console.error(e)}"undefined"==typeof console&&(console={log:function(e){},error:function(e){},info:function(e){},table:function(e){}}),ProperMedia.ad_project=function(win,document){var $=ProperMedia.jquery.$,properSetTimeout=ProperMedia.utils.properSetTimeout,properSetInterval=ProperMedia.utils.properSetInterval,TraceKit=window.top.TraceKit;function sendError(e){try{e.stack||(e.stack=new Error("force-added stack").stack),e.name||(e.name="Unknown"),e.message||(e.message="Unknown")}catch(e){console.error("Error building error data"),console.error(e)}try{var t={client_timestamp:(new Date).getTime(),event_type:e.event_type||"exception",event_id:ProperMedia.utils.generateUUID(),page_id:ProperMedia.utils.generateUUID(),session_id:ProperMedia.utils.generateUUID(),bidder:e.bidder||"",user_id:ProperMedia.utils.validateValue(properUser.pubcid,{type:"string"}),publisher:ProperMedia.utils.validateValue(properOps.site_name,{type:"string",default_val:"unknown",max_len:40}),rtp_file_version:ProperMedia.utils.validateValue(properOps.rtp_file_version,{type:"string"}),ad_project_tag:ProperMedia.utils.validateValue(properOps.rtp_file_revision,{type:"string"}),page_url:ProperMedia.utils.getPageUrl()||"",in_iframe:!1,is_https:"https:"==document.location.protocol,user_agent:navigator.userAgent||"",stack_trace:JSON.stringify(e.stack),error_message:e.message.toString()||"",error_name:e.name.toString()||""};properPage.uuid&&""!==properPage.uuid&&(t.page_id=properPage.uuid),properSession&&properSession.sessionData&&properSession.sessionData.uuid&&""!==properSession.sessionData.uuid&&(t.session_id=properSession.sessionData.uuid),$.ajax({url:"https://events.proper.io/api/event",requestType:"fetch",method:"POST",data:JSON.stringify(t),withCredentials:!1,success:function(e){console.log("Proper exception logged successfully.")},error:function(){console.error("Unable to log Proper exception.")}})}catch(e){console.error("Error sending exception data"),console.error(e)}}TraceKit.report.subscribe(sendError),TraceKit.report.unsubscribe(TraceKit.defaultSendError);var storageObj=function(){var s=["core"];function e(){}return e.prototype.isValid=function({gvlid:e,moduleName:t,bidderCode:i,moduleType:r}){return-1!==s.indexOf(r)||!!gdprEnforcement.deviceAccessEnforcement(e,i||t)},e.prototype.setCookie=function(e,t,i,r,s,o){this.isValid(o)&&(o=s&&""!==s?" ;domain="+encodeURIComponent(s):"",s=i&&""!==i?" ;expires="+i:"",i=null!=r&&"none"==r.toLowerCase()?"; Secure":"",document.cookie=e+"="+encodeURIComponent(t)+s+";path=/"+o+(r?";SameSite="+r:"")+i)},e.prototype.deleteCookie=function(e,t,i,r){var s=new Date,s=(s.setTime(s.getTime()-6e4),s.toGMTString());this.setCookie(e,"",s,t,i,r)},e.prototype.getCookie=function(e,t){return this.isValid(t)&&(t=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)"))?decodeURIComponent(t[2]):null},e.prototype.localStorageIsEnabled=function(e){if(this.isValid(e))try{return localStorage.setItem("proper.cookieTest","1"),"1"===localStorage.getItem("proper.cookieTest")}catch(e){}finally{try{localStorage.removeItem("proper.cookieTest")}catch(e){}}return!1},e.prototype.cookiesAreEnabled=function(e){return!(!this.isValid(e)||!ProperMedia.utils.checkCookieSupport()&&(window.document.cookie="proper.cookieTest",-1===window.document.cookie.indexOf("proper.cookieTest")))},e.prototype.setDataInLocalStorage=function(e,t,i){this.isValid(i)&&this.hasLocalStorage(i)&&window.localStorage.setItem(e,t)},e.prototype.getDataFromLocalStorage=function(e,t){return this.isValid(t)&&this.hasLocalStorage(t)?window.localStorage.getItem(e):null},e.prototype.removeDataFromLocalStorage=function(e,t){this.isValid(t)&&this.hasLocalStorage(t)&&window.localStorage.removeItem(e)},e.prototype.hasLocalStorage=function(e){if(this.isValid(e))try{return!!window.localStorage}catch(e){properLog.mylog("Local storage api disabled")}return!1},e}(),ViewabilityTracker=(properStorage=new storageObj,function(){function e(){this.timer=null,this.elements={},this.supportsPassive=function(){try{var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});return window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t),e}catch(e){return sendError(TraceKit.computeStackTrace(e)),!1}}(),this.activeTab=!0,this.slotsInFetchZone=0,this.auctionCallback=null,consentManager.ready(function(){var t,i,e,r,s;this.start(),t=this,i="hidden",e=function(e){document[i]?t.stop():t.start()},r=function(){t.stop()},s=function(){t.start()},e=TraceKit.wrap(e),r=TraceKit.wrap(r),s=TraceKit.wrap(s),i in document?document.addEventListener("visibilitychange",e):(i="mozHidden")in document?document.addEventListener("mozvisibilitychange",e):(i="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",e):(i="msHidden")in document?document.addEventListener("msvisibilitychange",e):"onfocusin"in document?(document.onfocusin=s,document.onfocusout=r):"onpagehide"in window?(window.addEventListener("pagehide",r,!1),window.addEventListener("pageshow",s,!1)):"onblur"in window&&(window.onfocus=s,window.onblur=r)}.bind(this))}return e.prototype.addElement=function(e,t){e.lazyload&&e.fetchMarginPercent<e.renderMarginPercent&&(sendError(new Error("Lazyload Fetch Margin has to be greater than or equal to Render Margin")),e.fetchMarginPercent=e.renderMarginPercent);t={id:e.id,callback:t,lazyload:e.lazyload||!1,viewability:e.viewability||!0,autoDelete:e.autoDelete||!1,fetchMarginPercent:e.fetchMarginPercent||0,renderMarginPercent:e.renderMarginPercent||0,autoDeleteMarginPercent:e.autoDeleteMarginPercent||300,minHeight:e.minHeight||0,activeTab:!0,viewable:!1,inFetchZone:!1,inRenderZone:!1,inDeleteZone:!1};t.lazyload||this.incrementSlotsInFetchZone(),this.elements[e.id]=t,this.started&&this.runViewabilityCheck(t.id)},e.prototype.removeElement=function(e){this.elements[e]&&(this.killEntry(this.elements[e]),delete this.elements[e])},e.prototype.start=function(){this.activeTab=!0,this.updateElelemtsActiveTab();var e=new CustomEvent("properActiveTab");if(window.dispatchEvent(e),this.started)return!0;var t=this;this.timer=properSetInterval.setInterval.call(t,function(){Object.keys(t.elements).forEach(function(e){t.runViewabilityCheck(e)},t)},200),this.started=!0},e.prototype.stop=function(){clearInterval(this.timer),this.activeTab=!1,this.updateElelemtsActiveTab();var e=new CustomEvent("properInactiveTab");window.dispatchEvent(e),Object.keys(this.elements).forEach(function(e){this.killEntry(this.elements[e])},this),this.started=!1},e.prototype.updateElelemtsActiveTab=function(){Object.keys(this.elements).forEach(function(e){this.elements[e].activeTab=this.activeTab},this)},e.prototype.runViewabilityCheck=function(e,t){var i,e=this.elements[e]||!1;e&&(i=!1,e.viewability&&(i=function(e){var t=!1,i=e.viewable;if(e.element=e.element||document.getElementById(e.id),!e.element)return!1;var r=e.element.getBoundingClientRect();if(0==r.height&&0<r.top&&r.top<window.innerHeight&&0<r.left&&r.right<window.innerWidth)return!0;var s=r.width*r.height,o=Math.max(r.top,0),a=Math.min(r.bottom,window.innerHeight),n=Math.min(r.right,window.innerWidth),r=Math.max(r.left,0);i=o<a&&r<n&&(a=Math.abs(a-o)*Math.abs(n-r),.5<a/s);return t=i!=e.viewable,e.viewable=i,t}(e)),(i=e.lazyload||e.autoDelete?this.checkMargins(e)||i:i)||t)&&e.callback(e)},e.prototype.calculateViewablePercentage=function(e){e=e.getElement();if(null!==e){if("visible"!==window.top.document.visibilityState)return 0;var e=e.getBoundingClientRect(),t={};if(void 0!==e)return t.left=Math.max(e.left,0),t.right=Math.min(e.right,window.top.innerWidth),t.right<=t.left||(t.top=Math.max(e.top,0),t.bottom=Math.min(e.bottom,window.top.innerHeight),t.bottom<=t.top)?0:(t.width=t.right-t.left,t.height=t.bottom-t.top,t.width*t.height/(e.width*e.height)*100)}return 0},e.prototype.checkMargins=function(e){var t,i,r,s,o;return e.element=e.element||document.getElementById(e.id),!!e.element&&(o=e.element.getBoundingClientRect(),t=e.inFetchZone,i=e.inRenderZone,s=o.height||e.minHeight,r=!1,(o=o.top+s/2)>window.innerHeight?o-=window.innerHeight:o=o<0?(r=!0,Math.abs(o)):0,s=o/window.innerHeight*100,e.inDeleteZone=r&&e.autoDelete&&s>=e.autoDeleteMarginPercent,t=(s<=e.fetchMarginPercent||-1==e.fetchMarginPercent)&&!e.inDeleteZone,i=(s<=e.renderMarginPercent||-1==e.fetchMarginPercent)&&!e.inDeleteZone,o=t!=e.inFetchZone||i!=e.inRenderZone||e.inDeleteZone,t&&!e.inFetchZone?this.incrementSlotsInFetchZone():!t&&e.inFetchZone&&(this.slotsInFetchZone=Math.max(0,--this.slotsInFetchZone)),e.inFetchZone=t,e.inRenderZone=i,o)},e.prototype.killEntry=function(e){e.inFetchZone&&(this.slotsInFetchZone=Math.max(0,--this.slotsInFetchZone)),e.activeTab=!1,e.viewable=!1,e.inFetchZone=!1,e.inRenderZone=!1,e.callback(e)},e.prototype.setCallback=function(e){this.auctionCallback=e},e.prototype.incrementSlotsInFetchZone=function(){this.slotsInFetchZone++,ProperMedia.utils.isFn(this.auctionCallback)&&(this.auctionCallback(),this.auctionCallback.auctionCallback=null)},e}()),pageObj=function(){function e(){this.uuid=null,this.use_ssl=!1,this.protocol="http:",this.url="",this.domain="",this.path="",this.get_vars={},this.canonical_url="",this.takeover={bidder:"",logged:!1,price:0},this.bidder_page_url="",this.referrer="",this.isolated=0,this.width=0,this.height=0,this.post_id="",this.init_slots_build=0,this.slots={display:{},video:{},interstitial:{}},this.sra_settings={slot_queue:{},timeout_handler:null,timeout_ms:100},this.video_enabled=null,this.video_player_count={instream:{possible:[],onpage:[],inview:[]},outstream:{possible:[],onpage:[],inview:[]}},this.video_script_loaded=!1,this.dynamic_css_class="proper-dynamic-insertion",this.start_ts=0,this.dfp_init=!1,this.dfp_correlator=!1,this.dfp_enabled_services=!1,this.dont_send_bids=!1,this.viewability_tracker={},this.dynamic_ad_matches=[],this.spa_settings={enabled:!1,prefetch:!1,gallery_id:null,page_number:1,gallery_base_url:""},this.page_meta={category:"",editor:"",writer:"",buyer:"",page_type:"",split:"",tags:[],custom:{}},this.dfp_targeting={}}return e.prototype.init=function(){this.start_ts=ProperMedia.utils.getTimestampMs(),this.setBidPageUrl(),this.viewability_tracker=new ViewabilityTracker,properLog.mylog("width: "+this.width),properSession.init(),properLog.init_bid_data(),consentManager.ready(function(){this.initDfp(),this.buildSlots(),properSetTimeout.setTimeout.call(this,function(){this.buildSlots()},850),properAdPool.startNewAuction(),checkProperDebugConsole()}.bind(this))},e.prototype.setBidPageUrl=function(){this.spa_settings.enabled&&this.spa_settings.gallery_id&&this.spa_settings.gallery_base_url?this.bidder_page_url=this.spa_settings.gallery_base_url:this.bidder_page_url=this.url},e.prototype.setPageVariables=function(){this.uuid=ProperMedia.utils.generateUUID(),window.proper_ad_page_uuid=this.uuid,"https:"==document.location.protocol?(this.protocol="https:",this.use_ssl=!0):this.protocol="http:",this.url=ProperMedia.utils.getPageUrl(),this.path=ProperMedia.utils.getPagePath(),this.domain=ProperMedia.utils.getPageDomain(),this.root_domain=ProperMedia.utils.getRootDomain(),this.get_vars=ProperMedia.utils.getUrlParameters(window.location.search.substring(1)),this.referrer=ProperMedia.utils.getPageReferrer(),this.canonical_url=ProperMedia.utils.getCanonicalUrl(),this.width=$(window).width(),this.height=$(window).height(),this.takeover={bidder:"",logged:!1,price:0},this.checkDomainProtection(),this.checkProperTestMode(),this.checkPageIsolation(),this.loadBidderInitScripts(),this.setPageMeta(),this.setPostId(),this.setSPASettings(),this.setVideoEnabled(),this.setDynamicAdMatches()},e.prototype.loadBidderInitScripts=function(){consentManager.ready(function(){Object.keys(properOps.bidders).forEach(function(i){Object.keys(properOps.bidders[i]).forEach(function(e){var t=bidderToAdapterName(e);(properOps.testing_mode.enabled&&properOps.testing_mode.bidder==e||ProperMedia.utils.deepAccess(properOps,"bidders."+i+"."+e+".enabled"))&&"function"==typeof ProperMedia.utils.deepAccess(bidAdapters,t+".loadInitScripts")&&bidAdapters[t].loadInitScripts()})})})},e.prototype.getTimeOnPage=function(){return 0==this.start_ts?0:Date.now()-this.start_ts},e.prototype.incrementVideoPlayerCount=function(e,t){-1!==["instream","outstream"].indexOf(e.video_type)&&-1==this.video_player_count[e.video_type][t].indexOf(e.name)&&this.video_player_count[e.video_type][t].push(e.name)},e.prototype.decrementVideoPlayerCount=function(e,t){-1!==["instream","outstream"].indexOf(e.video_type)&&-1!==this.video_player_count[e.video_type][t].indexOf(e.name)&&this.video_player_count[e.video_type][t].splice(this.video_player_count[e.video_type][t].indexOf(e.name),1)},e.prototype.checkDomainProtection=function(){return properOps.domain_protection&&0==[properOps.domain].concat(properOps.additional_domains).filter(function(e){e=new RegExp("(^|\\.)"+e.replace(/(http(s)?:\/\/)?(www\.)?/,"")+"$");return this.domain.match(e)},this).length&&(properLog.mylog("WARNING: Domains don't match. Bids wont be sent out for this page"),this.dont_send_bids=!0),this.dont_send_bids},e.prototype.checkProperTestMode=function(){void 0!==this.get_vars.proper_test&&""!==this.get_vars.proper_test?(properOps.testing_mode.bidder=this.get_vars.proper_test,properOps.testing_mode.ids=!0):(void 0!==this.get_vars.proper_bidder&&""!==this.get_vars.proper_bidder&&(properOps.testing_mode.bidder=this.get_vars.proper_bidder),void 0!==this.get_vars.proper_test_ids&&""!==this.get_vars.proper_test_ids&&(properOps.testing_mode.ids=!0)),(properOps.testing_mode.bidder||properOps.testing_mode.ids)&&(properLog.mylog("TESTING MODE"),properOps.testing_mode.enabled=!0,properOps.refresh.desktop.enabled=0,properOps.refresh.mobile.enabled=0)},e.prototype.checkPageIsolation=function(){if((this.isolated=0)<properOps.isolated_urls.length)for(var e=0;e<properOps.isolated_urls.length;e++){var t=properOps.isolated_urls[e];if(t&&this.path==t){this.isolated=1;break}}0!=this.isolated||!properOps.testing_mode.bidder&&!properOps.testing_mode.ids||ProperMedia.utils.deepAccess(this,"get_vars.proper_dfp")||(this.isolated=1),void 0!==properSpecialOps.isolated&&0==this.isolated&&(this.isolated=properSpecialOps.isolated),consentManager.ready(function(){properLog.mylog("CMP resolved GDPR: Applies: "+gdprConsent.gdprApplies+", Consent String: "+gdprConsent.consentString),properLog.mylog("CMP resolved USPC: Applies: "+uspConsent.cmpApplies+", Consent String: "+uspConsent.usPrivacy),properLog.mylog("CMP resolved GPP: Applies: "+gppConsent.gppApplies+", Consent String: "+gppConsent.gppString),gdprEnforcement.makeBidRequestEnforcement("gam")||(this.isolated=1,properLog.mylog("Isolated mode due to consent"))}.bind(this))},e.prototype.setPageMeta=function(){this.page_meta=ProperMedia.utils.mergeDeep({},{category:"",editor:"",writer:"",buyer:"",page_type:"",split:"",tags:[],dfp_kv:{},custom:{set_as_kv_to_gam:!1,dimension_1:"",dimension_2:"",dimension_3:"",dimension_4:"",dimension_5:"",dimension_6:"",dimension_7:"",dimension_8:"",dimension_9:"",dimension_10:""}},properSpecialOps.page_meta||{}),properOps.default_tags&&properOps.default_tags.length&&(this.page_meta.tags=this.page_meta.tags.concat(properOps.default_tags)),properSpecialOps.tags&&properSpecialOps.tags.length&&(this.page_meta.tags=this.page_meta.tags.concat(properSpecialOps.tags)),properSpecialOps.customGamKeyValues&&Object.keys(properSpecialOps.customGamKeyValues).length&&(this.page_meta.dfp_kv=ProperMedia.utils.mergeObject({},properSpecialOps.customGamKeyValues,this.page_meta.dfp_kv))},e.prototype.setPostId=function(){properOps.post_id=(void 0!==properSpecialOps.post_id&&null!=properSpecialOps.post_id?properSpecialOps:properOps).post_id,this.post_id=properOps.post_id},e.prototype.setSPASettings=function(){ProperMedia.utils.mergeObject(this.spa_settings,ProperMedia.utils.deepCopy(properSpecialOps.spa_settings))},e.prototype.setVideoEnabled=function(){this.video_enabled=void 0!==properSpecialOps.video_enabled?!!properSpecialOps.video_enabled:this.video_enabled},e.prototype.loadVideoPlayerScript=function(){var e;!0===this.video_enabled&&0==this.video_script_loaded&&void 0===window.ProperMediaVideo&&(window.propervideotag=window.propervideotag||[],(e=document.createElement("script")).src="https://player.propervideo.io/new_rtp/main.js",e.async=!0,window.top.document.getElementsByTagName("head")[0].appendChild(e)),this.video_script_loaded=!0},e.prototype.buildSlots=function(){for(a in Object.keys(properOps.ad_slots).reverse().forEach(function(t){Object.keys(properOps.ad_slots[t]).forEach(function(e){"dynamic"!=t&&this.buildSlot(t,e)},this)},this),this.dynamic_ad_matches)this.buildSlot("dynamic",this.dynamic_ad_matches[a]);this.init_slots_build=1},e.prototype.buildSlot=function(e,t,i={is_flex:!1}){let r=null;var s=i.is_flex?i.dfp_name:t;if(e&&t){var o,a=properDevice.isMobile()?"mobile":"desktop",n=ProperMedia.utils.deepCopy(ProperMedia.utils.deepAccess(properOps,`ad_slots.${e}.`+s)||{}),d={...ProperMedia.utils.deepAccess(n,"dynamic."+a)||{enabled:!1}};if(i.is_flex&&!properDevice.isMobile()&&(d=ProperMedia.utils.mergeObject(d,{enabled:!0,cssselector:`#${t}_flex`,cssplacement:"append"}),t=properOps?.site_name+"_dynamic_flex",l=(o={...properOps?.ad_slots?.display?.[t]||{dynamic:{desktop:{enabled:!0}}}}).dynamic?.desktop?.instances||0,ProperMedia.utils.mergeDeep(o.dynamic?.[a],d),ProperMedia.utils.deepSetValue(o,`dynamic.${a}.instances`,l),ProperMedia.utils.mergeDeep(n,o),n.allowed_size=i.allowed_size,n.is_flex=!0,d=ProperMedia.utils.deepAccess(n,"dynamic."+a)),d.enabled){var p=[],l=d.cssselector+":not(."+this.dynamic_css_class+")",c=document.querySelectorAll(l);if(c&&0<c.length)for(var u=0;u<c.length;u++){var g=c[u],m=`ad_slots.${e}.${s}.dynamic.${a}.instances`;d.instances=(ProperMedia.utils.deepAccess(properOps,m)||0)+1,ProperMedia.utils.deepSetValue(properOps,m,d.instances),(void 0===d.max_instances||d.instances<=parseInt(d.max_instances))&&(n.is_flex&&(n.parent_name=i.dfp_name,n.flex_ad=i.flex_ads.shift()),m=ProperMedia.utils.deepCopy(n),ProperMedia.utils.deepSetValue(m,"dynamic."+a+".instance_number",d.instances),p.push(new slotObj("video"==e?"video":"display",t,m,g)))}return p}r=ProperMedia.utils.deepAccess(this,"slots."+e+"."+t)?ProperMedia.utils.deepAccess(this,"slots."+e+"."+t):new slotObj(e,t,n)}return r},e.prototype.rebuildSlots=function(i){i=i??[],Object.keys(this.slots).forEach(function(t){Object.keys(this.slots[t]).forEach(function(e){i&&i.includes(e)||(e=this.getSlotFromPageObject(e,[t]))&&e.getElement()&&e.rebuildSlot()},this)},this),this.buildSlots()},e.prototype.updateDpfPageTargeting=function(){0==this.isolated&&1==this.dfp_init&&googletag.cmd.push(function(){properOps.dfp_per_slot?Object.keys(this.slots.display).length&&Object.keys(this.slots.display).forEach(function(e){e=this.slots.display[e];e.googletag().pubads()&&setDfpPageTargeting(e.googletag().pubads())}.bind(this)):setDfpPageTargeting(googletag.pubads())}.bind(this))},e.prototype.SpaNextPage=function(){properLog.mylog("========== New SPA Page =========="),this.newPageView(),this.init_slots_build=0,this.rebuildSlots([]),properSetTimeout.setTimeout.call(this,function(){this.buildSlots()},850),properAdPool.startNewAuction()},e.prototype.newPageView=function(){var e=new CustomEvent("properNewPageview"),e=(window.dispatchEvent(e),this.getTimeOnPage());properLog.mylog("Time on page: "+e),this.spa_settings.page_number++,this.start_ts=ProperMedia.utils.getTimestampMs(),this.setPageVariables(),!ProperMedia.utils.deepAccess(this.spa_settings,"enabled")||ProperMedia.utils.deepAccess(this.spa_settings,"gallery_id")&&ProperMedia.utils.deepAccess(properSpecialOps,"spa_settings.gallery_id")&&ProperMedia.utils.deepAccess(this.spa_settings,"gallery_id")===ProperMedia.utils.deepAccess(properSpecialOps,"spa_settings.gallery_id")?properAdPool.clearExpiredAds():properAdPool.clearCachedAds(),this.setBidPageUrl(),properSession.init(),properLog.init_bid_data(),properAdPool.auction_count=0,properAdPool.vid_auction_count=0,this.updateDpfPageTargeting()},e.prototype.InfScrollNextPage=function(){properLog.mylog("========== New Infinite Scroll Page =========="),this.newPageView(),this.init_slots_build=0,this.buildSlots(),properSetTimeout.setTimeout.call(this,function(){this.buildSlots()},850),properAdPool.startNewAuction()},e.prototype.initDfp=function(){if(1==this.dfp_init||1==properPage.isolated||1==properOps.dfp_per_slot)return!1;var e,t;ProperMedia.utils.deepAccess(properOps,"confiant.enabled")||ProperMedia.utils.deepAccess(properSpecialOps,"confiant.enabled")?confiantWrapper.loadDFPTag(window):(ProperMedia.utils.deepAccess(properOps,"adlightning.enabled")||ProperMedia.utils.deepAccess(properSpecialOps,"adlightning.enabled"))&&adLightningWrapper.loadDFPTag(window),googletag._loadStarted_||((e=document.createElement("script")).async=!0,e.type="text/javascript",t="https:"==document.location.protocol,e.src=(t?"https:":"http:")+"//securepubads.g.doubleclick.net/tag/js/gpt.js",(t=document.getElementsByTagName("script")[0]).parentNode.insertBefore(e,t)),googletag.cmd.push(function(){gdprEnforcement.deviceAccessEnforcement(755,"gam")&&gdprConsentModule.hasPurpose4Consent()||(properLog.mylog("DFP: disable personalized GPT ads"),googletag.pubads().setPrivacySettings({nonPersonalizedAds:!0})),uspConsent.restrictDataProcessing&&googletag.pubads().setPrivacySettings({restrictDataProcessing:!0}),googletag.pubads().addEventListener("slotOnload",function(e){var t=ProperMedia.utils.extractSlotName(e.slot.getSlotElementId()),e=e.slot.getAdUnitPath(),e=properPage.getSlotFromPageObject(t)||properPage.getSlotFromPageObjectByAdUnitPath(e);properLog.mylog("DFP slotOnload: "+t),e&&e.dispatchCustomEvent("proper-ads-fired",{cpm:ProperMedia.utils.deepAccess(e,"displayed_ad.price"),size:ProperMedia.utils.deepAccess(e,"displayed_ad.size"),ad_type:e.ad_type})}),googletag.pubads().addEventListener("impressionViewable",function(e){var t=ProperMedia.utils.extractSlotName(e.slot.getSlotElementId()),e=e.slot.getAdUnitPath(),e=properPage.getSlotFromPageObject(t)||properPage.getSlotFromPageObjectByAdUnitPath(e);properLog.mylog("DFP impressionViewable: "+t),e&&(e.interstitial&&proper_render_dfp_interstitial(e),e.dispatchCustomEvent("proper-impression-viewable",{cpm:ProperMedia.utils.deepAccess(e,"displayed_ad.price"),size:ProperMedia.utils.deepAccess(e,"displayed_ad.size"),ad_type:e.ad_type}))}),googletag.pubads().addEventListener("slotRenderEnded",TraceKit.wrap(function(e){var t=ProperMedia.utils.extractSlotName(e.slot.getSlotElementId()),i=e.slot.getAdUnitPath(),i=properPage.getSlotFromPageObject(t)||properPage.getSlotFromPageObjectByAdUnitPath(i);properLog.mylog("DFP slotRenderEnded: "+t),i&&(i.tracking_times.dfp_returned_ts=ProperMedia.utils.getTimestampMs(),i.interstitial?0==e.isEmpty&&proper_render_dfp(i.name,e):(e.advertiserId!=properOps.proper_advertiser&&e.advertiserId!=properOps.amazon_advertiser&&(e.isEmpty?proper_render(i.getElement(),i.number,1):(proper_render_dfp(i.name,e),proper_inview(e.isEmpty,i.name,e.size.join("x"),e.creativeId,e.lineItemId,e.advertiserId))),(!i.sticky&&ProperMedia.utils.deepAccess(properSpecialOps,"adlightning.enabled")&&ProperMedia.utils.deepAccess(properSpecialOps,"adlightning.reportAd")||ProperMedia.utils.deepAccess(properOps,"adlightning.enabled")&&ProperMedia.utils.deepAccess(properOps,"adlightning.reportAd"))&&adLightningWrapper.addReportAd(e)))})),googletag.pubads().addEventListener("slotOnload",TraceKit.wrap(function(e){let t;try{t=ProperMedia.utils.extractSlotName(e.slot.getSlotElementId());var i,r=e.slot.getAdUnitPath(),s=properPage.getSlotFromPageObject(t)||properPage.getSlotFromPageObjectByAdUnitPath(r);properLog.mylog("DFP slotOnload: "+t),s&&window.top.document.getElementById(s.dfpIframeId)&&(i=window.top.document.getElementById(s.dfpIframeId).contentWindow.document)&&(i.getElementById("common_15click_overlay")||i.getElementById("common_15click_anchor"))&&sendError(new Error("Detected Google Confirmed Click: "+s.dfp_name+" | "+ProperMedia.utils.deepAccess(s,"displayed_ad.size")))}catch(e){properLog.mylog("Error Detecting Google Confirmed Click: "+t)}})),setDfpPageTargeting(googletag.pubads()),googletag.pubads().setPrivacySettings({childDirectedTreatment:!!ProperMedia.utils.deepAccess(properSpecialOps,"coppa")}),googletag.pubads().disableInitialLoad(),googletag.pubads().setPublisherProvidedId(properUser.pubcid),googletag.pubads().enableSingleRequest(),googletag.enableServices(),this.dfp_enabled_services=!0}.bind(this)),this.dfp_init=1},e.prototype.dfpSraCall=function(){googletag.cmd.push(function(){var t;clearTimeout(this.sra_settings.timeout_handler),this.sra_settings.timeout_handler=null,0<Object.keys(this.sra_settings.slot_queue).length&&(1==properSpecialOps.update_correlator&&0==this.dfp_correlator&&1<this.spa_settings.page_number&&(googletag.pubads().updateCorrelator(),this.dfp_correlator=!0,properLog.mylog("Correlator updated for page: "+this.spa_settings.page_number)),t=[],Object.keys(this.sra_settings.slot_queue).forEach(function(e){e=this.sra_settings.slot_queue[e];t.push(e.dfp_slot),e.tracking_times.dfp_sent_ts=ProperMedia.utils.getTimestampMs(),properLog.mylog("DFP refresh called: "+e.name),e.dfp_refreshed=1,e.auction_send_complete=!0},this),this.sra_settings.slot_queue={},googletag.pubads().refresh(t))}.bind(this))},e.prototype.getSlotFromPageObject=function(t,e){var i=null;return(e=e||Object.keys(this.slots)||["display","video","interstitial"]).every(function(e){return!this.slots[e][t]||(i=this.slots[e][t],!1)},this),i},e.prototype.getSlotFromPageObjectByAdUnitPath=function(i,e){var r=null;return(e=e||Object.keys(this.slots)||["display","video","interstitial"]).every(function(t){return!r&&this.slots[t]&&Object.keys(this.slots[t])&&Object.keys(this.slots[t]).every(function(e){return!(!r&&this.slots[t][e].dfpAdUnitPath==i&&(r=this.slots[t][e],1))},this),!r},this),r},e.prototype.getSlotByNumber=function(i,e){var r=null;return(e=e||Object.keys(this.slots)).every(function(t){return Object.keys(this.slots[t]).every(function(e){e=this.slots[t][e];return e.number!=i||(r=e,!1)},this),!r},this),r},e.prototype.getSlotFromPageObjectByDfpName=function(i,e){try{var r=!1;return(e=e||Object.keys(this.slots)||["display","video","interstitial"]).every(function(t){return!(r=Object.keys(this.slots[t]).some(function(e){return this.slots[t][e].dfp_name==i},this))},this),r}catch(e){return!1}},e.prototype.deleteDynamicSlots=function(e){(e=e||Object.keys(this.slots)).forEach(function(r){this.slots[r]&&Object.keys(this.slots[r]).length&&Object.keys(this.slots[r]).forEach(function(e){e=this.slots[r][e];if(ProperMedia.utils.deepAccess(e,"dynamic.enabled")){e.deleteSlot(!0);var e=ProperMedia.utils.deepAccess(e,"dynamic.cssselector")+"."+this.dynamic_css_class,t=document.querySelectorAll(e);if(t&&0<t.length)for(var i=0;i<t.length;i++)t[i].classList.remove(this.dynamic_css_class)}},this)},this)},e.prototype.resetDynamicSlotInstanceCount=function(e){e=e||Object.keys(this.slots);const i=properDevice.isMobile()?"mobile":"desktop";e.forEach(function(t){properOps.ad_slots[t]&&Object.keys(properOps.ad_slots[t]).length&&Object.keys(properOps.ad_slots[t]).forEach(function(e){ProperMedia.utils.deepAccess(properOps,"ad_slots."+t+"."+e+".dynamic."+i+".instances")&&ProperMedia.utils.deepSetValue(properOps,"ad_slots."+t+"."+e+".dynamic."+i+".instances",0)},this)},this)},e.prototype.setDynamicAdMatches=function(){var e=[],t=!!(i=this.url.substr(this.url.indexOf(this.domain)+this.domain.length,this.url.length-1).replace(window.location.hash,"")).includes("?")&&i.split("?")[1],i=t?i.split("?")[0]:i;for(group in properOps.page_groups){var r=!1,s=properOps.page_groups[group];for(url in s.url_matches)(i==s.url_matches[url]||-1<s.url_matches[url].indexOf("*")&&1+i.search(s.url_matches[url].split("/").join("/").split("=").join("\\=").split("*").join(".*")))&&(r=!0);if(r){for(url in s.url_exclude)(i==s.url_exclude[url]||-1<s.url_exclude[url].indexOf("*")&&1+i.search(s.url_exclude[url].split("/").join("/").split("=").join("\\=").split("*").join(".*")))&&(r=!1);if(r&&(e=e.concat(s.ads)),t)for(utm_group in s.url_mods)for(utm in s.url_mods[utm_group].conditions)1+t.search(s.url_mods[utm_group].conditions[utm])&&(e=e.concat(s.url_mods[utm_group].extra_ads))}}this.dynamic_ad_matches=e},e}(),slotObj=function(){function e(e,t,i,r){this.name="",this.dfp_name="",this.number=0,this.dfp_id=0,this.mcm_type="mcm",this.location="unknown",this.type="",this.div_id="",this.max_tier=0,this.size="0x0",this.sizes=[],this.defined_sizes=[],this.default_size=[0,0],this.min_width=0,this.min_height=0,this.specified_min_height=!1,this.interstitial=!1,this.last_displayed_ts=0,this.dfp_slot={},this.dfp_init=0,this.dfp_ready=0,this.dfp_sent=0,this.dfp_refreshed=0,this.google_tag=null,this.mapped_dfp_sizes=0,this.dfp_enabled_services=!1,this.auction_send_complete=!1,this.winning_ad={},this.displayed_ad={},this.displayed=0,this.delay_handle=null,this.auction_started_ts=null,this.max_timeout_handle=null,this.max_timeout_met=!1,this.max_timeout=1200,this.wait_interval=50,this.wait_interval_handle=null,this.min_time_on_page=2e3,this.rebuild_timeout_handle=null,this.exclude_advertiser=[],this.advertiserId=0,this.report_ad_tool=0,this.video_player=null,this.video_type="",this.ad_types=[],this.adl_blocked=!1,this.disable_adx=!1,this.gamTargeting={},this.customGamTargeting=[],this.url_restricted={values:[],enabled:!1},this.page_restricted_depth={enabled:!1},this.url_rules=[],this.is_flex_slot=!1,this.parent_name="",this.flex_enabled=!1,this.flex_ads=[],this.flex_map=null,this.flex_names=null,this.sticky=0,this.slider=0,this.sticky_settings={brand:0,close_btn:0,disable_on_close:0,freq_cap_enabled:0,freq_cap:0,position:"right"},this.slider_settings={close_button:!0,adjustment_size:.7,breakpoint:480,location:{desktop:["right","bottom"],mobile:["right","bottom"]},keep_on_close:!1},this.scrollable={enabled:!1,percentage:10,dynamic_occurences:{enabled:!1,incidences_to_target:[]}},this.refresh={enabled:0,max:5,count:0,interval:6e4,min_interval:15e3,current_interval:6e4,inview_interval:15e3,exclude_dfp:0},this.floors={backup:.15,sizes:{}},this.lazyload={enabled:1,inFetchZone:!1,inRenderZone:!1,fetchMarginPercent:0,renderMarginPercent:0},this.autoDelete={enabled:!1,inDeleteZone:!1,autoDeleteMarginPercent:200},this.viewability={viewable:!1,activeTab:!0,entered_inview_ts:0,total_time_inview:0},this.dynamic={enabled:!1,cssplacement:"after",cssselector:"",instance_number:0,child_name:"",css_ad:"",css_page:""},this.tracking_times={built_ts:0,bids_ready_ts:0,dfp_sent_ts:0,dfp_returned_ts:0,creative_on_page:0},this.advertisement_disclosure={enabled:!1,location:"below"},this.kill_slot=!1,this.buildSlot(e,t,i,r)}return e.prototype.getElement=function(){return(this.iframe_window||top).document.getElementById(this.div_id)},e.prototype.addFlexWrapper=function(e){var t=document.createElement("div");t.classList.add("proper-flex-wrapper"),e.parentNode.insertBefore(t,e),t.appendChild(e)},e.prototype.addFlexSlot=function(t){var e=this.getElement(),i=this.name+"_flex",r=this.flex_map[t],s=Math.floor(100/r);if(e&&1<r){var o=this.getFlexWrapper();if(o.className.includes("proper-flex-wrapper")){for(let e=1;e<r;e++){var a=document.createElement("div");a.id=i,a.classList.add("proper-flex"),o.appendChild(a)}for(const n of o.children)n.classList.add("proper-flex"),n.style=`min-width: ${s}%`;propertag.cmd.push(function(){properLog.mylog("Adding Flex Slot "+this.name);var e=properPage.buildSlot(this.type,this.name,{is_flex:!0,allowed_size:t,dfp_name:this.dfp_name,flex_ads:this.flex_ads});this.flex_names=e.map(e=>e.name)}.bind(this))}}},e.prototype.hasFlexSlot=function(){return!!this.flex_names&&0<this.flex_names.length},e.prototype.removeFlexSlot=function(){for(const i of this.flex_names){var e=properPage.getSlotFromPageObject(i);e?(properLog.mylog("Removing flex slot: "+i),e?.clearWinningBid(),e?.deleteSlot(!0)):properLog.mylog(`Flex slot not found for ${i}!`)}var t=this.getElement();$(t?.parentNode).removeClass("proper-flex"),$(t?.parentNode).removeStyle(),this.flex_names.length=0},e.prototype.clearFlexBid=function(){if(this.hasFlexBids()){for(const e of this.flex_ads)0!=e.displayed||e.checkIfExpired()||properAdPool.addBidToPool(e);this.flex_ads.length=0}},e.prototype.getFlexWrapper=function(){let e=this.getElement(),t=0;for(;!e?.className.includes("proper-flex-wrapper")&&t<7;)e=e.parentNode,t++;return e},e.prototype.getContentDocument=function(){return this.iframe_window?this.iframe_window.document:this.iframe_id?window.top.document.getElementById(this.iframe_id).contentDocument:window.top.document.getElementById(this.properIframeId)?window.top.document.getElementById(this.properIframeId).contentDocument:window.top.document},e.prototype.setStickySettings=function(e){try{var t;this.sticky&&(t=ProperMedia.utils.mergeObject({},this.sticky_settings,e.sticky_settings||{}),this.sticky_settings=ProperMedia.utils.deepCopy(t))}catch(e){return properLog.mylog("Error setting sticky settings: "+this.name),!1}return!0},e.prototype.setSliderSettings=function(e){try{var t;this.slider&&(t=ProperMedia.utils.mergeObject({},this.slider_settings,e.slider_settings||{}),this.slider_settings=ProperMedia.utils.deepCopy(t))}catch(e){return properLog.mylog("Error setting slider settings: "+this.name),!1}return!0},e.prototype.setScrollableSettings=function(e){try{var t;"display"==this.type&&(t=ProperMedia.utils.mergeObject({},this.scrollable,e.scrollable||{}),this.scrollable=ProperMedia.utils.deepCopy(t))}catch(e){return properLog.mylog("Error setting scrollable settings: "+this.name),!1}return!0},e.prototype.setScrollableElemHeight=function(){try{var e,t,i=parseInt(properPage.height*(parseInt(this.scrollable.percentage)/100));"display"==this.type&&properDevice.isMobile()&&this.scrollable.enabled&&0<parseInt(this.scrollable.percentage)&&i>this.max_height&&(e=window.top.document.getElementById(this.div_id))&&-1!==e.parentNode.className.indexOf(properOps.slot_wrapper_class)&&((t=e.parentNode).style="min-height: "+i+"px;",t.className+=" in-content-slider-cont",e.className+=" in-content-slider-unit")}catch(e){properLog.mylog("Error setting scrollable elem height: "+this.name)}},e.prototype.setRefresh=function(e){try{var t=properDevice.isMobile()?"mobile":"desktop",i=e.refresh&&e.refresh[t]?e.refresh[t]:{},r=ProperMedia.utils.mergeObject({},this.refresh,properOps.refresh[t],i);(properUser.checkAdBlockDetected()||this.is_flex_slot)&&(r.enabled=0),this.refresh=ProperMedia.utils.deepCopy(r)}catch(e){return properLog.mylog("Error setting refresh settings: "+this.name),!1}return!0},e.prototype.setLazyload=function(e){try{var t=properDevice.isMobile()?"mobile":"desktop",i=e.lazyload&&e.lazyload[t]?e.lazyload[t]:{},r=ProperMedia.utils.mergeObject({},this.lazyload,properOps.lazyload[t],i);this.lazyload=ProperMedia.utils.deepCopy(r),this.sticky&&(this.lazyload.enabled=!1)}catch(e){return properLog.mylog("Error setting lazy-load settings: "+this.name),!1}return!0},e.prototype.setAutoDelete=function(e){try{var t=properDevice.isMobile()?"mobile":"desktop",i=ProperMedia.utils.deepAccess(e,"autoDelete."+t)||{},r=ProperMedia.utils.mergeObject({},this.autoDelete,properOps.autoDelete[t],i);this.autoDelete=ProperMedia.utils.deepCopy(r),this.sticky&&(this.autoDelete.enabled=!1)}catch(e){return properLog.mylog("Error setting auto delete settings: "+this.name),!1}return!0},e.prototype.setPageRestrictions=function(e){try{var t=ProperMedia.utils.deepAccess(e,"page_restricted_depth")||{},i=ProperMedia.utils.mergeObject({},this.page_restricted_depth,t),r=(this.page_restricted_depth=ProperMedia.utils.deepCopy(i),ProperMedia.utils.deepAccess(e,"url_restricted")||{}),s=ProperMedia.utils.mergeObject({},this.url_restricted,r);this.url_restricted=ProperMedia.utils.deepCopy(s)}catch(e){return properLog.mylog("Error setting page restriction settings: "+this.name),!1}return!0},e.prototype.setUrlandPageviewRules=function(e){try{var t=ProperMedia.utils.deepAccess(e,"url_rules")||[],i=(ProperMedia.utils.isStr(t)&&(t=ProperMedia.utils.deepAccess(properOps,"ad_slots.display."+t+".url_rules")||[],ProperMedia.utils.isArray(t)||(t=[])),t||this.url_rules);this.url_rules=ProperMedia.utils.deepCopy(i)}catch(e){return properLog.mylog("Error setting slot url rules: "+this.name),!1}return!0},e.prototype.setFloors=function(e){try{var t=properDevice.isMobile()?"mobile":"desktop",i=e.floors&&e.floors[t]?e.floors[t]:{},r=ProperMedia.utils.mergeObject({},this.floors,properOps.floors[t],i);this.floors=ProperMedia.utils.deepCopy(r)}catch(e){return properLog.mylog("Error setting floors settings: "+this.name),!1}return!0},e.prototype.setDynamic=function(e){try{var t=properDevice.isMobile()?"mobile":"desktop",i=e.dynamic&&e.dynamic[t]?e.dynamic[t]:{},r=ProperMedia.utils.mergeObject({},this.dynamic,i);this.dynamic=ProperMedia.utils.deepCopy(r)}catch(e){return properLog.mylog("Error setting dynamic settings: "+this.name),!1}return!0},e.prototype.setAdvertisementDisclosure=function(e){try{var t=ProperMedia.utils.mergeObject({},this.advertisement_disclosure,properOps.advertisement_disclosure,e.advertisement_disclosure||{});this.advertisement_disclosure=ProperMedia.utils.deepCopy(t)}catch(e){return properLog.mylog("Error setting Advertisement Disclosure settings: "+this.name),!1}return!0},e.prototype.getFloor=function(e){e=this.floors.sizes[e]||this.floors.backup||0;return parseFloat(e)},e.prototype.checkVideoInviewLimit=function(){return"outstream"==this.video_type&&(!properOps.video_limit.enabled||properOps.video_limit.outstream_inview_limit<properPage.video_player_count.outstream.inview.length)},e.prototype.checkStickyFreqCapMet=function(){return!(1!=this.sticky||!(this.sticky_settings.disable_on_close&&1==properUser.stickyFreqCapHandler.getStickyClosedCookie()||this.sticky_settings.freq_cap_enabled&&properUser.stickyFreqCapHandler.getStickyUnitImps()>=this.sticky_settings.freq_cap))},e.prototype.checkPageDepthRestriction=function(){return!!(this.page_restricted_depth.enabled&&"is_greater"==this.page_restricted_depth.qualifier&&properSession.sessionData.depth>parseInt(this.page_restricted_depth.page)||"is_lesser"==this.page_restricted_depth.qualifier&&properSession.sessionData.depth<parseInt(this.page_restricted_depth.page))},e.prototype.checkUrlRestriction=function(){var e=!1;if(this.url_restricted.enabled&&this.url_restricted.values.length)for(var e=!0,t=0;t<this.url_restricted.values.length;t++){var i=this.url_restricted.values[t],r=new RegExp(i.url_value);if((!i.url_value||!i.qualifier||"contains"==i.qualifier&&properPage.url.match(r)||"does_not_contain"==i.qualifier&&!properPage.url.match(r))&&(!i.page_depth||!i.page_depth_qualifier||"is_lesser"==i.page_depth_qualifier&&properSession.sessionData.depth<parseInt(i.page_depth)||"is_greater"==i.page_depth_qualifier&&properSession.sessionData.depth>parseInt(i.page_depth))){e=!1;break}}return e},e.prototype.checkUrlAndPageviewRules=function(){if(!this.url_rules[0])return!1;for(var e of this.url_rules){var t,i=0;for(t of e){var r,s=t.condition;for(r of ProperMedia.utils.isStr(t.parameter)?t.parameter.replace(/\s+/g,"").split(","):[t.parameter]){if("is"==s&&properPage.path==r){i++;break}if("is_not"==s&&properPage.path!=r){i++;break}if("contains"==s&&-1!=properPage.path.indexOf(r)){i++;break}if("does_not_contain"==s&&-1==properPage.path.indexOf(r)){i++;break}if("has_parameter"==s){var[o,a]=r.split("=");ProperMedia.utils.deepAccess(properPage,"get_vars."+o)==a&&i++;break}if("does_not_have_parameter"==s){var[o,a]=r.split("=");ProperMedia.utils.deepAccess(properPage,"get_vars."+o)!==a&&i++;break}if("pageviews_greater"==s&&properSession.sessionData.depth>r){i++;break}if("pageviews_lesser"==s&&properSession.sessionData.depth<r){i++;break}}}if(i==e.length)return!1}return properLog.mylog("Slot does not meet Url And Pageview Rules: "+this.name),!0},e.prototype.setViewabilityTracker=function(){var e={id:this.div_id,lazyload:this.lazyload.enabled,viewability:!0,fetchMarginPercent:this.lazyload.fetchMarginPercent,renderMarginPercent:this.lazyload.renderMarginPercent,minHeight:this.min_height,autoDelete:this.autoDelete.enabled,autoDeleteMarginPercent:this.autoDelete.autoDeleteMarginPercent};properPage.viewability_tracker.addElement(e,this.viewabilityChange.bind(this))},e.prototype.insertDynamicSlot=function(e,t){var i=document.createElement("div"),r=document.createElement("div"),s=(i.className=properOps.slot_wrapper_class,r.id="proper-ad-"+this.name,this.sticky?(i.className+=" ad-sticky",i.style="display: none;"):"display"==this.type&&properDevice.isMobile()&&this.scrollable.enabled&&0<parseInt(this.scrollable.percentage)&&(s=ProperMedia.utils.deepAccess(this.scrollable,"dynamic_occurences.incidences_to_target")||[],ProperMedia.utils.deepAccess(this.scrollable,"dynamic_occurences.enabled")&&-1===s.indexOf(this.dynamic.instance_number)||(s=parseInt(properPage.height*(parseInt(this.scrollable.percentage)/100)))>this.max_height&&(i.style="min-height: "+s+"px;",i.className+=" in-content-slider-cont",r.className+=" in-content-slider-unit")),e.getAttribute("data-gamTargetingKey")||""),o=e.getAttribute("data-gamTargetingValue")||"";s&&r.setAttribute("data-gamTargetingKey",s),o&&r.setAttribute("data-gamTargetingValue",o),""!=this.dynamic.css_ad&&(i.style+=this.dynamic.css_ad),""!=this.dynamic.css_page&&(head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style"),head.appendChild(style),style.type="text/css",style.styleSheet?style.styleSheet.cssText=this.dynamic.css_page:style.appendChild(document.createTextNode(this.dynamic.css_page))),this.flex_enabled&&this.addFlexWrapper(e),"after"==t?e.parentNode.insertBefore(i,e.nextSibling):"before"==t?e.parentNode.insertBefore(i,e):"append"==t?e.appendChild(i):"prepend"==t&&(e.childNodes&&0<e.childNodes.length?e.insertBefore(i,e.childNodes[0]):e.appendChild(i)),i.appendChild(r),$(e).addClass(properPage.dynamic_css_class)},e.prototype.getGamTargetingAttr=function(){var e,t=this.getElement();t&&(e=t.getAttribute("data-gamTargetingKey")||"tags",t=t.getAttribute("data-gamTargetingValue")??void 0,void 0!==(t=ProperMedia.utils.isStr(t)&&t.includes(",")?t.split(","):t))&&""!==t&&(this.gamTargeting={key:e,value:t})},e.prototype.buildSlot=function(e,t,i,r){if(this.type=e||"display",this.name=t,this.dfp_name=t,this.parent_name=i.parent_name,this.number=i.number||0,this.location=i.location||"unknown",this.sticky=i.sticky||0,this.slider=i.slider||0,this.min_height=i.min_height||0,this.max_height=i.max_height||0,this.specified_min_height=!!i.min_height,this.is_flex_slot=!!i.is_flex,this.flex_enabled=!this.is_flex_slot&&i.flex||!1,this.size_map=i.resolution_size_map||{},this.mcm_type=i.mcm_type||properOps.mcm_type,this.dfp_id="mcm"==this.mcm_type&&properOps.proper_dfp_id!==properOps.dfp_id?properOps.proper_dfp_id+","+properOps.dfp_id:properOps.dfp_id,this.div_id="display"==this.type?"proper-ad-"+this.name:this.name,this.dfpAdUnitPath="/"+this.dfp_id+"/"+this.name,this.properIframeId=this.div_id+"-iframe",this.dfpIframeId="google_ads_iframe_"+this.dfpAdUnitPath+"_0",this.disable_adx=ProperMedia.utils.deepAccess(i,"disable_adx."+(properDevice.isMobile()?"mobile":"desktop")),!this.name||"display"==this.type&&!this.number)return!1;if(this.is_flex_slot&&(this.winning_ad=new adObj(ProperMedia.utils.deepCopy(i.flex_ad))||{}),this.setDynamic(i),this.dynamic.enabled&&(this.child_name="dynamic_"+this.dynamic.instance_number,this.dfpAdUnitPath="/"+this.dfp_id+"/"+this.dfp_name+"/"+this.child_name,this.dfpIframeId="google_ads_iframe_"+this.dfpAdUnitPath+"_0",this.name=this.name+"_"+this.dynamic.instance_number,this.number=parseFloat(this.number+this.dynamic.instance_number/100),this.div_id="proper-ad-"+this.name,this.properIframeId=this.div_id+"-iframe",i.custom_css)&&(this.dynamic.css_ad=i.custom_css[0]||"",this.dynamic.css_page=i.custom_css[1]||""),this.getMaxTier(),this.parseTierSizes(i.allowed_size),this.flex_enabled&&this.setFlexMap(i.flex_map),0==this.sizes.length)return!1;if(this.setPageRestrictions(i),this.checkPageDepthRestriction())return!1;if(this.checkUrlRestriction())return!1;if(this.setUrlandPageviewRules(i),this.checkUrlAndPageviewRules())return!1;if(this.interstitial&&1==properOps.dfp_per_slot)return!1;if(this.setFloors(i),this.setLazyload(i),this.setAutoDelete(i),this.setScrollableSettings(i),this.setAdvertisementDisclosure(i),this.dynamic.enabled&&this.insertDynamicSlot(r,this.dynamic.cssplacement),properUser.checkAdBlockDetected()&&(!properUser.adblock.deliver_to_adblock||-1!==["multiple","unknown"].indexOf(this.location)))return!(this.kill_slot=!0);if(!this.getElement())return!1;if(!this.sticky&&-1==["sticky","skin"].indexOf(this.location)&&!this.getElement().offsetParent)return!1;const s=this.getElement().parentNode;var o;if(!this.dynamic.enabled&&this.flex_enabled&&this.addFlexWrapper(s),"display"==this.type&&properDevice.isMobile()&&this.scrollable.enabled&&!this.dynamic.enabled&&this.setScrollableElemHeight(),this.setSliderSettings(i),i.video_player&&!1!==properPage.video_enabled&&(e=ProperMedia.utils.deepAccess(properOps,"video_players."+i.video_player)||{},0<Object.keys(e).length)&&(this.video_player=new videoPlayer(i.video_player,e,this),this.video_type=this.video_player.player_settings.video_type,properPage.incrementVideoPlayerCount(this,"possible")),"display"==this.type?(this.setRefresh(i),this.ad_types.push("display","native"),this.video_player&&!1!==properPage.video_enabled&&this.ad_types.push("video")):"video"==this.type&&this.video_player instanceof videoPlayer&&!1!==properPage.video_enabled&&this.ad_types.push("video"),this.checkVideoEnabled(),this.sticky){if(this.setStickySettings(i),this.checkStickyFreqCapMet())return!1;this.getElement().parentNode.className.includes("sticky-inner")||(s.classList.add(this.name),(t=document.createElement("div")).setAttribute("class","sticky-inner"),t.setAttribute("style","display:none"),(this.sticky_settings.brand||this.sticky_settings.close_btn)&&((r=document.createElement("div")).setAttribute("class","inner-left"),(e=document.createElement("div")).setAttribute("class","inner-right"),(i=document.createElement("a")).setAttribute("class","brand"),i.setAttribute("target","_blank"),i.setAttribute("href","https://sovrn.com?ref=ms-sticky"),this.sticky_settings.brand&&i.setAttribute("style","display:block"),(o=document.createElement("div")).setAttribute("class","close"),this.sticky_settings.close_btn&&o.setAttribute("style","display:block"),o.onclick=function(e){e.preventDefault(),s.classList.remove("isOpen"),s.classList.add("close"),this.sticky_settings.disable_on_close&&properUser.stickyFreqCapHandler.setStickyClosedCookie(),this.deleteSlot(!0)}.bind(this),r.appendChild(i),e.appendChild(o),t.appendChild(r),t.appendChild(e)),s.appendChild(t),t.insertAdjacentElement("beforeEnd",this.getElement()))}else this.slider&&!this.getElement().parentNode.className.includes("slider_unit")&&"display"==this.type&&(s.classList.add("slider_unit"),properPage.width>this.slider_settings.breakpoint?(s.classList.add("slider_position_"+this.slider_settings.location.desktop[0]),s.classList.add("slider_position_"+this.slider_settings.location.desktop[1])):(s.classList.add("slider_position_"+this.slider_settings.location.mobile[0]),s.classList.add("slider_position_"+this.slider_settings.location.mobile[1])),1!=this.slider_settings.adjustment_size&&document.documentElement.style.setProperty("--slider_mobile_adjustment_size",this.slider_settings.adjustment_size),this.slider_settings.close_button)&&((i=document.createElement("div")).setAttribute("id","close_button"),i.setAttribute("name",this.name),i.onclick=function(e){e.preventDefault();try{$(".slider_unit #close_button").remove(),s.classList.remove("slider_unit"),this.disableSlotRefresh(),this.closeSliderSlot()}catch(e){console.error(e)}}.bind(this),o=document.createTextNode("x"),i.appendChild(o),s.appendChild(i));return(properPage.slots[this.type][this.name]=this).setViewabilityTracker(),("display"==this.type&&!this.lazyload.enabled||"video"==this.type&&ProperMedia.utils.deepAccess(this,"video_player.auto_insert"))&&!this.checkBidsReady()&&(this.setWaitInterval(),this.setMaxAuctionTimeout()),"display"==this.type?consentManager.ready(function(){0==properPage.isolated&&(1!=properOps.dfp_per_slot||this.disable_adx?(0==properPage.dfp_init&&properPage.initDfp(),1!=properPage.dfp_init||0!=this.mapped_dfp_sizes||this.disable_adx||this.buildDfpSizeMapping()):0==this.dfp_init?this.initDfp():0==this.mapped_dfp_sizes&&this.buildDfpSizeMapping())}.bind(this)):this.interstitial&&consentManager.ready(function(){properOps.dfp_per_slot||properPage.isolated||(0==properPage.dfp_init&&properPage.initDfp(),1==properPage.dfp_init&&(0==this.mapped_dfp_sizes&&(this.buildDfpSizeMapping(),this.dfp_ready=1),1==this.mapped_dfp_sizes)&&(0==this.dfp_ready&&this.addBidToDfpSlot(),1!=this.dfp_ready||0!=this.dfp_sent&&0!=this.dfp_refreshed||this.dfpDisplayOrRefresh()))}.bind(this)),this.refresh.enabled&&1==properPage.init_slots_build&&0==Object.keys(properAdPool.auctions).length&&null==properAdPool.timeout_handle&&properAdPool.auction_count<properAdPool.max_auctions&&properAdPool.startNewAuction(),properLog.mylog("Building slot: "+this.name),this.tracking_times.built_ts=ProperMedia.utils.getTimestampMs(),!0},e.prototype.disableSlotRefresh=function(){this.refresh.enabled=0,this.removeRefreshTimeout()},e.prototype.checkVideoEnabled=function(){-1===this.ad_types.indexOf("video")&&1!=properPage.video_enabled||(null===properPage.video_enabled&&(properPage.video_enabled=!0),properPage.loadVideoPlayerScript())},e.prototype.rebuildSlot=function(){var e,t;null==this.rebuild_timeout_handle&&"display"==this.type&&(e=Math.max(0,this.min_time_on_page-this.timeSinceDisplayed()),properLog.mylog("Rebuilding slot: "+this.name+" ("+e+")"),t=ProperMedia.utils.deepAccess(properOps,"ad_slots."+this.type+"."+this.name)||{},this.setRefresh(t),t=this.max_tier,this.getMaxTier(),t!==this.max_tier&&this.parseTierSizes(),this.rebuild_timeout_handle=properSetTimeout.setTimeout.call(this,function(){clearTimeout(this.rebuild_timeout_handle),this.rebuild_timeout_handle=null,this.refresh.count=0,this.resetBidData(),0<this.sizes.length&&consentManager.ready(function(){this.checkBidsReady()||(this.setWaitInterval(),this.setMaxAuctionTimeout())}.bind(this))},e))},e.prototype.getMaxTier=function(){this.max_tier=0,Object.keys(this.size_map).forEach(function(e){e=parseInt(e),properPage.width>=e&&e>=this.max_tier&&(this.max_tier=e)},this)},e.prototype.parseTierSizes=function(e){var t=0,i=this.size_map[this.max_tier]||[];if((i=this.is_flex_slot&&e?[e]:i)&&0<i.length){for(var r=0;r<i.length;r++){var s=i[r].split("x");if(s[0]=parseInt(s[0])||NaN,s[1]=parseInt(s[1])||NaN,!properUser.checkAdBlockDetected()||"in_content"!=this.location||!(!s[1]||isNaN(s[1])||150<s[1]))if(this.sizes.push(i[r]),isNaN(s[0])||isNaN(s[1])){if("interstitial"==i[r]){this.setInterstitial();break}}else 1!=s[0]&&1!=s[1]&&((s[0]<this.min_width||0==this.min_width)&&(this.min_width=s[0]),(s[1]<this.min_height||0==this.min_height)&&!this.specified_min_height&&(this.min_height=s[1]),(s[1]>this.max_height||0==this.max_height)&&(this.max_height=s[1]),s[0]*s[1]<t||0==t)&&(this.default_size=i[r].split("x"),t=s[0]*s[1])}return!0}return!1},e.prototype.setInterstitial=function(){this.type="interstitial",this.ad_types=["interstitial"],this.sizes=["interstitial"],this.interstitial=!0,this.min_width=1,this.min_height=1,this.default_size=[1,1],this.refresh.enabled=!1,this.lazyload.enabled=!1},e.prototype.googletag=function(){return this.google_tag||(1==properOps.dfp_per_slot?this.google_tag={}:this.google_tag=googletag),void 0===this.google_tag.cmd&&(this.google_tag.cmd=[]),this.google_tag},e.prototype.buildDfpSizeMapping=function(){this.getElement()&&0<this.sizes.length&&0==this.mapped_dfp_sizes&&(this.googletag().cmd.push(function(){for(var e=[[1,1]],t=0;t<this.sizes.length;t++){var i,r=this.sizes[t];"1x1"!=r&&-1===["400x300","640x480"].indexOf(r)&&((i=r.split("x"))[0]=parseInt(i[0]),i[1]=parseInt(i[1]),isNaN(i[0])||isNaN(i[1])?"fluid"==r&&e.push(r):e.push(i))}this.interstitial?(this.dfp_slot=this.googletag().defineOutOfPageSlot(this.dfpAdUnitPath,this.googletag().enums.OutOfPageFormat.INTERSTITIAL).addService(this.googletag().pubads()),this.dfp_slot&&(this.div_id=this.dfp_slot.getSlotElementId())):ProperMedia.utils.checkOutOfPage(this.dfpAdUnitPath)?this.dfp_slot=this.googletag().defineOutOfPageSlot(this.dfpAdUnitPath,this.div_id).addService(this.googletag().pubads()):this.sticky&&properSpecialOps.sliderHeader?this.dfp_slot=this.googletag().defineSlot(this.dfpAdUnitPath,e,this.div_id).setCollapseEmptyDiv(!0).addService(this.googletag().pubads()):this.dfp_slot=this.googletag().defineSlot(this.dfpAdUnitPath,e,this.div_id).addService(this.googletag().pubads()),this.dfp_slot.setTargeting("proper_slot",this.number),this.sticky&&this.dfp_slot.setTargeting("proper_sticky",this.sticky.toString()),0<Object.keys(this.floors.sizes).length&&Object.keys(this.floors.sizes).map(function(e){var t;-1!==this.sizes.indexOf(e)&&(t=this.floors.sizes[e])>this.floors.backup&&(t=round_floor(t),this.dfp_slot.setTargeting("proper_floor_"+e,t.toFixed(2).toString()))},this);var s=round_floor(this.floors.backup);this.dfp_slot.setTargeting("proper_floor",s.toFixed(2).toString())}.bind(this)),this.mapped_dfp_sizes=1,this.bids_ready)&&!this.dfp_ready&&this.addBidToDfpSlot()},e.prototype.clearWinningBid=function(){return this.hasWinningBid()&&(0!=this.winning_ad.displayed||this.winning_ad.checkIfExpired()||properAdPool.addBidToPool(this.winning_ad),delete this.winning_ad,this.winning_ad={},this.hasFlexBids())&&this.clearFlexBid(),!0},e.prototype.hasWinningBid=function(){return this.winning_ad instanceof adObj&&""!==this.winning_ad.bidder&&0<this.winning_ad.price&&this.winning_ad.id},e.prototype.hasFlexBids=function(){return!this.is_flex_slot&&this.flex_enabled&&this.flex_ads.length&&this.flex_ads?.every(e=>e instanceof adObj&&""!==e.bidder&&0<e.price&&e.id)},e.prototype.getWinningBid=function(e,t){e=e??this.ad_types,t=t??this.video_type,this.clearWinningBid();var{flex_ads:e,winning_ad:t}=properAdPool.getWinningBids(this,e,t);return this.winning_ad=t,this.flex_ads=[...e],this.hasFlexBids()&&properLog.mylog(`FLEX WIN! (${this.name}, bidder=${this.winning_ad?.bidder} + ${this.flex_ads?.map(e=>e.bidder).join(" + ")}, size=${this.winning_ad?.size}, price=${this.winning_ad?.price} + ${this.flex_ads?.map(e=>e.price).join(" + ")})`),this.hasWinningBid()},e.prototype.getRunnerUp=function(e,t){if(!this.hasWinningBid())return 0;e=e??this.ad_types,t=t??this.video_type;var i=properAdPool.ads.filter(e=>e.size===this.winning_ad.size);return properAdPool.getWinningBid(this,e,t,i)?.price??0},e.prototype.clearWinningAmazonBid=function(){return this.hasWinningAmazonBid()&&(0!=this.winning_amazon_ad.displayed||this.winning_amazon_ad.checkIfExpired()||properAdPool.addAmazonBidToPool(this.winning_amazon_ad),delete this.winning_amazon_ad,this.winning_amazon_ad={}),!0},e.prototype.hasWinningAmazonBid=function(){return!!(this.winning_amazon_ad instanceof adObj&&""!==this.winning_amazon_ad.bidder&&this.winning_amazon_ad.price&&this.winning_amazon_ad.id)},e.prototype.getWinningAmazonBid=function(e,t){return e=e??this.ad_types,t=t??this.video_type,this.clearWinningAmazonBid(),properAdPool.getWinningAmazonBid(this,e,t),this.hasWinningAmazonBid()},e.prototype.clearNonWinningBid=function(e){return this.hasWinningAmazonBid()&&ProperMedia.utils.deepAccess(this,"winning_amazon_ad.id")!==ProperMedia.utils.deepAccess(e,"id")?this.clearWinningAmazonBid():this.hasWinningBid()&&ProperMedia.utils.deepAccess(this,"winning_ad.id")!==ProperMedia.utils.deepAccess(e,"id")&&this.clearWinningBid(),!0},e.prototype.checkBidsReady=function(){var e,t;return!properUser.checkAdBlockDetected()||properUser.adblock.deliver_to_adblock&&-1===["multiple","unknown"].indexOf(this.location)?!(checkKillAllAds()||!this.getElement()||1==this.kill_slot||this.interstitial||this.dfp_ready||this.auction_send_complete||this.lazyload.enabled&&!this.lazyload.inRenderZone||(e=properAdPool.calcTimeout(),t=ProperMedia.utils.getTimePassed(this.auction_started_ts),t=this.max_timeout-t,(0==e&&0==properAdPool.auction_count||0<Object.keys(properAdPool.auctions).length||0==Object.keys(properAdPool.finished_auctions).length)&&!this.max_timeout_met)||(this.getWinningBid(this.ad_types,this.video_type)||t<e||this.max_timeout_met?(this.bids_ready=1,this.tracking_times.bids_ready_ts=ProperMedia.utils.getTimestampMs(),"display"==this.type&&(this.hasWinningBid()&&-1!==this.ad_types.indexOf(this.winning_ad.type)&&(-1!==["display","native"].indexOf(this.winning_ad.type)||"video"==this.winning_ad.type&&"outstream"==this.winning_ad.video_type)||!this.hasWinningBid()&&(t<e||this.max_timeout_met))?(-1!==this.ad_types.indexOf("video")&&this.video_player instanceof videoPlayer&&this.video_player.removePlayer(),1==this.disable_adx||1==properPage.isolated||0<this.refresh.count&&1==this.refresh.exclude_dfp?this.lazyload.enabled&&!this.lazyload.inRenderZone||(this.videoAdCheck()?this.dispalyVideoAd():showWinningAd(this)&&(this.auction_send_complete=!0)):1==properOps.dfp_per_slot?0==this.dfp_init?this.initDfp():0==this.mapped_dfp_sizes?this.buildDfpSizeMapping():0==this.dfp_ready?this.addBidToDfpSlot():this.dfp_sent&&this.dfp_refreshed||this.dfpDisplayOrRefresh():(0==properPage.dfp_init&&properPage.initDfp(),1==properPage.dfp_init&&(0==this.mapped_dfp_sizes&&this.buildDfpSizeMapping(),1==this.mapped_dfp_sizes)&&(0==this.dfp_ready&&this.addBidToDfpSlot(),1!=this.dfp_ready||0!=this.dfp_sent&&0!=this.dfp_refreshed||this.dfpDisplayOrRefresh()))):this.videoAdCheck()&&this.dispalyVideoAd(),(this.dfp_ready||this.auction_send_complete)&&(this.clearWaitInterval(),this.clearMaxAuctionTimeout()),0):(this.clearWinningBid(),1))):(this.deleteSlot(!0),!1)},e.prototype.videoAdCheck=function(){return this.checkVideoInviewLimit()&&(this.hasWinningBid()&&"video"==this.winning_ad.type&&-1!==this.ad_types.indexOf(this.winning_ad.type)||this.hasWinningAmazonBid()&&"video"==this.winning_amazon_ad.type&&-1!==this.ad_types.indexOf(this.winning_amazon_ad.type)||"video"==this.type&&this.max_timeout_met)&&this.video_player&&this.video_player instanceof videoPlayer},e.prototype.dispalyVideoAd=function(){this.hasFlexSlot()&&this.removeFlexSlot(),this.refresh.enabled=0,this.removeRefreshTimeout(),this.auction_send_complete=!0,this.video_player.removePlayer(),this.video_player.insertPlayer()},e.prototype.initDfp=function(){if(1==this.dfp_init||1==properPage.isolated)return!1;var e,t=!1;if(this.iframe_window)e=this.iframe_window,t=!0;else if(this.iframe_id){var i=document.getElementById(this.iframe_id);if(!i)return void properLog.mylog("ERROR: "+this.iframe_id+" doesn't exist in the DOM.");this.iframe_window=i.contentWindow,e=i.contentWindow,t=!0}else{var i=document.getElementById(this.div_id);if(!i)return void properLog.mylog("WARNING: "+this.div_id+" doesn't exist in the DOM. This should re-run when proper_display is called");var r=document.createElement("iframe"),i=(i.innerHTML="",i.appendChild(r),r.id=this.properIframeId,r.frameBorder=0,r.scrolling="no",r.marginWidth="0",r.marginHeight="0",r.style.overflow="hidden",r.style.border="0px",r.style.width="1px",r.style.height="1px",r.style.verticalAlign="bottom","<html><head><script src='https://securepubads.g.doubleclick.net/tag/js/gpt.js' async><\/script></head><body><div id='"+this.div_id+"'></div></body></html>");r.src='javascript:"'+i+'"',r.contentWindow.document.open(),r.contentWindow.document.write(i),r.contentWindow.document.close(),e=r.contentWindow,this.iframe_window=e}t&&((i=document.createElement("script")).async=!0,i.type="text/javascript",r="https:"==document.location.protocol,i.src=(r?"https:":"http:")+"//securepubads.g.doubleclick.net/tag/js/gpt.js",e.document.getElementsByTagName("head")[0].appendChild(i)),ProperMedia.utils.deepAccess(properOps,"confiant.enabled")||ProperMedia.utils.deepAccess(properSpecialOps,"confiant.enabled")?confiantWrapper.loadDFPTag(e):(ProperMedia.utils.deepAccess(properOps,"adlightning.enabled")||ProperMedia.utils.deepAccess(properSpecialOps,"adlightning.enabled"))&&adLightningWrapper.loadDFPTag(e),e.googletag=e.googletag||{},this.google_tag=e.googletag||{},void 0===this.googletag().cmd&&(this.googletag().cmd=[]),this.googletag().cmd.push(function(){gdprEnforcement.deviceAccessEnforcement(755,"gam")&&gdprConsentModule.hasPurpose4Consent()||(properLog.mylog("DFP: disable personalized GPT ads"),this.googletag().pubads().setPrivacySettings({nonPersonalizedAds:!0})),uspConsent.restrictDataProcessing&&this.googletag().pubads().setPrivacySettings({restrictDataProcessing:!0}),this.googletag().pubads().addEventListener("slotOnload",function(e){var e=ProperMedia.utils.extractSlotName(e.slot.getSlotElementId()),t=properPage.getSlotFromPageObject(e);properLog.mylog("DFP slotOnload: "+e),t&&t.dispatchCustomEvent("proper-ads-fired",{cpm:ProperMedia.utils.deepAccess(t,"displayed_ad.price"),size:ProperMedia.utils.deepAccess(t,"displayed_ad.size"),ad_type:t.ad_type})}),this.googletag().pubads().addEventListener("impressionViewable",function(e){var t=ProperMedia.utils.extractSlotName(e.slot.getSlotElementId()),e=e.slot.getAdUnitPath(),e=properPage.getSlotFromPageObject(t)||properPage.getSlotFromPageObjectByAdUnitPath(e);e&&(properLog.mylog("DFP impressionViewable: "+t),e.dispatchCustomEvent("proper-impression-viewable",{cpm:ProperMedia.utils.deepAccess(e,"displayed_ad.price"),size:ProperMedia.utils.deepAccess(e,"displayed_ad.size"),ad_type:e.ad_type}))}),this.googletag().pubads().addEventListener("slotRenderEnded",TraceKit.wrap(function(e){var t=e.slot.getSlotElementId(),t=ProperMedia.utils.extractSlotName(t),i=properPage.getSlotFromPageObject(t);properLog.mylog("DFP slotRenderEnded: "+t),i&&(i.tracking_times.dfp_returned_ts=ProperMedia.utils.getTimestampMs(),e.advertiserId!==properOps.proper_advertiser&&e.advertiserId!=properOps.amazon_advertiser&&(e.isEmpty?proper_render(i.getElement(),i.number,1):(proper_render_dfp(t,e),proper_inview(e.isEmpty,t,e.size.join("x"),e.creativeId,e.lineItemId,e.advertiserId))),!i.sticky&&ProperMedia.utils.deepAccess(properSpecialOps,"adlightning.enabled")&&ProperMedia.utils.deepAccess(properSpecialOps,"adlightning.reportAd")||ProperMedia.utils.deepAccess(properOps,"adlightning.enabled")&&ProperMedia.utils.deepAccess(properOps,"adlightning.reportAd"))&&adLightningWrapper.addReportAd(e)})),this.googletag().pubads().addEventListener("slotOnload",TraceKit.wrap(function(e){try{var t,i,r=ProperMedia.utils.extractSlotName(e.slot.getSlotElementId()),s=properPage.getSlotFromPageObject(r);properLog.mylog("DFP slotOnload: "+r),s&&(t=s.getContentDocument())&&t.getElementById(s.dfpIframeId)&&(i=t.getElementById(s.dfpIframeId).contentWindow.document)&&(i.getElementById("common_15click_overlay")||i.getElementById("common_15click_anchor"))&&sendError(new Error("Detected Google Confirmed Click: "+s.dfp_name+" | "+ProperMedia.utils.deepAccess(s,"displayed_ad.size")))}catch(e){properLog.mylog("Error Detecting Google Confirmed Click: "+r)}})),setDfpPageTargeting(this.googletag().pubads()),this.googletag().pubads().setPrivacySettings({childDirectedTreatment:!!ProperMedia.utils.deepAccess(properSpecialOps,"coppa")}),this.googletag().pubads().disableInitialLoad(),this.googletag().pubads().setPublisherProvidedId(properUser.pubcid),this.googletag().pubads().enableSingleRequest(),this.googletag().enableServices(),this.dfp_enabled_services=!0}.bind(this)),this.dfp_init=1,this.buildDfpSizeMapping()},e.prototype.addBidToDfpSlot=function(){this.googletag().cmd.push(function(){if(this.dfp_ready||!this.mapped_dfp_sizes||!this.isSlotDefinedInGPT())return!1;0<this.dfp_slot.getTargeting("sovrn_amznbid").length&&this.dfp_slot.clearTargeting("sovrn_amznbid"),0<this.dfp_slot.getTargeting("sovrn_amzniid").length&&this.dfp_slot.clearTargeting("sovrn_amzniid"),!this.hasWinningBid()||"video"===ProperMedia.utils.deepAccess(this,"winning_ad.type")&&"outstream"!=ProperMedia.utils.deepAccess(this,"winning_ad.video_type")?(this.dfp_bid_price=roundPriceToDfpBucket(ProperMedia.utils.deepAccess(this,"floors.backup")),0<this.dfp_slot.getTargeting("proper_bid").length&&this.dfp_slot.clearTargeting("proper_bid"),0<this.dfp_slot.getTargeting("proper_bidder").length&&this.dfp_slot.clearTargeting("proper_bidder"),properLog.mylog("Floor added to DFP request ( Floor, "+this.name+") = "+this.dfp_bid_price)):(this.hasFlexBids()?this.winning_ad.dfp_price=roundPriceToDfpBucket(parseFloat(this.winning_ad.dfp_price)+this.flex_ads.reduce((e,t)=>e+parseFloat(t.dfp_price),0)):this.winning_ad.dfp_price=roundPriceToDfpBucket(parseFloat(this.winning_ad.price)),this.dfp_bid_price=this.winning_ad.dfp_price,properLog.mylog("Bid added to DFP request ("+this.winning_ad.bidder+", "+this.name+"@"+this.winning_ad.size+") = "+this.winning_ad.dfp_price),this.dfp_slot.setTargeting("proper_bidder",properOps.site_name+"_"+this.winning_ad.bidder),this.dfp_slot.setTargeting("proper_bid",this.dfp_bid_price.toString())),!this.getWinningAmazonBid()||"video"===ProperMedia.utils.deepAccess(this,"winning_amazon_ad.type")&&"outstream"!=ProperMedia.utils.deepAccess(this,"winning_amazon_ad.video_type")||(properLog.mylog("Amazon Bid added to DFP request ("+this.name+"@"+this.winning_amazon_ad.size+") = "+this.winning_amazon_ad.price),this.dfp_slot.setTargeting("sovrn_amznbid",ProperMedia.utils.deepAccess(this,"winning_amazon_ad.price")),this.dfp_slot.setTargeting("sovrn_amzniid",ProperMedia.utils.deepAccess(this,"winning_amazon_ad.ad_details.amzniid")),this.winning_amazon_ad.dfp_price=ProperMedia.utils.deepAccess(this,"winning_amazon_ad.price"),this.dfp_bid_price=_0x4f6067(this)),this.customGamTargeting.length&&(this.customGamTargeting.forEach(function(e){this.dfp_slot.clearTargeting(e)},this),this.customGamTargeting=[]),this.getGamTargetingAttr(),this.gamTargeting.key&&""!==this.gamTargeting.value&&void 0!==this.gamTargeting.value&&(properLog.mylog(`DFP request slot targeting ${this.name}: ${this.gamTargeting.key} = `+this.gamTargeting.value),this.dfp_slot.setTargeting(this.gamTargeting.key,this.gamTargeting.value),this.customGamTargeting.push(this.gamTargeting.key)),void 0===this.refresh.count?this.dfp_slot.setTargeting("refresh_count",0):this.dfp_slot.setTargeting("refresh_count",this.refresh.count.toString()),this.dfp_ready=1,this.getElement()&&this.dfpDisplayOrRefresh()}.bind(this))},e.prototype.dfpDisplayOrRefresh=function(){this.googletag().cmd.push(function(){this.dfp_sent||(this.dfp_sent=1,this.googletag().display(this.div_id),properLog.mylog("DFP display called: "+this.name)),1==properOps.dfp_per_slot?this.dfpSraCall():ProperMedia.utils.deepAccess(properPage,"sra_settings.slot_queue."+this.name)||(properPage.sra_settings.slot_queue[this.name]=this,clearTimeout(properPage.sra_settings.timeout_handler),properPage.sra_settings.timeout_handler=null,properPage.sra_settings.timeout_handler=properSetTimeout.setTimeout.call(properPage,function(){properPage.dfpSraCall()},properSpecialOps.sra_timoeut_ms||properPage.sra_settings.timeout_ms))}.bind(this))},e.prototype.dfpSraCall=function(){this.googletag().cmd.push(function(){1==properSpecialOps.update_correlator&&0==properPage.dfp_correlator&&1<properPage.spa_settings.page_number&&(this.googletag().pubads().updateCorrelator(),properPage.dfp_correlator=!0,properLog.mylog("Correlator updated for page: "+properPage.spa_settings.page_number)),this.tracking_times.dfp_sent_ts=ProperMedia.utils.getTimestampMs(),properLog.mylog("DFP refresh called: "+this.name),this.dfp_refreshed=1,this.auction_send_complete=!0,this.googletag().pubads().refresh([this.dfp_slot])}.bind(this))},e.prototype.setWaitInterval=function(){properLog.mylog("Set wait interval for "+this.name+" ( "+this.wait_interval+" )");var e=this;null==this.wait_interval_handle&&(this.wait_interval_handle=properSetInterval.setInterval.call(e,function(){e.checkBidsReady()},e.wait_interval))},e.prototype.clearWaitInterval=function(){clearInterval(this.wait_interval_handle),this.wait_interval_handle=null},e.prototype.setMaxAuctionTimeout=function(){var e=this;null==this.max_timeout_handle&&(this.auction_started_ts=ProperMedia.utils.getTimestampMs(),this.max_timeout_handle=properSetTimeout.setTimeout.call(e,function(){e.max_timeout_met=!0,e.clearWaitInterval(),e.clearMaxAuctionTimeout(),e.checkBidsReady()},e.max_timeout))},e.prototype.clearMaxAuctionTimeout=function(){clearTimeout(this.max_timeout_handle),this.max_timeout_handle=null},e.prototype.setRefreshInterval=function(){if(0==this.refresh.enabled||1==ProperMedia.utils.deepAccess(this,"displayed_ad.displayed")&&1==ProperMedia.utils.deepAccess(properOps,"bidder_info."+this.displayed_ad.bidder+".dont_refresh"))return this.refresh.enabled=0,!1;var e=Math.max(this.refresh.interval,this.refresh.min_interval);if(-1!==this.refresh.inview_interval){if(!this.viewability.viewable)return!1;e=Math.max(0,this.refresh.inview_interval-this.viewability.total_time_inview,e-this.timeSinceDisplayed())}else e=Math.max(0,e-this.timeSinceDisplayed());return this.refresh.current_interval=e,this.addRefreshTimeout(this.refresh.current_interval),!0},e.prototype.addRefreshTimeout=function(e){var t=this;this.removeRefreshTimeout(),this.refresh_handler=properSetTimeout.setTimeout.call(t,function(){t.removeRefreshTimeout(),t.refreshSlot()},e),properLog.mylog(this.name+": Starting refresh timer. ms = "+e)},e.prototype.timeSinceDisplayed=function(){return 0==this.last_displayed_ts?0:Date.now()-this.last_displayed_ts},e.prototype.removeRefreshTimeout=function(){this.refresh_handler&&(properLog.mylog(this.name+": Removing refresh timer."),clearTimeout(this.refresh_handler),this.refresh_handler=null)},e.prototype.resetBidData=function(){this.last_displayed_ts=0,this.bids_ready=0,this.dfp_ready=0,this.dfp_refreshed=0,this.dfp_bid_price=0,this.winning_ad={},this.exclude_advertiser=[],this.advertiserId=0,this.auction_started_ts=0,this.max_timeout_met=!1,this.auction_send_complete=!1,this.adl_blocked=!1,this.viewability.entered_inview_ts=this.viewability.viewable?ProperMedia.utils.getTimestampMs():0,this.viewability.total_time_inview=0,this.clearWaitInterval(),this.clearMaxAuctionTimeout(),this.removeRefreshTimeout()},e.prototype.refreshSlot=function(e){return properUser.checkAdBlockDetected()&&(this.refresh.enabled=0),!!(this.refresh.count<this.refresh.max&&this.refresh.enabled||e)&&!(this.lazyload.enabled&&!this.lazyload.inFetchZone||(properLog.mylog("Refreshing slot: "+this.name),this.refresh.count++,this.resetBidData(),this.checkBidsReady()||(this.setWaitInterval(),this.setMaxAuctionTimeout()),0))},e.prototype.getTimeInview=function(){return 0==this.viewability.entered_inview_ts?0:Date.now()-this.viewability.entered_inview_ts},e.prototype.viewabilityChange=function(e){return!e.inDeleteZone&&(this.viewability.viewable===e.viewable&&this.viewability.activeTab===e.activeTab||(properLog.mylog(this.name+": Viewability Change. visible = "+e.viewable+" Active Tab = "+e.activeTab),this.viewability.viewable=e.viewable,this.displayed&&this.refresh.enabled&&this.refresh.count<this.refresh.max&&e.activeTab&&(e.viewable&&-1!==this.refresh.inview_interval||-1==this.refresh.inview_interval)?this.setRefreshInterval():this.removeRefreshTimeout(),e.viewable?(this.dispatchCustomEvent("inview"),this.viewability.entered_inview_ts=ProperMedia.utils.getTimestampMs(),"video"==ProperMedia.utils.deepAccess(this,"displayed_ad.type")&&properPage.incrementVideoPlayerCount(this,"inview")):(this.dispatchCustomEvent("not-inview"),this.viewability.total_time_inview+=this.getTimeInview(),"video"==ProperMedia.utils.deepAccess(this,"displayed_ad.type")&&properPage.decrementVideoPlayerCount(this,"inview")),this.viewability.activeTab=e.activeTab),this.viewability.viewable||this.getElement())?(this.lazyload.enabled&&(this.lazyload.inFetchZone!==e.inFetchZone&&(properLog.mylog(this.name+": LazyLoad Change. inFetchZone = "+e.inFetchZone),this.lazyload.inFetchZone=e.inFetchZone,this.lazyload.inFetchZone?(this.wait_interval_handle||this.max_timeout_met||this.setWaitInterval(),this.max_timeout_handle||this.max_timeout_met||this.setMaxAuctionTimeout()):this.clearWaitInterval()),this.lazyload.inRenderZone!==e.inRenderZone)&&(properLog.mylog(this.name+": LazyLoad Change. inRenderZone = "+e.inRenderZone),this.lazyload.inRenderZone=e.inRenderZone,this.lazyload.inRenderZone)&&this.checkBidsReady(),!0):(this.deleteSlot(!0),!1)},e.prototype.dispatchCustomEvent=function(e,t){e=ProperMedia.utils.mergeObject({slot:this.name,event:e},t=t||{}),t=new CustomEvent("properEvents",{detail:e});window.dispatchEvent(t)},e.prototype.getGPTSlots=function(){var e=[];return 0==properPage.isolated&&this.googletag().cmd.push(function(){e=this.googletag().pubads().getSlots().map(function(e){return e.getSlotElementId()})}.bind(this)),e},e.prototype.isSlotDefinedInGPT=function(){return!!this.div_id&&-1!==this.getGPTSlots().indexOf(this.div_id)},e.prototype.removeCreative=function(){var e;0<this.refresh.count&&ProperMedia.utils.deepAccess(this,"displayed_ad.bidder")&&(e=bidderToAdapterName(this.displayed_ad.bidder),void 0!==bidAdapters[e])&&"function"==typeof bidAdapters[e].removeCreative&&bidAdapters[e].removeCreative(this)},e.prototype.closeSliderSlot=function(){var e;return!this.slider_settings.keep_on_close&&(this.deleteSlot(!1),e=window.top.document.getElementById(this.div_id))&&(e.innerHTML=""),!0},e.prototype.removeElemFromDOM=function(){try{var e,t,i=this.sticky?window.top.document.getElementsByClassName("proper-ad-unit ad-sticky "+this.name)[0]:window.top.document.getElementById(this.div_id);i&&((i=-1!==i.parentNode.className.indexOf(properOps.slot_wrapper_class)?i.parentNode:i).parentNode.removeChild(i),this.is_flex_slot)&&(e=this.dynamic?.cssselector,(t=window.top.document.querySelector(e))?.parentNode.removeChild(t))}catch(e){properLog.mylog("Error deleting slot: "+this.name)}},e.prototype.deleteSlot=function(e){try{0==this.kill_slot&&(this.kill_slot=!0,this.refresh.enabled=0,-1!==this.ad_types.indexOf("video")&&(properPage.decrementVideoPlayerCount(this,"possible"),"video"==ProperMedia.utils.deepAccess(this,"displayed_ad.type"))&&this.video_player instanceof videoPlayer&&this.video_player.removePlayer(),this.resetBidData(),this.lazyload.enabled=0,this.destroyDfpSlot(),properPage.viewability_tracker.removeElement(this.div_id),e&&this.getElement()&&this.removeElemFromDOM(),properPage.getSlotFromPageObject(this.name,[this.type])&&delete properPage.slots[this.type][this.name],properLog.mylog("Deleted Slot: "+this.name))}catch(e){console.error(e)}},e.prototype.destroyDfpSlot=function(){0==properPage.isolated&&this.isSlotDefinedInGPT()&&(this.googletag().cmd.push(function(){this.googletag().destroySlots([this.dfp_slot])}.bind(this)),this.dfp_slot={},this.dfp_init=0,this.dfp_ready=0,this.dfp_sent=0,this.dfp_refreshed=0,this.mapped_dfp_sizes=0)},e.prototype.getDefinedSizes=function(){return this.defined_sizes.length||this.sizes.forEach(e=>{e=ProperMedia.utils.getHeightAndWidth(e);e&&this.defined_sizes.push(e)}),this.defined_sizes},e.prototype.setFlexMap=function(e){if(e&&Object.keys(e).length)this.flex_map=e[this.max_tier]??{};else{const o=this.getDefinedSizes();this.flex_map=o.reduce((e,[i,r])=>{var t,s=o.find(([e,t])=>2*+i<=+e&&+r<=+t||2*+r<=+t&&+i<=+e);return s&&([s,t]=s,s=Math.floor(s/i),t=Math.floor(t/r),e[i+"x"+r]=Math.max(s,t)),e},{})}return this.flex_map},e}(),videoPlayer=function(e,t,i){this.slot=null,this.auto_insert=!1,this.auto_inserted=!1,this.player_settings={id:"",div_id:"",dfp_ad_unit:"",video_id:"",video_type:"",number_of_ads:10,autoplay:1,backfill:!1,backfill_id:"",small_player:"desktop_ad",small_player_bottom:100,ad_failure_limit:5,vast_timeout:5e3,no_ads_no_player:!1,horizontal_slider:"right",vertical_slider:"bottom"},this.getElement=function(){return top.document.getElementById(this.player_settings.div_id)},this.init=function(e,t,i){this.slot=i,this.checkAutoInsert(),this.setPlayerSettings(e,t.player_settings)},this.checkAutoInsert=function(){var e=top.document.getElementById(this.slot.div_id);e&&(e.classList.contains("propervideo-main_player_container")||e.hasAttribute("data-video-id"))?(this.div_id=this.slot.div_id,this.auto_insert=!1):this.auto_insert=!0},this.setPlayerSettings=function(e,t){this.slot.slider&&(i=properDevice.isMobile()?"mobile":"desktop",i=ProperMedia.utils.deepAccess(this.slot,"slider_settings.location."+i)||["right","bottom"],t.horizontal_slider=i[0]||"right",t.vertical_slider=i[1]||"bottom",t.close_button=ProperMedia.utils.deepAccess(this.slot,"slider_settings.close_button"),t.keep_on_close=ProperMedia.utils.deepAccess(this.slot,"slider_settings.keep_on_close"));var i=this.player_settings.div_id||e+"-"+ProperMedia.utils.makeid(10);(t=ProperMedia.utils.mergeObject({},this.player_settings,t||{},{id:e,div_id:i,dfp_id:this.slot.dfp_id})).autoplay=t.autoplay?1:0,this.player_settings=ProperMedia.utils.deepCopy(t)},this.insertPlayer=function(){var e,t=top.document.getElementById(this.slot.div_id);this.slot.slider&&$(".slider_unit #close_button").obj&&$(".slider_unit #close_button").remove(),t&&this.auto_insert&&(document.getElementById(this.player_settings.div_id)?(window.top.propervideotag=window.top.propervideotag||[],this.auto_inserted&&"outstream"==this.player_settings.video_type?window.top.propervideotag.push(function(){window.top.propervideo_display(this.player_settings.div_id,this.slot.name,properOps.site_name,"outstream_restart")}.bind(this)):window.top.propervideotag.push(function(){window.top.propervideo_display(this.player_settings.div_id,this.slot.name,properOps.site_name)}.bind(this))):(this.slot.getElement().innerHTML="",properOps.dfp_per_slot&&(e=top.document.getElementById(this.slot.div_id+"-iframe"))&&(e.style.width="0px",e.style.height="0px"),e=this.buildPlayerElem(),t.prepend(e),this.auto_inserted=!0)),properPage.incrementVideoPlayerCount(this.slot,"onpage"),this.slot.viewability.viewable&&properPage.incrementVideoPlayerCount(this.slot,"inview")},this.removePlayer=function(){try{var e=top.document.getElementById(this.player_settings.div_id);e&&(this.auto_inserted=!1,e.remove()),this.destroyVideoPlayerObj(),properPage.decrementVideoPlayerCount(this.slot,"onpage"),this.slot.viewability.viewable&&properPage.decrementVideoPlayerCount(this.slot,"inview")}catch(e){}},this.destroyVideoPlayer=function(){this.removePlayer();var e=ProperMedia.utils.deepAccess(properOps,"ad_slots."+this.slot.type+"."+this.slot.name)||{};this.slot.setRefresh(e),this.slot.refreshSlot()},this.destroyVideoPlayerObj=function(){if("undefined"!=typeof ProperMediaVideo&&ProperMedia.utils.deepAccess(ProperMediaVideo,"ad_project.applications")&&ProperMedia.utils.deepAccess(ProperMediaVideo,"ad_project.applications").length)for(var e=0;e<ProperMediaVideo.ad_project.applications.length;e++)if(ProperMedia.utils.deepAccess(ProperMediaVideo,"ad_project.applications."+e+".video_player.destroy_player")&&ProperMedia.utils.deepAccess(ProperMediaVideo,"ad_project.applications."+e+".div_name")==this.player_settings.div_id){ProperMediaVideo.ad_project.applications[e].video_player.destroy_player();break}},this.buildPlayerElem=function(){var e,t,i;return"instream"==this.player_settings.video_type?((e=document.createElement("div")).id=this.player_settings.div_id,e.setAttribute("data-video-id",this.player_settings.video_id),e.setAttribute("data-small-player",this.player_settings.small_player),this.player_settings.number_of_ads&&e.setAttribute("data-number-of-ads",this.player_settings.number_of_ads),this.player_settings.autoplay&&e.setAttribute("data-autoplay",this.player_settings.autoplay?1:0),t='var window.top.propervideotag = window.top.propervideotag || []; window.top.propervideotag.push(function(){ window.top.propervideo_display("'+this.player_settings.div_id+'", "'+this.slot.name+'", "'+this.slot.name+'"); });',(i=document.createElement("script")).type="text/javascript",i.appendChild(document.createTextNode(t)),e.appendChild(i),e):"outstream"==this.player_settings.video_type?((e=document.createElement("div")).id=this.player_settings.div_id,e.setAttribute("data-auto-injected",!0),e.setAttribute("data-video-id",properOps.site_name+"-"+this.player_settings.video_type),e.setAttribute("data-outstream",this.player_settings.video_type),e.setAttribute("data-small-player",this.player_settings.small_player),e.setAttribute("data-backfill",this.player_settings.backfill),this.player_settings.backfill&&this.player_settings.backfill_id&&e.setAttribute("data-backfill-id",this.player_settings.backfill_id),this.player_settings.number_of_ads&&e.setAttribute("data-number-of-ads",this.player_settings.number_of_ads),this.player_settings.autoplay&&e.setAttribute("data-autoplay",this.player_settings.autoplay?1:0),t='window.top.propervideotag = window.top.propervideotag || []; window.top.propervideotag.push(function(){ window.top.propervideo_display("'+this.player_settings.div_id+'", "'+this.slot.name+'", "'+properOps.site_name+'", "outstream_restart"); });',(i=document.createElement("script")).type="text/javascript",i.appendChild(document.createTextNode(t)),e.appendChild(i),e):void 0},this.adSuccessCallback=function(){console.log("adSuccessCallback")},this.adErrorCallback=function(){console.log("adErrorCallback")},this.init(e,t,i)},bidObj=function(){function e(e,t,i,r){this.bidder=e,this.auction=r,this.sent=0,this.returned=0,this.requests=t,this.slot_requests=i,this.responses=[],this.responses_no_bid=[],this.response_errors=[]}return e.prototype.incrementRequestsSent=function(e){this.sent+=isNaN(parseInt(e))?0:parseInt(e),this.auction.incrementRequestsSent(e)},e.prototype.incrementBidResponseCount=function(e){this.returned+=isNaN(parseInt(e))?0:parseInt(e),this.auction.incrementBidResponseCount(e)},e.prototype.logBidResponse=function(e){var t=bidderToAdapterName(this.bidder),i="s2s"==t?"s2s":"header",r=ProperMedia.utils.deepAccess(properOps,"bidder_info."+this.bidder+".rev_share")||ProperMedia.utils.deepAccess(bidAdapters,t+".bidderInfo.rev_share")||1;ProperMedia.utils.deepAccess(properOps,"bidders."+i+"."+this.bidder+".account_overrides.enabled")&&ProperMedia.utils.deepAccess(properOps,"bidders."+i+"."+this.bidder+".account_overrides.rev_share")&&(r=Math.round(ProperMedia.utils.deepAccess(properOps,"bidders."+i+"."+this.bidder+".account_overrides.rev_share"))/100),e.pub_demand=!!ProperMedia.utils.deepAccess(properOps,"bidders."+i+"."+this.bidder+".account_overrides.enabled"),r<1&&ProperMedia.utils.isNumber(e.price)&&(e.price=parseFloat(e.price)*parseFloat(r)),"a9"!=this.bidder&&"a9"!=t||!ProperMedia.utils.isStr(e.price)?e.price&&ProperMedia.utils.isNumber(e.price)&&(e.dfp_price=roundPriceToDfpBucket(e.price)):e.price=e.price.replace(/(o_|v_)/,""),e.price&&!e.nobid&&"display"==e.type&&e.adcode||"video"==e.type&&e.vast_tag||"native"==e.type&&Object.keys(e.native).length?(this.responses.push(ProperMedia.utils.deepCopy(e)),this.auction.logBidResponse(e,this),properLog.log_bid(e)):this.logNoBidResponse(e)},e.prototype.logNoBidResponse=function(e){this.responses_no_bid.push(e),properLog.log_bid(e)},e.prototype.logBidResponseError=function(e){this.response_errors.push(e)},e}(),adObj=function(){function e(e){this.id=e.id||ProperMedia.utils.generateUUID(),this.type=e.type||"display",this.gross=e.gross||0,this.price=e.price||0,this.displayed=e.displayed||0,this.dfp_price=e.dfp_price||0,this.floor=e.floor||0,this.bidder=e.bidder||"",this.size=e.size||"1x1",this.adcode=e.adcode||"",this.nurl=e.nurl||"",this.burl=e.burl||"",this.vast_tag=e.vast_tag||"",this.vast_type=e.vast_type||"",this.vpaid=e.vpaid||!1,this.video_type=e.video_type||"",this.tag_id=e.tag_id||"",this.ad_details=e.ad_details||{},this.request_url=e.request_url||"",this.response=e.response||{},this.response_ms=e.response_ms||0,this.received_ts=e.received_ts||0,this.ttl=e.ttl||12e4,this.dealid=e.dealid||"",this.cid=e.cid||"",this.crid=e.crid||"",this.adid=e.adid||"",this.adomain=e.adomain||[],this.cat=e.cat||[],this.attr=e.attr||[],this.ext=e.ext||{},this.native=e.native||{},this.nobid=e.nobid||!1,this.pub_demand=e.pub_demand||!1,this.target_slot=e.target_slot||!1}return e.prototype.timePassed=function(){return(new Date).getTime()-this.received_ts},e.prototype.checkIfExpired=function(){return this.timePassed()>this.ttl},e.prototype.timeTillExpiration=function(){return this.ttl-this.timePassed()},e.prototype.onBidWon=function(e){try{var t,i,r,s,o,a,n,d,p=bidderToAdapterName(this.bidder);ProperMedia.utils.deepAccess(bidAdapters,p+".onBidWon")&&bidAdapters[p].onBidWon(this,e),"native"==this.type&&fireNativeTrackers("impression",this),("1x1"==this.size||"native"==this.type||properOps.native_sizes[this.size])&&(t=e.getContentDocument())&&(i=window.top.document.getElementById(e.div_id).parentNode.parentNode,r=getComputedStyle(i),s=parseInt(r.marginTop),o=parseInt(r.marginBottom),a=(h=parseInt(i.offsetHeight))+s+o,(n=window.top.document.getElementById(e.properIframeId))&&(n.style.height=a+"px"),d=t.getElementById(e.dfpIframeId))&&(d.style.height=a+"px")}catch(e){}},e}(),deviceObj=function(){this.browser="",this.browser_version="",this.browser_group="",this.device_type="",this.os="",this.os_group="",this.init=function(){var t={browser:{IE:"Explorer","Chrome Headless":"Chrome","Chrome WebView":"Chrome"},device:{console:"desktop"}};"undefined"!=typeof UAParser&&!function(){var e=(new UAParser).getResult();this.browser=e.browser.name,e.browser.version&&(this.browser_version=e.browser.version),this.browser_group=e.browser.name,void 0!==t.browser&&void 0!==t.browser[this.browser_group]&&(this.browser_group=t.browser[this.browser_group]),this.device_type=e.device.type,this.device_type||(this.device_type="desktop"),void 0!==t.device&&void 0!==t.device[this.device_type]&&(this.device_type=t.device[this.device_type]),this.os=e.os.name,e.os.version&&(this.os+=" "+e.os.version),this.os_group=e.os.name}.bind(this)(),window.device={browser:this.browser,browser_group:this.browser_group,device_type:this.device_type,os:this.os,os_group:this.os_group}},this.isMobile=function(){return"mobile"==this.device_type},this.init()},userIds=function(){var o="cookie",a="localstorage",n=(PBJS_USER_ID_OPTOUT_NAME="_pbjs_id_optout",{}),e=[],i=[],r={},d={},p=!1,t=!1,l=50,c=null,s=null,u=0,g={moduleType:"core",moduleName:"userid"};function m(){if(!p)if(properUser.sovrn_sync_done){p=!0;var e=properOps.userIds;if(e&&e.identityAdapters&&Object.keys(e.identityAdapters).length){var t=ProperMedia.utils.objectValues(ProperMedia.utils.deepAccess(properOps,"userIds.identityAdapters")||{});if(t.length){e=gdprEnforcement.userIdEnforcement(t);if(!e.hasValidated&&!gdprConsentModule.hasPurpose1Consent())return void properLog.mylog("User Ids - gdpr permission not valid for local storage or cookies, exit module");t=e.submodules||[];for(var i=0;i<t.length;i++){var r,s=t[i];s.name&&userIdAdapters[s.name]?(r=userIdAdapters[s.name],s.config&&ProperMedia.utils.isPlainObject(s.config)&&ProperMedia.utils.mergeObject(r.config,s.config),s.storage&&ProperMedia.utils.isPlainObject(s.storage)&&ProperMedia.utils.mergeObject(r.storage,s.storage),r.config.enabled&&(n[s.name]=r),ProperMedia.utils.deepAccess(n,s.name+".initialize")&&ProperMedia.utils.isFn(n[s.name].initialize)&&n[s.name].initialize(d)):properLog.mylog("Coudln't find identityAdapter with name: "+s.name)}0<Object.keys(n).length?consentManager.ready(function(){Object.keys(n).forEach(function(e){var t,i,r,s,o,e=n[e];e.storage?(t=e.storage,i=_(t,void 0),r=!1,"number"==typeof t.refreshInSeconds&&(s=new Date(_(t,"last")),r=s&&Date.now()-s.getTime()>1e3*t.refreshInSeconds),!i||r?o=e.getId(i):ProperMedia.utils.isFn(e.extendId)&&(o=e.extendId(i)),ProperMedia.utils.isPlainObject(o)&&(o.id&&(b(t,o.id),i=o.id),ProperMedia.utils.isFn(o.callback))&&(e.callback=o.callback,u++),i&&(e.idObj=e.decode(i))):e.config.value?e.idObj=e.config.value:(o=e.getId(),ProperMedia.utils.isPlainObject(o)&&(ProperMedia.utils.isFn(o.callback)&&(e.callback=o.callback,u++),o.id)&&(e.idObj=e.decode(o.id)))}),c=properSetTimeout.setTimeout(y,l),0<u?Object.keys(n).forEach(function(e){var t=n[e];ProperMedia.utils.isFn(t.callback)&&t.callback(function(e){e?(t.storage&&b(t.storage,e),t.idObj=t.decode(e)):properLog.mylog("UserID: "+t.name+" - request id responded with an empty value"),(0==--u?y:f)(),t.callback=void 0})}):y()}):y()}}else y()}else properLog.mylog("UserIds: Wait for Sovrn Hashed Email Matching.")}function h(){return d.emailHashes||(d.emailHashes=_({gvlid:13,type:"localstorage",name:"sovrn-hem",expiresInDays:7}),d.emailHashes&&b({gvlid:13,type:"localstorage",name:"sovrn-hem",expiresInDays:7},d.emailHashes)),d.emailHashes||!1}function _(e,t){var i,t=t?e.name+"_"+t:e.name;try{var r,s={gvlid:e.gvlid,moduleName:e.name||"userid"};e.type===o?i=decodeURIComponent(properStorage.getCookie(t,s)||""):e.type===a&&(""===(r=properStorage.getDataFromLocalStorage(e.name+"_exp",s))?i=properStorage.getDataFromLocalStorage(t,s):r&&0<new Date(r).getTime()-Date.now()&&(i=decodeURIComponent(properStorage.getDataFromLocalStorage(t,s)))),"string"==typeof i&&"{"===(i=i.trim()).charAt(0)&&(i=ProperMedia.utils.safeJsonParse(i))}catch(e){properLog.mylog(e)}return i}function b(e,t){try{var i,r,s;t&&(i={gvlid:e.gvlid,moduleName:e.name||"userid"},r=ProperMedia.utils.isPlainObject(t)?JSON.stringify(t):t,s=new Date(Date.now()+864e5*e.expiresInDays).toUTCString(),e.type===o?(properStorage.setCookie(e.name,r,s,"Lax","",i),"number"==typeof e.refreshInSeconds&&properStorage.setCookie(e.name+"_last",(new Date).toUTCString(),s,"Lax","",i)):e.type===a&&(properStorage.setDataInLocalStorage(e.name+"_exp",s,i),properStorage.setDataInLocalStorage(e.name,encodeURIComponent(r),i),"number"==typeof e.refreshInSeconds)&&properStorage.setDataInLocalStorage(e.name+"_last",(new Date).toUTCString(),i))}catch(e){properLog.mylog(e)}}function f(){i=[],Object.keys(n).forEach(function(e){var t,e=n[e];ProperMedia.utils.deepAccess(e.excludeEid)||((t=v(e))&&i.push(t),e.idObj&&(ProperMedia.utils.isPlainObject(e.idObj)&&Object.keys(e.idObj).length||ProperMedia.utils.isStr(e.idObj))&&(r[e.eid_name]=e.idObj))})}function v(e){var t,i={},r=(i.source=e.source||"",ProperMedia.utils.isFn(e.getValue)?e.getValue():e.idObj);return!ProperMedia.utils.deepAccess(e.excludeEid)&&ProperMedia.utils.isStr(r)?(r={id:r,atype:e.atype||1},ProperMedia.utils.isFn(e.getUidExt)&&(t=e.getUidExt())&&(r.ext=t),i.uids=[r],ProperMedia.utils.isFn(e.getEidExt)&&(t=e.getEidExt())&&(i.ext=t),i):null}function y(){var e;f(),1!=t&&(t=1,ProperMedia.utils.isFn(s)&&(s(),s=null),(properOps.sovrn_signal||properSpecialOps.sovrn_signal)&&((e=document.createElement("script")).src="https://get.s-onetag.com/70badba6-d3bf-4921-9807-0c0f5d9ffc19/tag.min.js",e.async=!0,e.defer=!0,window.top.document.getElementsByTagName("head")[0].appendChild(e)),properLog.mylog("UserId Matching Done"),clearTimeout(c),c=null)}return{init:function(){-1!==(e=[properStorage.localStorageIsEnabled(g)?a:null,properStorage.cookiesAreEnabled(g)?o:null].filter(function(e){return null!==e})).indexOf(o)&&properStorage.getCookie(PBJS_USER_ID_OPTOUT_NAME,g)?properLog.mylog("userIds - opt-out cookie found, exit module"):-1!==e.indexOf(a)&&properStorage.getDataFromLocalStorage(PBJS_USER_ID_OPTOUT_NAME,g)?properLog.mylog("userIds - opt-out localStorage found, exit module"):(ProperMedia.utils.deepAccess(properSpecialOps,"userIdData")?d=ProperMedia.utils.deepAccess(properSpecialOps,"userIdData"):properStorage.getCookie("properUserIdData",g)&&(d=properStorage.getCookie("properUserIdData",g)),d&&ProperMedia.utils.isStr(d)&&(d=ProperMedia.utils.safeJsonParse(d)),h(),m())},getUIdsObj:function(){return ProperMedia.utils.deepCopy(r||{})},setCallback:function(e){s=e},getEidsArray:function(){return ProperMedia.utils.deepCopy(i||[])},getUserIdData:function(){return ProperMedia.utils.deepCopy(d||{})},getEmailHashes:h,isDoneMatching:function(){return!!t},createEidObject:v,setUserIdDataValue:function(e,t){try{ProperMedia.utils.deepSetValue(d,e,t)}catch(e){}},runIdentityAdapters:m,mergeUserIdDataValue:function(e){try{ProperMedia.utils.mergeObject(d,e)}catch(e){}}}}(),userObj=function(){this.lang="",this.tzone="",this.member="no",this.pubcid="",this.adblock={detected:!1,acceptable_ads:!1,deliver_to_adblock:!1},this.sovrn_sync_done=!0,this.userIdsCallback=null,this.init=function(){this.tzone=(new Date).getTimezoneOffset(),this.lang=navigator.language||navigator.browserLanguage||navigator.userLanguage||navigator.systemLanguage,this.pubcid=userIdAdapters.pubCommonId.getValue()||ProperMedia.utils.generateUUID(),this.setAdBock(),(properOps.sovrn_signal_email_hash||properSpecialOps.sovrn_signal_email_hash)&&(this.sovrn_sync_done=!1,this.getSovrnSignalEmailHash()),window.addEventListener("proper-ad-requests-blocked",function(){this.setAdBock()}.bind(this)),window.addEventListener("proper-adblock-pixels-blocked",function(){this.setAdBock()}.bind(this))},this.setAdBock=function(){var e;this.adblock=ProperMedia.utils.deepAccess(properSpecialOps,"adblock")||this.adblock,this.adblock.deliver_to_adblock=properOps.deliver_to_adblock||!1,!this.checkAdBlockDetected()||this.adblock.acceptable_ads&&this.adblock.deliver_to_adblock||(properSpecialOps.kill_all_ads=!0,e=new CustomEvent("proper-ad-bidders-blocked",{}),window.dispatchEvent(e)),this.checkAdBlock()&&properSpecialOps.iframe_auction&&$.createAuctionIframe()},this.checkAdBlock=function(){return!!(this.checkAdBlockDetected()&&this.adblock.acceptable_ads&&this.adblock.deliver_to_adblock)},this.checkAdBlockDetected=function(){return!(!this.adblock.detected||properSpecialOps.disable_adblock_solution||properSpecialOps.adtoniq)},this.getSovrnSignalEmailHash=function(){function t(){clearTimeout(e),properUser.sovrn_sync_done=!0,userIds.runIdentityAdapters()}var e,i;userIds.getEmailHashes()?(properLog.mylog("UserID - Hashed Emails From Storage"),properUser.sovrn_sync_done=!0):(e=properSetTimeout.setTimeout(t,350),i=ProperMedia.utils.deepAccess(properPage,"get_vars.signal_test_id")?"83919c0c-77b4-4e6a-92a9-de8cd16be2db":this.pubcid,$.ajax({url:"https://ehash.proper.io/get/"+i,method:"GET",timeout:300,requestType:"cors",withCredentials:!0,success:function(e){e&&(e=ProperMedia.utils.safeJsonParse(e),ProperMedia.utils.isPlainObject(e))&&(properLog.mylog("UserID - Sovrn Signal Hashed Email: "+e),userIds.setUserIdDataValue("emailHashes",e)),t()},error:function(e){t()}}))},this.stickyFreqCapHandler={setStickyClosedCookie:function(){var e=new Date;e.setHours(23,59,59,0),properStorage.setCookie("properStickyClosed","true",e.toGMTString(),"Lax","",{moduleType:"core",moduleName:"userid"})},getStickyClosedCookie:function(){return"true"==properStorage.getCookie("properStickyClosed",{moduleType:"core",moduleName:"userid"})},setStickyUnitImps:function(e){var t=new Date;t.setHours(23,59,59,0),properStorage.setCookie("properStickyUnitImps",parseInt(e),t.toGMTString(),"Lax","",{moduleType:"core",moduleName:"userid"})},getStickyUnitImps:function(){var e=properStorage.getCookie("properStickyUnitImps",{moduleType:"core",moduleName:"userid"});return NaN!=parseInt(e)?parseInt(e):0},incrementStickyUnitImps:function(){var e=this.getStickyUnitImps()||0;this.setStickyUnitImps(e+=1)}}},logObj=function(){this.log_lines={},this.autoplay_html={},this.rogue_data=[],this.saved_data={},this.bid_data={},this.interstitial_bid_data={},this.ad_info={},this.rogue_timeout=null,this.tracker_timeout=null,this.tracker_wait=250,this.init_bid_data=function(){ProperMedia.utils.deepAccess(this,"bid_data.ad_slots")&&0<Object.keys(this.bid_data.ad_slots).length&&this.proper_tracker(),this.setBidData(),this.send_pageview_pixel()},this.setBidData=function(){this.bid_data={page_guid:ProperMedia.utils.validateValue(properPage.uuid,{type:"string"}),website:ProperMedia.utils.validateValue(properOps.site_name,{type:"string",default_val:"unknown",max_len:40}),url:ProperMedia.utils.validateValue(properPage.url,{type:"string",max_len:255}),url_path:ProperMedia.utils.validateValue(properPage.path,{type:"string",max_len:150}),os:ProperMedia.utils.validateValue(properDevice.os_group,{type:"string",max_len:30}),browser:ProperMedia.utils.validateValue(properDevice.browser_group,{type:"string",max_len:30}),device:ProperMedia.utils.validateValue(properDevice.device_type,{type:"string",max_len:10}),use_ssl:ProperMedia.utils.validateValue(properPage.use_ssl,{type:"boolean"}),is_mobile:ProperMedia.utils.validateValue("mobile"==properDevice.device_type,{type:"boolean"}),is_isolated:ProperMedia.utils.validateValue(properPage.isolated,{type:"boolean"}),session_depth:ProperMedia.utils.validateValue(properSession.sessionData.depth,{type:"number"}),session_guid:ProperMedia.utils.validateValue(properSession.sessionData.uuid,{type:"string"}),resolution_width:ProperMedia.utils.validateValue(properPage.width,{type:"number",max:99999}),resolution_height:ProperMedia.utils.validateValue(properPage.height,{type:"number",max:99999}),rtp_file_version:ProperMedia.utils.validateValue(properOps.rtp_file_version,{type:"number"}),referrer:ProperMedia.utils.validateValue(properSession.sessionData.referrer,{type:"string",max_len:255}),utm_source:ProperMedia.utils.validateValue(properSession.sessionData.utm_source,{type:"string",max_len:100}),utm_campaign:ProperMedia.utils.validateValue(properSession.sessionData.utm_campaign,{type:"string",max_len:255}),utm_medium:ProperMedia.utils.validateValue(properSession.sessionData.utm_medium,{type:"string",max_len:100}),utm_term:ProperMedia.utils.validateValue(properSession.sessionData.utm_term,{type:"string",max_len:100}),utm_content:ProperMedia.utils.validateValue(properSession.sessionData.utm_content,{type:"string",max_len:100}),utm_template:ProperMedia.utils.validateValue(properSession.sessionData.utm_template,{type:"string",max_len:100}),utm_referrer:ProperMedia.utils.validateValue(properSession.sessionData.utm_referrer,{type:"string",max_len:100}),utm_adset:ProperMedia.utils.validateValue(properSession.sessionData.utm_adset,{type:"string",max_len:100}),utm_subid:ProperMedia.utils.validateValue(properSession.sessionData.utm_subid,{type:"string",max_len:100}),gclid:ProperMedia.utils.validateValue(properSession.sessionData.gclid,{type:"string",max_len:100}),fbclid:ProperMedia.utils.validateValue(properSession.sessionData.fbclid,{type:"string",max_len:100}),category:ProperMedia.utils.validateValue(properPage.page_meta.category,{type:"string",max_len:50}),editor:ProperMedia.utils.validateValue(properPage.page_meta.editor,{type:"string",max_len:50}),writer:ProperMedia.utils.validateValue(properPage.page_meta.writer,{type:"string",max_len:50}),buyer:ProperMedia.utils.validateValue(properPage.page_meta.buyer,{type:"string",max_len:50}),page_type:ProperMedia.utils.validateValue(properPage.page_meta.page_type,{type:"string",max_len:50}),split:ProperMedia.utils.validateValue(properPage.page_meta.split,{type:"string",max_len:50}),tags:ProperMedia.utils.validateValue(properPage.page_meta.tags.join(","),{type:"string",max_len:500}),custom:this.validateCustom(properPage.page_meta.custom),adblock:ProperMedia.utils.validateValue(properUser.adblock.detected,{type:"boolean"}),ad_slots:{}}},this.validateCustom=function(e){var t,i={};for(t in e)t.match(/^dimension_([1-9]|10)$/)&&(i[t]=ProperMedia.utils.validateValue(e[t],{type:"string",max_len:100}));return i},this.send_pageview_pixel=function(){ProperMedia.utils.deepSetValue(this,"bid_data.ad_slots.pageview_pixel",{slot_name:"pageview_pixel",bidder:"pageview_pixel",price:0,gross:0,size:"0x0",refresh_cnt:0,line_item_id:"",response_ms:0,auction_duration:0,precent_bids_ready:0,tag_id:"",adid:"",adomain:"",cid:"",crid:"",dealid:""}),this.proper_tracker()},this.send_takeover_pixel=function(e,t){var i;properPage.takeover.logged||""==ProperMedia.utils.deepAccess(properPage,"takeover.bidder")||(e=ProperMedia.utils.getTimePassed(e.auction_started_ts),i=properOps.site_name+"_page_takeover_"+properPage.takeover.bidder,ProperMedia.utils.deepSetValue(this,"bid_data.ad_slots."+i,{slot_name:ProperMedia.utils.validateValue(i,{type:"string",max_len:50}),bidder:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(properPage,"takeover.bidder"),{type:"string",max_len:30}),price:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(properPage,"takeover.price"),{type:"string",max_len:30}),gross:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(properPage,"takeover.price"),{type:"string",max_len:30}),size:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(t,"size"),{type:"string",max_len:10}),refresh_cnt:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(t,"refresh.count"),{type:"number",max:999}),line_item_id:"",response_ms:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(t,"response_ms"),{type:"number",max:999999}),auction_duration:ProperMedia.utils.validateValue(e,{type:"number",max:999999}),precent_bids_ready:ProperMedia.utils.validateValue(100,{type:"number",max:100}),tag_id:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(t,"tag_id"),{type:"string",max_len:50}),adid:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(t,"adid"),{type:"string",max_len:50}),adomain:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(t,"adomain.0"),{type:"string",max_len:50}),cid:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(t,"cid"),{type:"string",max_len:50}),crid:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(t,"crid"),{type:"string",max_len:50}),dealid:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(t,"dealid"),{type:"string",max_len:50}),floor:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(t,"floor"),{type:"number",max:999,max_len:15})}),this.proper_tracker(),properPage.takeover.logged=!0)},this.log_bid=function(e){this.mylog(e.bidder+" ("+e.tag_id+"@"+e.size+") = "+e.price)},this.mylog=function(e,t){this.log_lines[t=t||"proper"]=ProperMedia.utils.checkData(this.log_lines[t]),this.log_lines[t].push(e),(1==ProperMedia.utils.deepAccess(properPage,"get_vars."+t)||"proper"==t&&1==properStorage.getCookie("proper_log",{moduleType:"core"}))&&console.log(e)},this.rogue_tracker=function(){var t,i;clearTimeout(this.rogue_timeout),this.rogue_timeout=null,0<this.rogue_data.length&&(t=this.rogue_data,this.rogue_data=[],i=this,$.ajax({url:"https://proper.io/ajax/tracker.php?rogue=1",method:"POST",data:"data="+JSON.stringify(t),headers:{"Content-type":"application/x-www-form-urlencoded"},success:function(e){i.mylog("autoplay ads tracked! x"+t.length)}}))},this.proper_tracker=function(){var e,i,t=this;clearTimeout(this.tracker_timeout),this.tracker_timeout=null,this.bid_data.ad_slots&&0<Object.keys(this.bid_data.ad_slots).length&&(i=ProperMedia.utils.deepCopy(this.bid_data.ad_slots),this.setBidData(),this.bid_data.website||(this.bid_data.website="unknown"),this.bid_data.ad_slots=Object.keys(i).filter(function(e){return!("pageview_pixel"!=e&&0!==e.indexOf(properOps.site_name))}).reduce(function(e,t){return e[t]=i[t],e}.bind(this),{}),0<Object.keys(this.bid_data.ad_slots).length)&&(e=JSON.stringify(this.bid_data),this.bid_data.ad_slots={},properOps.testing_mode.ids?t.mylog("Not logging winnig bids. Test IDs are being used."):$.ajax({url:"https://bids.proper.io/api/bidding",method:"POST",withCredentials:!1,data:e,success:function(e){t.mylog("bids tracked!")},error:function(e){t.mylog("error tracking bid data")}}))},this.track_rogue=function(e,t){var i={},i=void 0!==e.displayed_ad.displayed&&1==e.displayed_ad.displayed?e.displayed_ad:{bidder:"static_tag",price:0,size:"",adcode:"[DFP STATIC TAG]"};this.mylog("rogue "+t+" detected (slot="+e.name+", bidder="+i.bidder+")"),this.rogue_data.push({rogue_type:t,bidder:i.bidder,cpm:i.price,size:i.size,slot:e.dfp_name,website:properOps.site_name,device:properDevice.device_type,os:properDevice.os_group,browser:properDevice.browser_group,is_mobile:properDevice.isMobile(),tag_id:i.tag_id,ad_details:i.ad_details,split_version:properOps.rtp_file_version}),clearTimeout(this.rogue_timeout),this.rogue_timeout=null,this.rogue_timeout=properSetTimeout.setTimeout.call(this,function(){this.rogue_tracker()},this.tracker_wait),e.getWinningBid()&&showWinningAd(e)},this.proper_log=function(e){if("page"==(e=e||"proper"))console.log(properPage);else if("bid_table"==e){var t=o();if(t.length)if(console.table)console.table(t);else for(let e=0;e<t.length;e++)console.log(t[e]);else console.warn("No responses")}else{if("bid_table_csv"!=e){if("on"==e){e="proper";var i=new Date;i.setTime(i.getTime()+36e5),document.cookie="proper_log=1; expires="+i.toGMTString()+"; path=/; SameSite=Lax;",console.log("NOTICE: Turning on persistent logging. Run proper_log('off'); to turn off.")}else if("off"==e)return e="proper",console.log("NOTICE: Turning off persistent logging."),document.cookie="proper_log=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Lax;",ProperMedia.utils.deepSetValue(properPage,"get_vars."+e,0),!1;for(var r=0;r<properLog.log_lines[e].length;r++)properLog.log_lines[e][r]&&console.log(properLog.log_lines[e][r]),ProperMedia.utils.deepSetValue(properPage,"get_vars."+e,1);return!0}var s=o();if(s.length){csv_output="",header_keys=Object.keys(s[0]);for(let e=0;e<header_keys.length;e++)csv_output+='"'+header_keys[e]+'"'+(e<header_keys.length-1?",":"");for(let e=0;e<s.length;e++)csv_output+='\n"'+ProperMedia.utils.objectValues(s[e]).join('","')+'"';i=document.createElement("a");i.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(csv_output)),i.setAttribute("download","proper_bid_table_"+document.location.hostname+".csv"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)}else console.warn("No responses")}function o(){var o=[],a=properPage.slots;return Object.keys(properPage.slots).forEach(function(s){Object.keys(properPage.slots[s]).forEach(function(e){var t=a[s][e];if(t instanceof slotObj)for(var i=0;i<t.ads.length;i++){var r=n(t.ads[i]);-1===ProperMedia.utils.indexOfObjectInArray(o,r)&&o.push(r)}t.hasWinningBid()&&(e=n(t.winning_ad),-1===ProperMedia.utils.indexOfObjectInArray(o,e))&&o.push(e),t.hasWinningAmazonBid()&&(e=n(t.winning_amazon_ad),-1===ProperMedia.utils.indexOfObjectInArray(o,e))&&o.push(e)},this)},this),o;function n(e){return{slot_name:e.slot.name,size:e.size,bidder:e.bidder,time:e.response_ms,floor:e.floor,cpm:e.price,dfp_price:e.dfp_price,gross:e.gross,price:e.price,tag_id:e.tag_id,refresh_cnt:e.slot.refresh.count,displayed:e.displayed}}}}},properLog=new logObj,optionsObj=function(){this.rtp_file_version=0,this.dfp_per_slot=0,this.prebid_version="7.35.0",this.post_id="",this.additional_domains=[],this.site_name="",this.domain="",this.domain_protection=0,this.confiant=0,this.extra_css="",this.extra_js="",this.default_tags=[],this.mcm_type="mcm",this.proper_dfp_id=5376056,this.dfp_advertiser_ids={google:42904576,proper:600883576,adsense:1349528536},this.dfp_id=5376056,this.google_advertiser=42904576,this.proper_advertiser=600883576,this.amazon_advertiser=455011336,this.adsense_advertiser=1349528536,this.dynamic_floors={mobile:{enabled:!1,init_floor_max:1.25,init_size_floor_max:{"640x480":3.5,"400x300":3.5},init_mult_max:.5,init_mult_min:.5,avg_mult:3,avg_max:10},desktop:{enabled:!1,init_floor_max:1.25,init_size_floor_max:{"640x480":3.5,"400x300":3.5},init_mult_max:.5,init_mult_min:.5,avg_mult:3,avg_max:10}},this.nobid_auction_limit={enabled:!1,display:10,video:15},this.testing_mode={enabled:!1,bidder:!1,ids:!1},this.video_players={},this.video_limit={enabled:!1,outstream_inview_limit:5},this.ad_slots={},this.isolated_urls=[],this.s2s_websockets=!1,this.s2s_sse=!1,this.s2s_wss_endpoint="wss://eb-staging.proper.io/s2s",this.s2s_sse_endpoint="https://eb-staging.proper.io/s2s",this.s2s_endpoint="https://eb.proper.io/s2s",this.crid_whitelist_api="https://creative-whitelist-dev.properio.workers.dev/cwl/",this.slot_wrapper_class="proper-ad-unit",this.usync_endpoint="https://usync.proper.io/v1/usersync",this.usync_hb_endpoint="https://eb.proper.io/v1/usersync",this.sandbox_iframe=1,this.sandbox_options=["allow-popups","allow-pointer-lock","allow-scripts","allow-same-origin"],this.audience_pixels={enabled:!1,thresholds:[]},this.audience_segments={},this.native_sizes={skin:"1x1",native_vertical:"1x1",native_horizontal:"1x1",sticky_horizontal:"1x1"},this.advertisement_disclosure={enabled:!1,location:"below"},this.schain={ver:"1.0",complete:0,nodes:[]},this.skip_schain=!1,this.refresh={desktop:{enabled:1,interval:6e4,inview_interval:15e3,max:5,exclude_dfp:0},mobile:{enabled:1,interval:3e4,inview_interval:15e3,max:5,exclude_dfp:0}},this.floors={desktop:{backup:.15,sizes:{}},mobile:{backup:.15,sizes:{}}},this.lazyload={desktop:{enabled:1,fetchMarginPercent:0,renderMarginPercent:0},mobile:{enabled:1,fetchMarginPercent:0,renderMarginPercent:0}},this.autoDelete={desktop:{enabled:!1,autoDeleteMarginPercent:200},mobile:{enabled:!1,autoDeleteMarginPercent:200}},this.userIds={identityAdapters:{id5id:{name:"id5Id",config:{enabled:!1},storage:{}},identitylink:{name:"identityLink",config:{enabled:!1},storage:{}},pubcommonid:{name:"pubCommonId",config:{enabled:!0},storage:{}},publink:{name:"pubLink",config:{enabled:!1},storage:{}},fabrickid:{name:"fabrickId",config:{enabled:!1,apiKey:""},storage:{}},verizonmediaid:{name:"verizonMediaId",config:{enabled:!1},storage:{}}}},this.adlightning={enabled:!1,clientId:"properio",reportAd:!1},this.bidders={header:{},s2s:{}},this.bidder_info={adaptmx_s2s:{rev_share:1,demand_type:"display",bid_grouping:"page",adapter_name:"s2s"},adaptmx_instream_s2s:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",adapter_name:"s2s",default_bid_ttl:3e5},adaptmx_outstream_s2s:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",adapter_name:"s2s",default_bid_ttl:3e5},arbigo_s2s:{rev_share:1,demand_type:"display",bid_grouping:"page",adapter_name:"s2s",default_bid_ttl:3e5},pubmatic_s2s:{rev_share:1,demand_type:"display",bid_grouping:"slot",adapter_name:"s2s",default_bid_ttl:6e4,gvlid:76},sovrn_s2s:{rev_share:1,demand_type:"display",bid_grouping:"page",adapter_name:"s2s",gvlid:13},sovrn_instream_s2s:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"slot",adapter_name:"s2s",default_bid_ttl:3e5,gvlid:13},sovrn_outstream_s2s:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",adapter_name:"s2s",default_bid_ttl:3e5,gvlid:13},sonobi_s2s:{rev_share:1,demand_type:"display",bid_grouping:"slot",adapter_name:"s2s",gvlid:104},gumgum_s2s:{rev_share:1,demand_type:"display",bid_grouping:"page",adapter_name:"s2s",gvlid:13,native_sizes:{desktop:{"1x1":"sticky_horizontal"},mobile:{"1x1":"sticky_horizontal"}}},mediagrid_s2s:{rev_share:1,demand_type:"display",bid_grouping:"page",adapter_name:"s2s",gvlid:13},mediagrid_outstream_s2s:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",adapter_name:"s2s",gvlid:13},verizon_media_s2s:{rev_share:1,demand_type:"display",bid_grouping:"slot",adapter_name:"s2s",gvlid:25},aol_instream_s2s:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",adapter_name:"s2s",gvlid:25},aol_outstream_s2s:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",adapter_name:"s2s",gvlid:25},engagebdr_s2s:{rev_share:1,demand_type:"display",bid_grouping:"page",adapter_name:"s2s"},magnite_s2s:{rev_share:1,demand_type:"display",bid_grouping:"page",adapter_name:"s2s",gvlid:52},yieldmo_s2s:{rev_share:1,demand_type:"display",bid_grouping:"page",adapter_name:"s2s",gvlid:173},appnexus_native:{rev_share:1,demand_type:"native",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"appnexus",gvlid:32,native_sizes:{native_horizontal:"300x250",native_vertical:"300x250"}},brealtime:{rev_share:.9,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"appnexus",gvlid:32},districtm:{rev_share:.9,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"appnexus",gvlid:32},shemedia:{rev_share:.5,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"rubicon",gvlid:337},openx_pmp:{rev_share:1,bid_grouping:"slot",gvlid:69},triplelift_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"triplelift",gvlid:28},triplelift_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"triplelift",gvlid:28},undertone_instream:{rev_share:.9,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e4,adapter_name:"undertone",gvlid:677},undertone_outstream:{rev_share:.9,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e4,adapter_name:"undertone",gvlid:677},vidazoo_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"slot",default_bid_ttl:3e5,adapter_name:"vidazoo",gvlid:744},vidazoo_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"slot",default_bid_ttl:3e5,adapter_name:"vidazoo",gvlid:744},thirtythreeacross_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"slot",default_bid_ttl:36e4,adapter_name:"thirtythreeacross",gvlid:58},thirtythreeacross_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"slot",default_bid_ttl:36e4,adapter_name:"thirtythreeacross",gvlid:58},smart_adserver_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e4,adapter_name:"smart_adserver",gvlid:45},smart_adserver_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e4,adapter_name:"smart_adserver",gvlid:45},medianet_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e4,adapter_name:"medianet",gvlid:142},unruly_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:6e5,adapter_name:"unruly",gvlid:32},unruly_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:6e5,adapter_name:"unruly",gvlid:32},rhythmone_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:6e5,adapter_name:"rhythmone",gvlid:36},rhythmone_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:6e5,adapter_name:"rhythmone",gvlid:36},adyoulike_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"slot",default_bid_ttl:36e5,adapter_name:"adyoulike",gvlid:259},adyoulike_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"slot",default_bid_ttl:36e5,adapter_name:"adyoulike",gvlid:259},districtmdmx_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"districtmdmx"},districtmdmx_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"districtmdmx"},amazon_tam_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"a9",gvlid:793},amazon_tam_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"a9",gvlid:793},emx_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e4,adapter_name:"emx",gvlid:183},emx_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e4,adapter_name:"emx",gvlid:183},sonobi_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"sonobi",gvlid:104},sonobi_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"sonobi",gvlid:104},appnexus_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"appnexus",gvlid:32},appnexus_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"appnexus",gvlid:32},index:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"ix",gvlid:10},ix_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"ix",gvlid:10},ix_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"ix",gvlid:10},engagebdr_instream_s2s:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"s2s"},engagebdr_outstream_s2s:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"s2s"},magnite_instream_s2s:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"s2s",gvlid:25},magnite_outstream_s2s:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"s2s",gvlid:102},yahoo_s2s:{rev_share:1,demand_type:"display",bid_grouping:"slot",default_bid_ttl:3e5,adapter_name:"s2s",gvlid:25},yahoo_instream_s2s:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"slot",default_bid_ttl:3e5,adapter_name:"s2s",gvlid:25},yahoo_outstream_s2s:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"slot",default_bid_ttl:3e5,adapter_name:"s2s",gvlid:25},yahoo_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"slot",default_bid_ttl:3e5,adapter_name:"yahoo",gvlid:25},yahoo_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"slot",default_bid_ttl:3e5,adapter_name:"yahoo",gvlid:25},aol_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"aol_instream",gvlid:25},beachfront_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"beachfront_instream",gvlid:335},openx_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"openx_instream",gvlid:69},pubmatic_outstream:{rev_share:.81,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"pubmatic_instream",gvlid:76},rubicon_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"rubicon_instream",gvlid:52},spotx_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e4,adapter_name:"spotx_instream",gvlid:165},beeswax_s2s:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"s2s",gvlid:12},beeswax_instream_s2s:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"s2s",gvlid:12},beeswax_outstream_s2s:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"s2s",gvlid:12},xandr_s2s:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"s2s",gvlid:32},xandr_native_s2s:{rev_share:1,demand_type:"native",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"s2s",gvlid:32,native_sizes:{desktop:{"728x90":"native_horizontal","300x250":"native_horizontal","160x600":"native_vertical"},mobile:{"300x250":"native_horizontal","320x50":"native_horizontal"}}},pubmatic_outstream_s2s:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"s2s",gvlid:76},pubmatic_native_s2s:{rev_share:1,demand_type:"native",bid_grouping:"page",default_bid_ttl:6e4,adapter_name:"s2s",gvlid:76,native_sizes:{desktop:{"728x90":"native_horizontal","300x250":"native_horizontal","160x600":"native_vertical"},mobile:{"300x250":"native_horizontal","320x50":"native_horizontal"}}},pubmatic_native:{rev_share:.81,demand_type:"native",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"pubmatic",gvlid:76,native_sizes:{desktop:{"300x250":"native_horizontal","320x50":"native_horizontal"},mobile:{"300x250":"native_horizontal","320x50":"native_horizontal"}}},medianet_native:{rev_share:1,demand_type:"native",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"medianet",gvlid:142},xandr_instream_s2s:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"s2s",gvlid:32},xandr_outstream_s2s:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"s2s",gvlid:32},criteo_instream:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"criteo",gvlid:91},criteo_outstream:{rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"criteo",gvlid:91},criteo_native:{rev_share:1,demand_type:"native",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"criteo",gvlid:91},alias_appnexus:{alias:1,rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"appnexus",gvlid:32},alias_appnexus_instream:{alias:1,rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"appnexus",gvlid:32},alias_appnexus_outstream:{alias:1,rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"appnexus",gvlid:32},alias_appnexus_native:{alias:1,rev_share:1,demand_type:"native",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"appnexus",gvlid:32,native_sizes:{native_horizontal:"300x250",native_vertical:"300x250"}},alias_index:{alias:1,rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"ix",gvlid:10},alias_adagio:{alias:1,rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"adagio",gvlid:617},alias_teads:{alias:1,rev_share:1,demand_type:"display",bid_grouping:"page",div_insertion:1,adapter_name:"teads",gvlid:132,native_sizes:{native_horizontal:"300x250",native_vertical:"300x250"}},alias_triplelift:{alias:1,rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"triplelift",gvlid:28,native_sizes:{native_horizontal:"300x250",native_vertical:"300x250"}},alias_medianet:{alias:1,rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"medianet",gvlid:142},alias_rubicon:{alias:1,rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"rubicon",gvlid:52},alias_mediagrid_s2s:{alias:1,rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:12e4,adapter_name:"s2s",gvlid:13},alias_sovrn:{alias:1,rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:9e4,adapter_name:"sovrn",gvlid:13},alias_emx:{alias:1,rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"emx",gvlid:183},alias_openx:{alias:1,rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"openx",gvlid:69},alias_rhythmone:{alias:1,rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:35e4,adapter_name:"rhythmone",gvlid:36},alias_sharethrough:{alias:1,rev_share:.9,demand_type:"display",bid_grouping:"slot",default_bid_ttl:36e4,adapter_name:"sharethrough",gvlid:80,native_sizes:{native_horizontal:"1x1",native_vertical:"1x1"}},alias_thirtythreeacross:{alias:1,rev_share:.8,demand_type:"display",bid_grouping:"slot",default_bid_ttl:6e4,adapter_name:"thirtythreeacross",gvlid:58},alias_pubmatic:{alias:1,rev_share:.81,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,acceptable_ads:!0,adapter_name:"pubmatic",gvlid:76},alias_criteo:{alias:1,rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:6e4,adapter_name:"criteo",gvlid:91},alias_aol:{alias:1,rev_share:1,demand_type:"display",bid_grouping:"slot",default_bid_ttl:6e4,adapter_name:"aol",gvlid:25},alias_spotx_instream:{alias:1,rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"slot",default_bid_ttl:36e4,adapter_name:"spotx_instream"},alias_spotx_outstream:{alias:1,rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e4,adapter_name:"spotx_instream",gvlid:165},alias_a9:{alias:1,rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:12e4,adapter_name:"a9",gvlid:793},alias_amazon_tam_instream:{alias:1,rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"a9",gvlid:793},alias_amazon_tam_outstream:{alias:1,rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"a9",gvlid:793},alias_adyoulike_outstream:{alias:1,rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"slot",default_bid_ttl:36e5,adapter_name:"adyoulike",gvlid:259},alias_criteo_outstream:{alias:1,rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"criteo",gvlid:91},alias_criteo_instream:{alias:1,rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"criteo",gvlid:91},alias_ix:{alias:1,rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"ix",gvlid:10},alias_ix_instream:{alias:1,rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"ix",gvlid:10},alias_ix_outstream:{alias:1,rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"ix",gvlid:10},alias_index_outstream:{alias:1,rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:36e5,adapter_name:"ix",gvlid:10},alias_openx_instream:{alias:1,rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"slot",default_bid_ttl:3e5,gvlid:69},alias_openx_outstream:{alias:1,rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"openx_instream",gvlid:69},alias_pubmatic_instream:{alias:1,rev_share:.81,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"pubmatic_instream",gvlid:76},alias_pubmatic_native:{alias:1,rev_share:.81,demand_type:"native",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"pubmatic",gvlid:76,native_sizes:{desktop:{"300x250":"native_horizontal","320x50":"native_horizontal"},mobile:{"300x250":"native_horizontal","320x50":"native_horizontal"}}},alias_pubmatic_native_s2s:{alias:1,rev_share:1,demand_type:"native",bid_grouping:"page",default_bid_ttl:6e4,adapter_name:"s2s",gvlid:76,native_sizes:{desktop:{"728x90":"native_horizontal","300x250":"native_horizontal","160x600":"native_vertical"},mobile:{"300x250":"native_horizontal","320x50":"native_horizontal"}}},alias_pubmatic_outstream_s2s:{alias:1,rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:3e5,adapter_name:"s2s",gvlid:76},alias_pubmatic_s2s:{alias:1,rev_share:1,demand_type:"display",bid_grouping:"slot",default_bid_ttl:6e4,adapter_name:"s2s",gvlid:76},alias_unruly:{alias:1,rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:36e4,adapter_name:"unruly",gvlid:32},alias_unruly_instream:{alias:1,rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:6e5,adapter_name:"unruly",gvlid:32},alias_unruly_outstream:{alias:1,rev_share:1,demand_type:"video",video_type:"outstream",bid_grouping:"page",default_bid_ttl:6e5,adapter_name:"unruly",gvlid:32}}},adPoolObj=function(){function e(){this.initialized=!1,this.ads=[],this.amazon_ads=[],this.displayed_ads=[],this.auctions={},this.finished_auctions={},this.auction_refresh=!0,this.total_auctions=0,this.auction_count=0,this.vid_auction_count=0,this.max_auctions=10,this.last_auction_ts=0,this.timeout_handle=null,this.timeout=58e3,this.default_timeout=58e3,this.min_timeout=3e3,this.auction_rounds=1,this.sizes={},this.floors={},this.size_override=[],this.init()}return e.prototype.init=function(){window.addEventListener("properActiveTab",function(e){this.setNextAuctionTimeout()}.bind(this)),window.addEventListener("properInactiveTab",function(e){properLog.proper_tracker(),this.clearNextAuctionTimeout()}.bind(this))},e.prototype.setSizes=function(){try{var t;this.sizes={},Object.keys(properPage.slots).map(function(r){Object.keys(properPage.slots[r]).length&&Object.keys(properPage.slots[r]).map(function(e){if(0<properPage.slots[r][e].sizes.length)for(var t,i=0;i<properPage.slots[r][e].sizes.length;i++)0<this.size_override.length&&-1===this.size_override.indexOf(e)||(t=properPage.slots[r][e].sizes[i],properSpecialOps.no_bid_limit?this.sizes[t]=99:this.sizes[t]=this.sizes[t]?this.sizes[t]+1:1)},this)},this),Object.keys(this.sizes).length||(t=ProperMedia.utils.deepAccess(properOps,"auctions.resolution_size_map")||{},0<Object.keys(t).length&&Object.keys(t).forEach(function(e){properPage.width>=e&&t[e].forEach(function(e){this.sizes[e]=99},this)},this))}catch(e){return properLog.mylog("AdPool: Error setting auction sizes"),!1}return!0},e.prototype.setAuctionRounds=function(){try{var e=properDevice.isMobile()?"mobile":"desktop";this.auction_rounds=parseInt(ProperMedia.utils.deepAccess(properOps,"auctions."+e+".rounds")||this.auction_rounds)}catch(e){return properLog.mylog("AdPool: Error setting auction rounds"),!1}return!0},e.prototype.setMaxAuctions=function(){try{var e=properDevice.isMobile()?"mobile":"desktop";this.max_auctions=parseInt(ProperMedia.utils.deepAccess(properOps,"auctions."+e+".max")||this.max_auctions)}catch(e){return properLog.mylog("AdPool: Error setting max auction"),!1}return!0},e.prototype.setDefaultTimeout=function(){try{var e=properDevice.isMobile()?"mobile":"desktop";this.default_timeout=parseInt(ProperMedia.utils.deepAccess(properOps,"auctions."+e+".timeout")||this.default_timeout)}catch(e){return properLog.mylog("AdPool: Error setting auction default timeout"),!1}return!0},e.prototype.checkSlotRefresh=function(){var t=!1;return Object.keys(properPage.slots.display).forEach(function(e){properPage.slots.display[e].refresh.enabled&&(t=!0)}),t},e.prototype.checkMaxAuctionsReached=function(){return!!(this.auction_count>=this.max_auctions||""!==ProperMedia.utils.deepAccess(properPage,"takeover.bidder"))},e.prototype.setDefaultFloors=function(){try{var e=properDevice.isMobile()?"mobile":"desktop";this.floors=ProperMedia.utils.deepCopy(ProperMedia.utils.deepAccess(properOps,"floors."+e)||{})}catch(e){return properLog.mylog("AdPool: Error setting auction default floors"),!1}return!0},e.prototype.startNewAuction=function(e){return userIds.isDoneMatching()?consentManager.checkIfMissing()?(properLog.mylog("AdPool: Wait for CMP Consent To Finish."),consentManager.loadIfMissing(this.startNewAuction.bind(this)),!1):properPage.viewability_tracker.slotsInFetchZone?properPage.init_slots_build?(this.initialized=!0,this.setDefaultFloors(),this.setMaxAuctions(),this.setAuctionRounds(),this.setDefaultTimeout(),this.clearNextAuctionTimeout(),void this.setNextAuctionTimeout(e)):(properLog.mylog("AdPool: Initial slots for page haven't been built yet."),!1):(properLog.mylog("AdPool: No slots are in the fetch zone."),properPage.viewability_tracker.setCallback(this.startNewAuction.bind(this)),!1):(properLog.mylog("AdPool: Wait for UserId Matching To Finish."),userIds.setCallback(this.startNewAuction.bind(this)),!1)},e.prototype.startNewVideoAuction=function(e){this.setSizes(),this.sendVideoAuction(e),this.clearExpiredAds()},e.prototype.sendVideoAuction=function(e){properLog.mylog("AdPool: Starting New Video Auction"),this.vid_auction_count++;e=new auctionObj(parseFloat(this.total_auctions+"."+this.vid_auction_count),"video",e);return(this.auctions[e.id]=e).sendBids(),!0},e.prototype.sendAuction=function(e){return this.checkMaxAuctionsReached()&&!e?(properLog.mylog("AdPool: Max Auctions reached: "+this.max_auctions),!1):!this.checkSlotRefresh()&&0<this.auction_count&&!e?(properLog.mylog("AdPool: Auction disabled. No slots have refresh enabled."),!1):!this.auction_refresh&&0<this.auction_count?(properLog.mylog("AdPool: Auction Refresh is disabled."),!1):(properLog.mylog("AdPool: Starting New Auction"),this.setSizes(),this.auction_count+=1,this.total_auctions+=1,properSession.updateSessionAuctionCount(),properPage.video_enabled&&this.vid_auction_count++,e=new auctionObj(this.total_auctions),(this.auctions[e.id]=e).sendBids(),this.size_override=[],!0)},e.prototype.auctionFinished=function(e){var t;this.auctions[e]&&(t=new Event("properAuctionDone"),window.dispatchEvent(t),this.last_auction_ts=Date.now(),this.finished_auctions[e]=this.auctions[e],delete this.auctions[e],this.setNextAuctionTimeout(),10<(t=Object.keys(this.finished_auctions)||[]).length)&&t.splice(0,t.length-10).forEach(function(e){delete this.finished_auctions[e]},this)},e.prototype.addBidToPool=function(e){0<e.price&&((e=new adObj(ProperMedia.utils.deepCopy(e))).dfp_price=roundPriceToDfpBucket(e.price),this.ads.push(e),this.ads.sort(function(e,t){return parseFloat(t.price)-parseFloat(e.price)}))},e.prototype.getWinningBids=function(r,s,o){let e,t=[];var i,a=this.getWinningBid(r,s,o);return r.flex_enabled&&(i=r.flex_map,(i=Object.entries(i).filter(([,e])=>1<e).map(([t,e])=>{var i=this.ads.filter(e=>e.size===t);return this.getWinningBid(r,s,o,i,e)}).reduce((e,t)=>(e?.price||0)>(t?.price||0)?e:t,a)?.ads)?.length)&&([e,...t]=i.map(e=>new adObj(ProperMedia.utils.deepCopy(e)))),!e&&a?.ads?.length&&(e=new adObj(ProperMedia.utils.deepCopy(a.ads[0]))),this.removeAds(e,...t),{winning_ad:e,flex_ads:t}},e.prototype.getWinningBid=function(e,t,i,r,s){var o=e.sizes,a=[];if(t=t||["display","native","video"],s=s||1,0<(r=r||this.ads).length){!1!==properPage.video_enabled&&e.video_player instanceof videoPlayer||(t=["display","native"]);for(const d of r)if(d.checkIfExpired())this.removeAds(d);else if(1!==d.displayed&&-1!==t.indexOf(d.type)&&("video"!==d.type||i&&i===d.video_type)&&-1!==o.indexOf(d.size)&&(!(1===e.sticky&&1===e.displayed&&0<e.refresh.count&&e.size!==d.size)||properSpecialOps.sliderHeader)&&!(0<e.refresh.count&&1===ProperMedia.utils.deepAccess(properOps,"bidder_info."+d.bidder+".dont_refresh"))){if("beeswax_s2s"===d.bidder){var n=d.tag_id.match(/^slot_(.*)$/);if(n&&1<n.length&&n[1]!==e.dfp_name)return}else if(d.target_slot&&d.target_slot!==e.dfp_name)return;if(!properUser.checkAdBlock()||ProperMedia.utils.deepAccess(properOps,"bidder_info."+d.bidder+".acceptable_ads")&&"native"===ProperMedia.utils.deepAccess(properOps,"bidder_info."+d.bidder+".demand_type")){n=properOps.testing_mode.enabled?0:e.getFloor(d.size);if((""===ProperMedia.utils.deepAccess(properPage,"takeover.bidder")||d.bidder===ProperMedia.utils.deepAccess(properPage,"takeover.bidder"))&&d.price>=n&&(a.push(d),s<=a.length))break}}return{ads:a,price:a.reduce((e,{price:t})=>e+t,0)}}return null},e.prototype.removeAd=function(e){this.ads.splice(e,1)},e.prototype.removeAds=function(...r){this.ads?.reduce((e,t,i)=>r.find(e=>e?.id===t?.id)?[i,...e]:e,[]).forEach(e=>this.removeAd(e))},e.prototype.addAmazonBidToPool=function(e){e.price&&(e=new adObj(ProperMedia.utils.deepCopy(e)),this.amazon_ads.push(e),this.amazon_ads=_0x2b21de(this.amazon_ads))},e.prototype.getWinningAmazonBid=function(e,t,i){var r=e.sizes;if(t=t||["display","native","video"],0<this.amazon_ads.length&&(!1!==properPage.video_enabled&&e.video_player instanceof videoPlayer||-1===t.indexOf("video")||t.splice(t.indexOf("video"),1),0!=t.length))for(var s=0;s<this.amazon_ads.length;s++){var o=this.amazon_ads[s];if(o.checkIfExpired())this.amazon_ads.splice(s,1),s--;else if(1!=o.displayed&&-1!=t.indexOf(o.type)&&("video"!=o.type||i&&i===o.video_type)&&-1!=r.indexOf(o.size)&&(!(1==e.sticky&&1==e.displayed&&0<e.refresh.count&&e.size!==o.size)||properSpecialOps.sliderHeader)&&!(0<e.refresh.count&&1==ProperMedia.utils.deepAccess(properOps,"bidder_info."+o.bidder+".dont_refresh"))&&(!o.target_slot||o.target_slot===e.dfp_name)&&(!properUser.checkAdBlock()||ProperMedia.utils.deepAccess(properOps,"bidder_info."+o.bidder+".acceptable_ads")&&"native"===ProperMedia.utils.deepAccess(properOps,"bidder_info."+o.bidder+".demand_type"))&&(""==ProperMedia.utils.deepAccess(properPage,"takeover.bidder")||o.bidder==ProperMedia.utils.deepAccess(properPage,"takeover.bidder"))){e.winning_amazon_ad=new adObj(ProperMedia.utils.deepCopy(o)),this.amazon_ads.splice(s,1);break}}},e.prototype.calcTimeout=function(){return 0===this.total_auctions&&0===this.auction_count||1===this.total_auctions&&1===this.auction_count&&properPage.spa_settings.enabled&&properPage.spa_settings.prefetch?this.timeout=0:0===this.auction_count&&0<this.total_auctions?this.timeout=this.timeSinceLastAuction()<this.min_timeout?this.min_timeout:0:this.timeout=Math.max(this.min_timeout,this.default_timeout),this.timeout=this.timeout-this.timeSinceLastAuction(),Math.max(this.timeout,0)},e.prototype.getTimeLeftOnRunningAuctions=function(){var t=[];try{Object.keys(this.auctions).length&&Object.keys(this.auctions).forEach(function(e){e=this.auctions[e],e=Math.max(0,e.max_timeout-e.auctionTimePassed());0<e&&t.push(e)},this)}catch(e){console.log(e)}return t},e.prototype.setNextAuctionTimeout=function(e){null==this.timeout_handle&&!this.checkMaxAuctionsReached()&&this.initialized&&(this.calcTimeout(),this.timeout_handle=properSetTimeout.setTimeout.call(this,function(){this.clearNextAuctionTimeout(),this.sendAuction(e),this.clearExpiredAds()},Math.max(0,this.timeout)))},e.prototype.clearNextAuctionTimeout=function(){clearTimeout(this.timeout_handle),this.timeout_handle=null},e.prototype.timeSinceLastAuction=function(){return 0===this.last_auction_ts?0:Date.now()-this.last_auction_ts},e.prototype.clearExpiredAds=function(){if(0<this.ads.length)for(var e=0;e<this.ads.length;e++)this.ads[e].checkIfExpired()&&this.ads.splice(e--,1)},e.prototype.clearCachedAds=function(){properLog.mylog("AdPool: Clearing Cached Ads"),this.ads=[],this.displayedAds=[]},e}(),auctionObj=function(){function e(e,t,i){this.id=ProperMedia.utils.generateUUID(),this.requests_sent=0,this.ads=[],this.amazon_ads=[],this.bid_errors=[],this.bids={},this.bids_sent_finished=!1,this.bids_sent=0,this.bids_returned=0,this.bids_started_ts=0,this.bids_done_ts=0,this.auction_bidders=[],this.all_bidders=[],this.bidders_no_bids=[],this.max_timeout=1500,this.max_timeout_handle=null,this.auction_num=e,this.alias_accounts=!1,this.demand_type=t||null,this.video_type=i||null,this.sizes={},this.finished=!1}return e.prototype.sendBids=function(){if(checkKillAllAds())return!1;this.setAliasAccounts(),this.setMaxAuctionTimeout(),this.bids_started_ts=ProperMedia.utils.getTimestampMs(),this.sendS2SBidders(),this.sendHeaderBidders(),this.bids_sent_finished=!0},e.prototype.sendS2SBidders=function(){if(cookieMatching.done_matching){if(this.getAuctionBidders("s2s"),0<this.auction_bidders.length){var m={},h=properDevice.isMobile()?"mobile":"desktop",_=Math.max(0,parseInt(properAdPool.auction_count-1)%parseInt(properAdPool.auction_rounds));if(this.auction_bidders.forEach(function(e){var t=ProperMedia.utils.deepAccess(properOps,"bidders.s2s."+e+".tag_ids."+h)||!1;if(!this.checkAlternateAccounts(e))return!1;if(!t||0==t.length)return!1;var i,r=ProperMedia.utils.deepCopy(t),t=ProperMedia.utils.deepAccess(properOps,"bidders.s2s."+e+".site_id")||"",s=Object.filter(r[_]||{},function(e){return void 0!==properAdPool.sizes[e]&&0<r[_][e].length});for(i in s){var o=properAdPool.sizes[i],a=[];if("beeswax_s2s"==e)for(var n=ProperMedia.utils.deepCopy(s[i]),d=0;d<n.length;d++){var p=n[d],l=p.match(/^slot_(.*)$/);l&&1<l.length&&(ProperMedia.utils.deepAccess(properOps,"ad_slots.display."+l[1])||ProperMedia.utils.deepAccess(properOps,"ad_slots.video."+l[1]))&&(a.push(s[i].splice(s[i].indexOf(p),1)[0]),0<o)&&o--}0<s[i].length-o&&"beeswax_s2s"!==e&&s[i].splice(o,s[i].length-o),s[i]=s[i].concat(a),ProperMedia.utils.deepAccess(this,"sizes."+i)||(this.sizes[i]=properAdPool.sizes[i])}var c=ProperMedia.utils.deepCopy(ProperMedia.utils.deepAccess(properOps,"bidders.s2s."+e+".floors."+h)||{}),u=!schainCheck(e),g={};ProperMedia.utils.deepAccess(properOps,"bidders.s2s."+e+".account_overrides.enabled")&&ProperMedia.utils.deepAccess(properOps,"bidders.s2s."+e+".account_overrides.bidder_ids")&&(g=ProperMedia.utils.deepAccess(properOps,"bidders.s2s."+e+".account_overrides.bidder_ids")),0<Object.keys(s).length&&(m[e]={site_id:t,tag_ids:s,bidder_ids:g,skip_schain:u,bidder_floors:c})},this),0<Object.keys(m).length){this.bids.s2s=new bidObj("s2s",m,{},this);try{consentManager.ready(function(){bidAdapters.s2s.send(this.bids.s2s)}.bind(this))}catch(e){console.error(e),e.bidder="s2s",sendError(TraceKit.computeStackTrace(e))}}}}else properLog.mylog("Wait for S2S Cookie Matching To Finish."),cookieMatching.callback=this.sendS2SBidders.bind(this)},e.prototype.sendHeaderBidders=function(){var h,_;this.getAuctionBidders("header"),0<this.auction_bidders.length&&(h=properDevice.isMobile()?"mobile":"desktop",this.shuffleBidders(),_=Math.max(0,parseInt(properAdPool.auction_count-1)%parseInt(properAdPool.auction_rounds)),this.auction_bidders.forEach(function(e){var t=ProperMedia.utils.deepAccess(properOps,"bidders.header."+e+".tag_ids."+h)||!1,i=ProperMedia.utils.deepAccess(properOps,"bidders.header."+e+".slot_tag_ids."+h)||!1,r=bidderToAdapterName(e);if(!this.checkAlternateAccounts(e))return!1;if((!t||0==t.length)&&(!i||i.length))return!1;var s,o,a=ProperMedia.utils.deepCopy(t),n=Object.filter(a[_]||{},function(e){return void 0!==properAdPool.sizes[e]&&0<a[_][e].length}),t=ProperMedia.utils.deepCopy(i),d=Object.filter(t[_]||{},function(e){return properPage.getSlotFromPageObjectByDfpName(e)});for(s in n){var p=properAdPool.sizes[s];if(-1!=["sharethrough","triplelift","teads"].indexOf(e))for(var l=ProperMedia.utils.deepCopy(n[s]),c=0;c<l.length;c++){var u=l[c],g=u.split("|");g&&1<g.length&&properPage.getSlotFromPageObjectByDfpName(g[0])?(ProperMedia.utils.deepAccess(d,g[0])||(d[g[0]]={}),ProperMedia.utils.deepAccess(d,g[0]+"."+s)||(d[g[0]][s]=[]),n[s].splice(n[s].indexOf(u),1),d[g[0]][s].push(g[1])):g&&1<g.length&&(ProperMedia.utils.deepAccess(properOps,"ad_slots.video."+g[0])||ProperMedia.utils.deepAccess(properOps,"ad_slots.display."+g[0]))&&!properPage.getSlotFromPageObjectByDfpName(g[0])&&n[s].splice(n[s].indexOf(u),1)}0<n[s].length-p&&n[s].splice(p,n[s].length-p),ProperMedia.utils.deepAccess(this,"sizes."+s)||(this.sizes[s]=properAdPool.sizes[s])}for(o in d)for(var m in d[o])void 0!==properAdPool.sizes[m]&&0<d[o][m].length?ProperMedia.utils.deepAccess(this,"sizes."+m)||(this.sizes[m]=properAdPool.sizes[m]):delete d[o][m];if(0<Object.keys(n).length||0<Object.keys(d).length){this.bids[e]=new bidObj(e,n,d,this);try{void 0!==bidAdapters[r]&&consentManager.ready(function(){bidAdapters[r].send(this.bids[e]),"function"==typeof bidAdapters[r].getUserSyncs&&bidAdapters[r].getUserSyncs()}.bind(this))}catch(e){console.error(e),e.bidder=r,sendError(TraceKit.computeStackTrace(e))}}},this))},e.prototype.getAuctionBidders=function(a){this.auction_bidders=Object.keys(properOps.bidders[a]||{}).filter(function(e){var t=properOps.bidders[a][e],i=(bidderToAdapterName(e),ProperMedia.utils.deepAccess(properOps,"bidder_info."+e+".demand_type")||"display"),r=ProperMedia.utils.deepAccess(properOps,"bidder_info."+e+".acceptable_ads")||!1,s=ProperMedia.utils.deepAccess(properOps,"bidder_info."+e+".video_type")||null,o=ProperMedia.utils.deepAccess(properSession,"sessionData.no_bid_cnt."+e)||0;return!!gdprEnforcement.makeBidRequestEnforcement(e)&&(properOps.nobid_auction_limit.enabled&&o>=properOps.nobid_auction_limit[i]+3?(o=properOps.nobid_auction_limit[i]-1,ProperMedia.utils.deepSetValue(properSession,"sessionData.no_bid_cnt."+e,o)):properOps.nobid_auction_limit.enabled&&o>=properOps.nobid_auction_limit[i]&&ProperMedia.utils.deepSetValue(properSession,"sessionData.no_bid_cnt."+e,++o),!(ProperMedia.utils.deepAccess(properSpecialOps,"disabled_bidders")||[]).includes(e))&&!(properUser.checkAdBlock()&&!r&&"native"!==i||""!=ProperMedia.utils.deepAccess(properPage,"takeover.bidder")&&ProperMedia.utils.deepAccess(properPage,"takeover.bidder")!=e||properOps.nobid_auction_limit.enabled&&!(o<properOps.nobid_auction_limit[i])||this.demand_type&&this.demand_type!=i||"display"!=i&&"native"!=i&&(!("video"==i&&1==properPage.video_enabled&&0<properPage.video_player_count[s].possible.length)||this.video_type&&this.video_type!=s))&&(t.enabled&&!t.test&&!properOps.testing_mode.bidder||properOps.testing_mode.bidder==e)},this),this.bidders_no_bids=this.bidders_no_bids.concat(ProperMedia.utils.deepCopy(this.auction_bidders)),this.all_bidders=ProperMedia.utils.deepCopy(this.bidders_no_bids)},e.prototype.setAuctionTopAverages=function(){var e=properDevice.isMobile()?"mobile":"desktop";let t=properSpecialOps.dynamicFloorsAvgMult||ProperMedia.utils.deepAccess(properOps,"dynamic_floors."+e+".avg_mult")||(properSession?.sessionData?.depth<5?3:4),i=properSpecialOps.dynamicFloorsAvgMax||ProperMedia.utils.deepAccess(properOps,"dynamic_floors."+e+".avg_max")||10;var o,a={};(properSpecialOps.dynamicFloors||ProperMedia.utils.deepAccess(properOps,"dynamic_floors."+e+".enabled"))&&(o={},properSession.sessionData.bid_avg=properSession.sessionData.bid_avg||{},Object.keys(this.sizes).forEach(function(e){a[e]=Math.min(Math.round((99===this.sizes[e]?4:this.sizes[e])*t),i),o[e]=[]},this),this.ads.forEach(function(e){void 0===o[e.size]&&(a[e.size]=Math.min(Math.round((99===this.sizes[e.size]?4:this.sizes[e.size])*t),i),o[e.size]=[]),o[e.size].length<a[e.size]&&o[e.size].push(e.price)},this),o=_0x359c5d(this,o,a,t,i),Object.keys(o).forEach(function(e){var t=a[e]+1,i=ProperMedia.utils.deepAccess(properAdPool,"floors.sizes."+e)||properAdPool.floors.backup;properSession.sessionData.bid_avg[e]||(t=a[e],properSession.sessionData.bid_avg[e]=0);for(var r=0;r<a[e];r++){var s=o[e][r]||i;properSession.sessionData.bid_avg[e]+=s}properSession.sessionData.bid_avg[e]=Number((properSession.sessionData.bid_avg[e]/t).toFixed(2))},this),properSession.setSessionData())},e.prototype.shuffleBidders=function(){for(var e,t,i=this.auction_bidders.length;0!==i;)t=Math.floor(Math.random()*i),e=this.auction_bidders[--i],this.auction_bidders[i]=this.auction_bidders[t],this.auction_bidders[t]=e;return this.auction_bidders},e.prototype.setMaxAuctionTimeout=function(){null==this.max_timeout_handle&&(this.max_timeout_handle=properSetTimeout.setTimeout.call(this,function(){this.auctionFinished()},properOps.custom_auction_timeout||this.max_timeout))},e.prototype.clearMaxAuctionTimeout=function(){clearTimeout(this.max_timeout_handle),this.max_timeout_handle=null},e.prototype.incrementRequestsSent=function(e){this.bids_sent+=isNaN(parseInt(e))?0:parseInt(e),this.requests_sent++},e.prototype.incrementBidResponseCount=function(e){this.bids_returned+=isNaN(parseInt(e))?0:parseInt(e),this.bids_sent<=this.bids_returned&&1==this.bids_sent_finished&&0==this.finished&&this.auctionFinished()},e.prototype.getPerecentBidsReady=function(){return 0<this.bids_sent?(this.bids_returned/this.bids_sent*100).toFixed(2):0},e.prototype.logBidResponse=function(e,t){var i=new adObj(ProperMedia.utils.deepCopy(e)),r=bidderToAdapterName(t.bidder),i=("a9"==t.bidder||"a9"==r?(this.amazon_ads.push(i),this.amazon_ads=_0x2b21de(this.amazon_ads)):(this.ads.push(i),this.ads.sort(function(e,t){return parseFloat(t.price)-parseFloat(e.price)})),("s2s"==t.bidder?e:t).bidder);-1!==this.bidders_no_bids.indexOf(i)&&this.bidders_no_bids.splice(this.bidders_no_bids.indexOf(i),1),properUser.checkAdBlockDetected()&&!properUser.checkAdBlock()||("a9"==t.bidder||"a9"==r?properAdPool.addAmazonBidToPool(e):properAdPool.addBidToPool(e))},e.prototype.calcAuctionMs=function(){return 0<this.bids_done_ts&&0<this.bids_started_ts&&this.bids_done_ts>this.bids_started_ts?this.bids_done_ts-this.bids_started_ts:-1},e.prototype.auctionTimePassed=function(){return(new Date).getTime()-this.bids_started_ts},e.prototype.auctionFinished=function(){this.finished||(this.finished=!0,properLog.mylog("Auction Finished"),this.clearMaxAuctionTimeout(),this.bids_done_ts=ProperMedia.utils.getTimestampMs(),properAdPool.auctionFinished(this.id),this.setAuctionTopAverages(),this.setBiddersWithNoBids())},e.prototype.setBiddersWithNoBids=function(){properOps.nobid_auction_limit.enabled&&this.all_bidders.length&&(this.all_bidders.forEach(function(e){var t;-1!==this.bidders_no_bids.indexOf(e)?(t=(ProperMedia.utils.deepAccess(properSession,"sessionData.no_bid_cnt."+e)||0)+1,ProperMedia.utils.deepSetValue(properSession,"sessionData.no_bid_cnt."+e,t)):ProperMedia.utils.deepAccess(properSession,"sessionData.no_bid_cnt."+e)&&delete properSession.sessionData.no_bid_cnt[e]},this),properSession.setSessionData())},e.prototype.setAliasAccounts=function(){this.alias_accounts=!!(ProperMedia.utils.deepAccess(properSpecialOps,"alias_accounts")||ProperMedia.utils.deepAccess(properSpecialOps,"alternate_bidders_pageviews")&&ProperMedia.utils.deepAccess(properSession,"sessionData.depth")%2==0||ProperMedia.utils.deepAccess(properSpecialOps,"alternate_bidders_auctions")&&ProperMedia.utils.deepAccess(properSession,"sessionData.auction_count")%2==0)},e.prototype.checkAlternateAccounts=function(e){var t=ProperMedia.utils.deepAccess(properOps,"bidder_info."+e+".alias")||!1;return(properSpecialOps.alias_accounts||properSpecialOps.alternate_bidders_auctions||properSpecialOps.alternate_bidders_pageviews)&&this.alias_accounts&&(t||!t&&-1==this.auction_bidders.indexOf("alias_"+e))||!this.alias_accounts&&!t},e}(),cookieMatchingObj=function(){this.proper_uid="",this.bidderUserSyncValues={},this.cookie_map={aol:["aol_outstream","aol_instream"],sovrn:["sovrn","sovrn_instream","sovrn_outstream"],yahoo:["yahoo","yahoo_instream","yahoo_outstream"],adaptmx:["adaptmx","adaptmx_outstream","adaptmx_instream"],magnite:["magnite","magnite_instream","magnite_outstream"],pubmatic:["pubmatic","pubmatic_outstream","pubmatic_native"],engagebdr:["engagebdr","engagebdr_instream","engagebdr_outstream"],xandr:["xandr","xandr_native","xandr_instream","xandr_outstream"],verizon_media:["verizon_media","yahoo","yahoo_instream","yahoo_outstream"]},this.done_matching=!1,this.sent=0,this.received=0,this.timeout=1e3,this.timeout_handle=null,this.callback=null,this.init=function(){this.proper_uid=properUser.pubcid||userIdAdapters.pubCommonId.getValue(),Object.keys(ProperMedia.utils.deepAccess(properOps,"bidders.s2s")||{}).forEach(function(e){(ProperMedia.utils.deepAccess(properOps,"bidders.s2s."+e+".enabled")||properOps.testing_mode.enabled&&properOps.testing_mode.bidder==e)&&this.getBidderUserSyncValue(e)},this)},this.cookieMatch=function(){var t=[];Object.keys(ProperMedia.utils.deepAccess(properOps,"bidders.s2s")||{}).forEach(function(e){(ProperMedia.utils.deepAccess(properOps,"bidders.s2s."+e+".enabled")||properOps.testing_mode.enabled&&properOps.testing_mode.bidder==e)&&t.push(e)});for(var e=0;e<t.length;e++){var i=t[e].replace("_s2s","");this.bidderUserSyncValues[i]||consentManager.ready(function(){this.requestCookieMatch(i)}.bind(this))}0==this.sent?this.matchingDone():this.addTimeout()},this.requestCookieMatch=function(e){if(!gdprEnforcement.userSyncEnforcement(e+"_s2s"))return!1;properLog.mylog("Start "+e+" Cookie Matching");var t,i=[],i=("boolean"==typeof gdprConsent.gdprApplies&&(i.push("gdpr="+gdprConsent.gdprApplies.toString()),gdprConsent.consentString)&&i.push("gdpr_consent="+gdprConsent.consentString),uspConsent.usPrivacy&&i.push("us_privacy="+uspConsent.usPrivacy),i.join("&")),r=properOps.usync_endpoint+"?bidder="+e+"&proper_uid="+this.proper_uid+"&uid=",s="",o="",a="",n="",d=!1;"adaptmx"==e||"adaptmx_instream"==e||"adaptmx_outstream"==e?o="https://prebid.a-mo.net/cchain/0?cb="+encodeURIComponent(r)+"&"+i:"sovrn"==e||"sovrn_instream"==e||"sovrn_outstream"==e?(s="[SOVRNID]",o="https://ce.lijit.com/merge?pid="+(t=ProperMedia.utils.deepAccess(properOps,"bidders.s2s."+e+"_s2s.site_id")||263069)+"&3pid="+this.proper_uid+"&location="+encodeURIComponent(r+s)+"&"+i):"pubmatic"==e||"pubmatic_outstream"==e||"pubmatic_native"==e?(s="#PM_USER_ID",o="https://image6.pubmatic.com/AdServer/UCookieSetPug?oid=1&rd="+encodeURIComponent(r+s)+"&"+i):"districtm"==e?(s="$UID",o="https://ib.adnxs.com/getuid?"+encodeURIComponent(r+s)+"&"+i):"sonobi"==e?(s="[UID]",o="https://sync.go.sonobi.com/us?loc="+encodeURIComponent(r+s)+"&"+i):"yieldmo"==e?(s="$UID",o="https://ads.yieldmo.com/pbsync?&redirectUri="+encodeURIComponent(r+s)+"&"+i):"gumgum"==e?(n="gg-usync-iframe",(t=ProperMedia.utils.deepAccess(properOps,"bidders.s2s."+e+"_s2s.site_id")||"")&&!document.getElementById(n)&&(a="https://rtb.gumgum.com/getuid/"+t+"?r="+encodeURIComponent(r+s)+"&"+i)):"mediagrid"==e?(s="${BSW_UUID}",o="https://x.bidswitch.net/check_uuid/"+encodeURIComponent(r+s)+"?"+i):"verizon_media"==e||"yahoo"==e||"yahoo_instream"==e||"yahoo_outstream"==e?(o="https://ups.analytics.yahoo.com/ups/58355/sync?redir=true",d=function(){this.received++}.bind(this)):"aol_instream"==e||"aol_outstream"==e?o="https://pixel.advertising.com/ups/58316/sync?redir=true&"+i:"xandr"==e||"xandr_native"==e||"xandr_instream"==e||"xandr_outstream"==e?(s="$UID",o="https://ib.adnxs.com/getuid?"+encodeURIComponent(r+s)):"engagebdr"==e||"engagebdr_instream"==e||"engagebdr_outstream"==e?(s="[UUID]",t=1000227,o="https://match.bnmla.com/usersync?sspid="+(t=ProperMedia.utils.deepAccess(properOps,"bidders.s2s."+e+"_s2s.account_overrides.enabled")?ProperMedia.utils.deepAccess(properOps,"bidders.s2s."+e+"_s2s.account_overrides.bidder_ids.sspid")||t:t)+"&redir="+encodeURIComponent(r+s)):"magnite"!=e&&"magnite_instream"!=e&&"magnite_outstream"!=e||document.getElementById(n="multisync-iframe")||(i=8777,a="https://secure-assets.rubiconproject.com/utils/xapi/multi-sync.html?p="+(i=ProperMedia.utils.deepAccess(properOps,"bidders.s2s."+e+"_s2s.account_overrides.enabled")?ProperMedia.utils.deepAccess(properOps,"bidders.s2s."+e+"_s2s.account_overrides.bidder_ids.account_id")||i:i)+"&endpoint=us-west"),""!=o?(this.sent++,$.ajax({url:o,bidder:e,requestType:"jsonp",onload:d})):a&&n&&(this.sent++,(t=document.createElement("iframe")).id=n,t.width=0,t.height=0,t.marginWidth=0,t.marginHeight=0,t.scrolling="no",t.frameBorder=0,t.style.border="0px",t.style.display="none",t.src=a,document.body.appendChild(t))},this.logMatchingResponse=function(e,i,t){this.updateBidderUserSyncData(e,t),this.received++,"sonobi"==e&&$(function(){try{var e=document.createElement("script"),t=(e.src="//sync.go.sonobi.com/uc.js?pubid="+(i||this.proper_uid),e.async=!0,e.type="text/javascript",document.getElementsByTagName("script")[0]);t.parentNode.insertBefore(e,t)}catch(e){console.log(e),sendError(TraceKit.computeStackTrace(e))}}),this.received>=this.sent&&this.matchingDone()},this.getBidderUserSyncValue=function(e){var t={bidderCode:e},e=e.replace("_s2s","");properStorage.cookiesAreEnabled(t)&&properStorage.getCookie(e+"_cookie",t)&&(this.bidderUserSyncValues[e]=properStorage.getCookie(e+"_cookie",t)),properStorage.hasLocalStorage(t)&&(this.bidderUserSyncValues[e]?(properStorage.setDataInLocalStorage("ProperS2SUserSync."+e,this.bidderUserSyncValues[e],t),properStorage.deleteCookie(e+"_cookie","Lax","",t)):properStorage.getDataFromLocalStorage("ProperS2SUserSync."+e,t)&&(this.bidderUserSyncValues[e]=properStorage.getDataFromLocalStorage("ProperS2SUserSync."+e,t)))},this.updateBidderUserSyncData=function(e,t){if(e&&t)for(var i,r,s,o={bidderCode:e.includes("_s2s")?e:e+"_s2s"},a=(e=e.replace("_s2s","")).replace(/_instream|_outstream/,""),n=this.cookie_map[a]||[e],d=0;d<n.length;d++)this.bidderUserSyncValues[n[d]]=t,properStorage.hasLocalStorage(o)?properStorage.setDataInLocalStorage("ProperS2SUserSync."+n[d],t,o):properStorage.cookiesAreEnabled(o)&&((s=new Date).setTime(s.getTime()+5184e6),i=n[d]+"_cookie",r=t,s=s.toGMTString(),properStorage.setCookie(i,r,s,"Lax","",{bidderCode:e}))},this.matchingDone=function(){1!=this.done_matching&&(this.done_matching=1,ProperMedia.utils.isFn(this.callback)&&(this.callback(),this.callback=null),properLog.mylog("S2S Cookie Matching Done"),this.resetTimeout())},this.addTimeout=function(){var e=this;this.timeout_handle=properSetTimeout.setTimeout.call(e,function(){e.resetTimeout(),e.matchingDone()},e.timeout)},this.resetTimeout=function(){clearTimeout(this.timeout_handle),this.timeout_handle=null}},sessionObj=function(){this.sessionData={uuid:"",depth:0,referrer:"",gclid:"",fbclid:"",utm_campaign:"",utm_source:"",utm_medium:"",utm_term:"",utm_content:"",utm_template:"",utm_referrer:"",utm_adset:"",utm_subid:"",revenue:0,bid_avg:{},no_bid_cnt:{},auction_count:0,last_threshold:0},this.sessionCookieNameOld="properSessionData",this.sessionCookieNameNew="properSessionStorage",this.coreStorageObj={moduleType:"core",moduleName:"sessionData"},this.init=function(){this.getSessionData(),ProperMedia.utils.deepAccess(this,"sessionData.depth")&&ProperMedia.utils.isNumber(parseInt(this.sessionData.depth))?this.sessionData.depth=parseInt(this.sessionData.depth)+1:this.sessionData.depth=1,this.initBidAvg();var e=["utm_medium","utm_source","utm_campaign","utm_term","utm_content","utm_template","utm_referrer","utm_adset","utm_subid","gclid","fbclid"],t=e.some(function(e){return void 0!==properPage.get_vars[e]},this),t=(""===properPage.referrer||ProperMedia.utils.matchDomain(properPage.domain,properPage.referrer)||this.checkForChange("referrer",properPage.referrer)&&(t=!0),t&&e.forEach(function(e){this.checkForChange(e,properPage.get_vars[e]||"")},this),void 0!==this.sessionData.uuid&&""!=this.sessionData.uuid||(this.sessionData.uuid=ProperMedia.utils.generateUUID(),this.sessionData.referrer=properPage.referrer,this.sessionData.last_threshold=0),audiencePixels.controller.newPageview(),1e3*parseFloat(properPage.get_vars.proper_rps??0));0<t&&(this.sessionData.last_threshold=this.sessionData.revenue-.01),this.setSessionRevenue(t),window.proper_ad_session_uuid=this.sessionData.uuid,this.setSessionData()},this.checkForChange=function(e,t){return this.sessionData[e]!==t&&(this.sessionData[e]=t,this.sessionData.uuid="",this.sessionData.depth=1,!0)},this.getSessionData=function(){var e=properStorage.getCookie(this.sessionCookieNameNew,this.coreStorageObj)||properStorage.getCookie(this.sessionCookieNameOld,this.coreStorageObj);e&&ProperMedia.utils.isStr(e)&&(e=ProperMedia.utils.isBase64(e)?ProperMedia.utils.b64DecodeUnicode(e):decodeURIComponent(e),e=ProperMedia.utils.safeJsonParse(e)||{},ProperMedia.utils.mergeObject(this.sessionData,e)),properPage.domain!==properPage.root_domain&&this.deleteSessionData(this.sessionCookieNameOld,"."+properPage.domain)},this.setSessionData=function(){try{var e=new Date,t=(e.setTime(e.getTime()+18e5),new Date),i=(t.setHours(23,59,59,0),(Date.parse(e)<Date.parse(t)?e:t).toGMTString());properStorage.setCookie(this.sessionCookieNameNew,ProperMedia.utils.b64EncodeUnicode(JSON.stringify(this.sessionData)),i,"Lax","."+properPage.root_domain,this.coreStorageObj)}catch(e){}},this.deleteSessionData=function(e,t){properStorage.deleteCookie(e,"Lax",t,this.coreStorageObj)},this.setSessionRevenue=function(e){this.sessionData.revenue+=parseFloat(_0x3aa07a(e))/1e3||0,properLog.mylog("Session revenue: "+this.sessionData.revenue),this.setSessionData(),audiencePixels.controller.checkThresholds(),window.proper_rps=this.sessionData.revenue},this.updateSessionAuctionCount=function(){this.sessionData.auction_count+=1,properLog.mylog("Session Auction Count: "+this.sessionData.auction_count),this.setSessionData()},this.initBidAvg=function(){let s=properDevice.isMobile()?"mobile":"desktop";if((properSpecialOps.dynamicFloors||ProperMedia.utils.deepAccess(properOps,"dynamic_floors.enabled"))&&1==this.sessionData.depth&&ProperMedia.utils.isPlainObject(properSpecialOps.initDynamicFloorPrices)&&Object.keys(properSpecialOps.initDynamicFloorPrices).length){this.sessionData.bid_avg=ProperMedia.utils.deepAccess(properSpecialOps,"initDynamicFloorPrices")||{};let i=1;var e=Math.round(100*(ProperMedia.utils.deepAccess(properOps,"dynamic_floors.init_mult_min")||.5))/100,t=Math.round(100*(ProperMedia.utils.deepAccess(properOps,"dynamic_floors.init_mult_max")||.5))/100;properSpecialOps.dynamicFloorsInitModifier?i=properSpecialOps.dynamicFloorsInitModifier:ProperMedia.utils.isNumber(e)&&ProperMedia.utils.isNumber(t)&&0<e&&0<t&&(e==t?i=t:e<t&&(i=Math.random()*(t-e)+e));let r=ProperMedia.utils.deepAccess(properSpecialOps,"initDynamicFloorInitMax")||ProperMedia.utils.deepAccess(properOps,"dynamic_floors."+s+".init_floor_max")||1.25;Object.keys(this.sessionData.bid_avg).forEach(function(e){var t=ProperMedia.utils.deepAccess(properSpecialOps,"initDynamicFloorSizeInitMax."+e)||ProperMedia.utils.deepAccess(properOps,"dynamic_floors."+s+".init_size_floor_max."+e)||r;this.sessionData.bid_avg[e]=ProperMedia.utils.round(Math.min(this.sessionData.bid_avg[e]*i,t),2)},this)}}},userSyncs=function(){var e=!1,t=null,i=null,r=[];function s(e){return(e||"")+Math.random().toString(16).substr(2)}var o={iframe:function(e){var t=document.createElement("iframe");t.id=s("i-"),t.frameborder="0",t.allowtransparency="true",t.marginheight="0",t.marginwidth="0",t.width="0",t.hspace="0",t.vspace="0",t.height="0",t.scrolling="no",t.style.display="none",t.style.width="0",t.style.height="0",t.sandbox="allow-scripts allow-same-origin",t.src=e.url,t.onload=function(){e.payload?properStorage.setDataInLocalStorage("ProperEbUserSync."+e.bidder,Date.now(),{bidderCode:e.bidder}):properStorage.setDataInLocalStorage("ProperUserSync."+e.bidder,Date.now(),{bidderCode:e.bidder})},i.appendChild(t),e.payload&&(t.contentWindow.document.open(),t.contentWindow.document.write(e.payload),t.contentWindow.document.close())},image:function(e){var t=new Image;t.src=e.url,t.onload=function(){properStorage.setDataInLocalStorage("ProperUserSync."+e.bidder,Date.now(),{bidderCode:e.bidder})}}};function a(){ebData={usersyncs:[],cookies:{}},r.splice(0,5).forEach(function(e){var t;ProperMedia.utils.deepAccess(properOps,"bidders.header."+e.bidder+".edge")||!1?(ebData.usersyncs.push(e),(t=cookieMatching.getBidderUserSyncValue(e.bidder+"_eb"))&&(ebData.cookies[bidder]=t)):o[e.type](e)}),ebData.usersyncs.length&&$.ajax({url:properOps.usync_hb_endpoint,method:"POST",requestType:"cors",data:JSON.stringify(ebData),success:function(e){if((response=ProperMedia.utils.safeJsonParse(e))&&response.syncs&&0<response.syncs.length)for(var t=0;t<response.syncs.length;t++){var i=response.syncs[t];i.bidder&&i.type&&i.payload&&("iframe"==i.type?(i.url="javascript:\"<html><body style='background:transparent'></body></html>\"",o[i.type](i)):properStorage.setDataInLocalStorage("ProperEbUserSync."+i.bidder,Date.now(),{bidderCode:i.bidder}))}response.cookies&&Object.keys(response.cookies).map(function(e){response.cookies[e]&&cookieMatching.updateBidderUserSyncData(e,response.cookies[e])})},error:function(e){}}),0===r.length&&(clearInterval(t),t=null)}function n(){e&&0!==r.length&&null===t&&(t=setInterval(a,1500),a())}return{add:function(i){return consentManager.ready(function(){var e=ProperMedia.utils.isArray(i)?i[0]:i,t=ProperMedia.utils.deepAccess(e,"demand_type"),e=ProperMedia.utils.deepAccess(e,"bidder");"video"!=t&&"display"!=t&&t||(t=e,!gdprEnforcement.userSyncEnforcement(t))||!ProperMedia.utils.deepAccess(properOps,"bidders.header."+t+".enabled")||properStorage.hasLocalStorage({bidderCode:t})&&(t=ProperMedia.utils.deepAccess(properOps,"bidders.header."+t+".edge")||!1?properStorage.getDataFromLocalStorage("ProperEbUserSync."+t,{bidderCode:t}):properStorage.getDataFromLocalStorage("ProperUserSync."+t,{bidderCode:t}))&&!(2592e6<Date.now()-parseInt(t))||(r=r.concat(i),n())}),!0},start:function(){e||(e=!0,(i=document.createElement("div")).id=s("us-"),i.style.display="none",i.style.width="0",i.style.height="0",document.body.appendChild(i)),n()}}}(),debugConsole=function(){this.enabled=!1,this.resize_elem=null,this.breadcrumb_elem=null,this.debug_cont_elem=null,this.debug_console_elem=null,this.view_refresh_timer=null,this.slot_refresh_interval=null,this.debug_style_elem=null,this.createDebugConsole=function(e){this.enabled=!0,this.debug_console_elem||(this.debug_console_elem=document.createElement("div"),this.debug_console_elem.id="proper-debug-console",document.body.appendChild(this.debug_console_elem)),this.resize_elem||(this.resize_elem=document.createElement("div"),this.resize_elem.innerHTML="&#8942;",this.resize_elem.id="proper-debug-console-resizer",this.debug_console_elem.appendChild(this.resize_elem)),this.breadcrumb_elem||(this.breadcrumb_elem=document.createElement("div"),this.breadcrumb_elem.id="proper-debug-console-breadcrumb",this.debug_console_elem.appendChild(this.breadcrumb_elem)),this.debug_cont_elem||(this.debug_cont_elem=document.createElement("div"),this.debug_cont_elem.id="proper-debug-console-cont",this.debug_console_elem.appendChild(this.debug_cont_elem)),this.addCssStyle(),this.resize_elem&&this.breadcrumb_elem&&this.setDragAndResizeActions(),this.addSlotOverlays(),this.createOverview()},this.addCssStyle=function(){this.debug_style_elem||(this.debug_style_elem=document.createElement("style"),this.debug_style_elem.id="proper-debug-styling",this.debug_style_elem.innerHTML=this.debug_console_css,document.body.appendChild(this.debug_style_elem))},this.createDebugOverlays=function(){this.addCssStyle(),this.addSlotOverlays(),this.refreshViewInterval()},this.addSlotOverlays=function(){Object.keys(properPage.slots).forEach(function(t){Object.keys(properPage.slots[t]).forEach(function(e){e=properPage.slots[t][e];this.addSlotOverlay(e)},this)},this)},this.addSlotOverlay=function(e){var t,i,r,s;return e instanceof slotObj&&(e.getElement()&&(r="proper_debug_overlay_"+e.name,i=document.getElementById(r),(t=document.getElementById(e.div_id))&&i&&i.parentNode.removeChild(i),(i=document.createElement("div")).id=r,i.classList.add("proper-debug-overlay"),(r=document.createElement("div")).classList.add("proper-debug-overlay-background"),(s=document.createElement("div")).classList.add("proper-debug-overlay-text"),s.innerHTML=[e.name,"Size: "+e.displayed_ad.size,"Bidder: "+e.displayed_ad.bidder,"CPM: "+e.displayed_ad.price].join("<br>"),$(r).on("click",function(){this.toggleMobileSticky(!0),this.createSlotView(e)}.bind(this)),i.append(s),i.append(r),t.appendChild(i)),!0)},this.toggleMobileSticky=function(e){e=e?"remove":"toggle";document.body.classList[e]("proper-debug-pinned"),document.getElementById("proper-debug-console").classList[e]("pinned")},this.destroyDebugConsole=function(){this.enabled=!1,this.debug_console_elem&&this.debug_console_elem.parentNode.removeChild(this.debug_console_elem),this.debug_style_elem&&this.debug_style_elem.parentNode.removeChild(this.debug_style_elem),this.view_refresh_timer&&clearTimeout(this.view_refresh_timer),this.view_refresh_timer=null,this.debug_console_elem=null,this.breadcrumb_elem=null,this.debug_cont_elem=null,this.debug_style_elem=null,this.resize_elem=null,Object.keys(properPage.slots).forEach(function(t){Object.keys(properPage.slots[t]).forEach(function(e){e=properPage.slots[t][e];this.removeSlotOverlay(e)},this)},this)},this.removeSlotOverlay=function(e){return e instanceof slotObj&&((e=e.getElement())&&$(e).parent().find(".proper-debug-overlay").remove(),!0)},this.refreshViewInterval=function(){clearTimeout(this.slot_refresh_interval),this.slot_refresh_interval=properSetInterval.setInterval.call(this,this.loadViewCallback,1500)},this.refreshViewTimer=function(e,t){clearTimeout(this.view_refresh_timer),this.view_refresh_timer=properSetTimeout.setTimeout.call(this,this.loadViewCallback,1500,e,t)},this.loadViewCallback=function(e,t){this.addSlotOverlays(),"overview"==e?this.createOverview():"page"==e?this.createPageView(t):"slot"==e?this.createSlotView(t):"ad_pool"==e?this.createAdPoolView(t):"auction"==e&&this.createAuctionView(t)},this.createBreadcrumb=function(r){this.breadcrumb_elem.innerHTML="";var e=document.createElement("span"),e=($(e).addClass("proper-debug-mobile-pin-btn"),e.innerHTML="&#8595;",$(e).on("click",function(){this.toggleMobileSticky()}.bind(this)),this.breadcrumb_elem.appendChild(e),Object.keys(r).forEach(function(e){var t=r[e],i=document.createElement("div");$(i).addClass("proper-debug-breadcrumb"),i.innerHTML=t.text,$(i).on("click",function(){this.loadViewCallback(t.text.replaceAll(" ","_"),t.obj)}.bind(this)),this.breadcrumb_elem.appendChild(i),e<r.length-1?(i=document.createElement("div"),$(i).addClass("proper-debug-breadcrumb-spacer"),this.breadcrumb_elem.appendChild(i)):e==r.length-1&&this.refreshViewTimer(t.text,t.obj)},this),document.createElement("span"));$(e).addClass("proper-debug-close-console-btn"),e.innerHTML="&times;",$(e).on("click",function(){this.destroyDebugConsole()}.bind(this)),this.breadcrumb_elem.appendChild(e)},this.createTitleElement=function(e){var t=document.createElement("div");$(t).addClass("proper-debug-cont-title"),t.style.cssText="padding: 4px; margin: 4px; font-size: 1em; font-weight: 700; display: inline-block;",$(t).html(e),this.debug_cont_elem.appendChild(t)},this.createStateElements=function(i){var r=document.createElement("div");$(r).addClass("proper-debug-state-cont"),this.debug_cont_elem.appendChild(r),Object.keys(i).forEach(function(e){var t=document.createElement("div");$(t).addClass("proper-debug-state-cell"),i[e]||$(t).addClass("proper-debug-state-cell red"),$(t).html(e),r.appendChild(t)},this)},this.createOverview=function(){this.createBreadcrumb([{text:"overview",obj:{}}]),this.debug_cont_elem.innerHTML="",this.createTitleElement("Sections");var e=document.createElement("div"),t=($(e).addClass("proper-debug-sections-cont"),this.debug_cont_elem.appendChild(e),document.createElement("button")),t=($(t).addClass("proper-debug-page-cell"),properPage instanceof pageObj==0&&$(t).addClass("proper-debug-page-cell red"),$(t).html("Page &amp; Slots"),$(t).on("click",function(){this.createPageView(properPage)}.bind(this)),e.appendChild(t),document.createElement("button")),e=($(t).addClass("proper-debug-ad-pool-cell"),0==properAdPool.ads.length&&0==properAdPool.amazon_ads.length&&$(t).addClass("proper-debug-ad-pool-cell red"),$(t).html("Ad Pool &amp; Auctions"),$(t).on("click",function(){this.createAdPoolView(properAdPool)}.bind(this)),e.appendChild(t),this.createTitleElement("Device"),[{property:"OS",value:properDevice.os},{property:"OS Group",value:properDevice.os_group},{property:"Browser",value:properDevice.browser},{property:"Browser Group",value:properDevice.browser_group},{property:"Device Type",value:properDevice.device_type},{property:"User Agent",value:navigator.userAgent}]),t=(this.createTable("#proper-debug-console-cont",e,!1),this.createTitleElement("Session Data"),[{property:"UUID",value:properSession.sessionData.uuid},{property:"Depth",value:properSession.sessionData.depth},{property:"Referrer",value:properSession.sessionData.referrer},{property:"UTM campaign",value:properSession.sessionData.utm_campaign},{property:"UTM source",value:properSession.sessionData.utm_source},{property:"UTM medium",value:properSession.sessionData.utm_medium},{property:"UTM term",value:properSession.sessionData.utm_term},{property:"UTM content",value:properSession.sessionData.utm_content},{property:"RPS",value:properSession.sessionData.revenue}]),e=(this.createTable("#proper-debug-console-cont",t,!1),this.createTitleElement("Special Ops"),document.createElement("pre"));e.innerHTML=JSON.stringify(properSpecialOps,void 0,2),this.debug_cont_elem.appendChild(e),this.debug_cont_elem.appendChild(document.createElement("hr"))},this.createPageView=function(t){this.createBreadcrumb([{text:"overview",obj:{}},{text:"page",obj:t}]),this.debug_cont_elem.innerHTML="",this.createTitleElement("Slots");var r=document.createElement("div"),e=($(r).addClass("proper-debug-page-slots-cont"),this.debug_cont_elem.appendChild(r),Object.keys(properPage.slots).forEach(function(i){Object.keys(properPage.slots[i]).forEach(function(e){var t=properPage.slots[i][e],e=(t.getElement(),document.createElement("button"));$(e).addClass("proper-debug-page-slot-cell"),$(e).html(t.name),$(e).on("click",function(){this.createSlotView(t)}.bind(this)),r.appendChild(e)},this)},this),this.createTitleElement("States"),{}),e=(1!==t.isolated&&0==properOps.dfp_per_slot&&(e["DFP Init"]=properPage.dfp_init,void 0!==properPage.dfp_enabled_services)&&1==properPage.dfp_enabled_services&&"function"==typeof googletag.pubads().isSRA&&googletag.pubads().isSRA()&&(e["DFP Single Request Enabled"]=1),0<Object.keys(e).length&&this.createStateElements(e),this.createTitleElement("Page Data"),[{property:"UUID",value:t.uuid},{property:"DFP ID",value:properOps.dfp_id},{property:"MCM Type",value:properOps.mcm_type},{property:"Url",value:t.url},{property:"Referrer",value:t.referrer},{property:"Protocol",value:t.protocol},{property:"Canonical url",value:t.canonical_url},{property:"Isolated",value:t.isolated},{property:"Width",value:t.width},{property:"Height",value:t.height},{property:"Post id",value:t.post_id},{property:"SPA enabled",value:t.spa_settings.enabled}]),i=(1==t.spa_settings.enabled&&(e=e.concat([{property:"SPA gallery id",value:t.spa_settings.gallery_id},{property:"SPA gallery url",value:t.spa_settings.gallery_base_url},{property:"SPA page number",value:t.spa_settings.page_number},{property:"SPA prefetch enabled",value:t.spa_settings.prefetch}])),this.createTable("#proper-debug-console-cont",e,!1),this.createTitleElement("Page Meta"),[]);Object.keys(t.page_meta).forEach(function(e){i.push({property:e.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" "),value:"object"==typeof t.page_meta[e]?JSON.stringify(t.page_meta[e]):t.page_meta[e]})}),this.createTable("#proper-debug-console-cont",i,!1)},this.createSlotView=function(e){this.createBreadcrumb([{text:"overview",obj:{}},{text:"page",obj:properPage},{text:"slot",obj:e}]),this.debug_cont_elem.innerHTML="",this.createTitleElement("Slots");var s=document.createElement("div"),o=($(s).addClass("proper-debug-page-slots-cont"),this.debug_cont_elem.appendChild(s),e.name.toString()),t=(Object.keys(properPage.slots).forEach(function(r){Object.keys(properPage.slots[r]).forEach(function(e){var t=properPage.slots[r][e],i=(t.getElement(),document.createElement("button"));$(i).addClass("proper-debug-page-slot-cell"),o==e&&$(i).addClass("proper-debug-page-slot-cell active"),$(i).html(t.name),$(i).on("click",function(){this.createSlotView(t)}.bind(this)),s.appendChild(i)},this)},this),this.createTitleElement("States"),{"In DOM":e.getElement()?1:0}),t=(0==properPage.isolated&&(1==properOps.dfp_per_slot?(t["Slot DFP Init"]=e.dfp_init,1==e.dfp_enabled_services&&"function"==typeof e.googletag().pubads().isSRA&&e.googletag().pubads().isSRA()&&(t["DFP Single Request"]=1)):(t["DFP Init"]=properPage.dfp_init,1==properPage.dfp_enabled_services&&"function"==typeof googletag.pubads().isSRA&&googletag.pubads().isSRA()&&(t["DFP Single Request Enabled"]=1)),t["Mapped DFP Sizes"]=e.mapped_dfp_sizes,t["DFP Ready"]=e.dfp_ready,t["DFP Sent"]=e.dfp_sent,e.refresh.enabled)&&0<e.refresh.count&&(t["DFP Refreshed"]=e.dfp_refreshed),t.Displayed=e.displayed,this.createStateElements(t),this.createTitleElement(e.name),document.createElement("div")),t=($(t).addClass("proper-debug-scroll-slot-inview"),t.style.cssText="display: inline-block; cursor: pointer;",$(t).html("&#128065;"),$(t).on("click",function(){e.getElement().scrollIntoView()}.bind(this)),this.debug_cont_elem.appendChild(t),document.createElement("button")),t=($(t).addClass("proper-debug-page-slot-cell"),$(t).html("Refresh"),$(t).on("click",function(){console.log("refreshing slot: "+e.name),refreshAuctionAndSlotsByName([e.name])}.bind(this)),this.debug_cont_elem.appendChild(t),e.sizes||[]),i=e.flex_map,r=0==e.viewability.viewable?e.viewability.total_time_inview:e.viewability.total_time_inview+e.getTimeInview(),t=[{property:"Type",value:e.type},{property:"Size",value:e.size},{property:"Sizes",value:t.join(", ")},{property:"Default size",value:e.default_size.join("x")},{property:"MCM Type",value:e.mcm_type},{property:"DFP ID",value:e.dfp_id},{property:"DFP AD Unit Path",value:e.dfpAdUnitPath},{property:"Div ID",value:e.div_id},{property:"Number",value:e.number},{property:"Refresh",value:e.refresh.enabled},{property:"Refresh cnt",value:e.refresh.count},{property:"Refresh max",value:e.refresh.max},{property:"Refresh interval",value:e.refresh.current_interval},{property:"Refresh inview interval",value:e.refresh.inview_interval},{property:"Viewable",value:e.viewability.viewable},{property:"Time inview",value:r},{property:"Slider",value:e.slider},{property:"Sticky",value:e.sticky},{property:"Flex",value:e.flex_enabled}],i=(e.flex_enabled&&(t=t.concat([{property:"Flex Map",value:Object.entries(i).map(([e,t])=>e+": "+t).join(", ")}])),t=(t=1==e.sticky?t.concat([{property:"Position",value:e.sticky_settings.position},{property:"Brand",value:e.sticky_settings.brand},{property:"Close btn",value:e.sticky_settings.close_btn},{property:"Disable on close",value:e.sticky_settings.disable_on_close},{property:"Freq cap enabled",value:e.sticky_settings.freq_cap_enabled},{property:"Freq cap",value:e.sticky_settings.freq_cap}]):t).concat([{property:"Lazyload enabled",value:e.lazyload.enabled}]),t=(t=e.lazyload.enabled?t.concat([{property:"In fetch zone",value:e.lazyload.inFetchZone},{property:"In render zone",value:e.lazyload.inRenderZone},{property:"Fetch zone %",value:e.lazyload.fetchMarginPercent+"%"},{property:"Render zone %",value:e.lazyload.renderMarginPercent+"%"}]):t).concat([{property:"Auto delete enabled",value:e.autoDelete.enabled}]),t=(t=e.autoDelete.enabled?t.concat([{property:"In delete zone",value:e.autoDelete.inDeleteZone},{property:"Delete zone %",value:e.autoDelete.autoDeleteMarginPercent+"%"}]):t).concat([{property:"Dynamic enabled",value:e.dynamic.enabled}]),e.dynamic.enabled&&(t=t.concat([{property:"CSS Placement",value:e.dynamic.cssplacement},{property:"CSS Selector",value:e.dynamic.cssselector},{property:"Instance number",value:e.dynamic.instance_number}])),1==properPage.spa_settings.enabled&&1==properPage.spa_settings.prefetch&&(t=t.concat([{property:"Prefetch enabled",value:1}])),this.createTable("#proper-debug-console-cont",t,!1),"video"==e.type&&e.video_player instanceof videoPlayer&&(this.createTitleElement("Video Player"),i=[{property:"ID",value:(r=ProperMedia.utils.deepAccess(e,"video_player.player_settings")||{}).id},{property:"Div ID",value:r.div_id},{property:"DFP Ad Unit",value:r.dfp_ad_unit},{property:"Video ID",value:r.video_id},{property:"Video Type",value:r.video_type},{property:"Number of Ads",value:r.number_of_ads},{property:"Autoplay",value:r.autoplay},{property:"Backfill",value:r.backfill},{property:"Backfill ID",value:r.backfill_id},{property:"Small Player",value:r.small_player},{property:"Small Player Bottom",value:r.small_player_bottom},{property:"Ad Failure Limit",value:r.ad_failure_limit},{property:"Vast Timeout",value:r.vast_timeout},{property:"No Ads No Player",value:r.no_ads_no_player}],t=t.concat([{property:"Lazyload enabled",value:e.lazyload.enabled}]),this.createTable("#proper-debug-console-cont",i,!1)),1==e.displayed&&0<Object.keys(e.displayed_ad).length&&(this.createTitleElement("Displayed Ad"),r=Math.max(0,ProperMedia.utils.getTimePassed(e.tracking_times.dfp_sent_ts,e.tracking_times.dfp_returned_ts)),t=[{property:"Bidder",value:e.displayed_ad.bidder},{property:"Media Type",value:e.displayed_ad.type},{property:"Size",value:e.displayed_ad.size},{property:"Gross",value:e.displayed_ad.gross},{property:"Price",value:e.displayed_ad.price},{property:"Floor price",value:e.displayed_ad.floor},{property:"DFP price",value:e.displayed_ad.dfp_price},{property:"Tag ID",value:e.displayed_ad.tag_id||""},{property:"Campaign ID",value:e.displayed_ad.cid},{property:"Creative ID",value:e.displayed_ad.crid},{property:"Deal ID",value:e.displayed_ad.dealid},{property:"Ad ID",value:e.displayed_ad.adid},{property:"Ad Domain",value:JSON.stringify(e.displayed_ad.adomain)},{property:"Categories",value:JSON.stringify(e.displayed_ad.cat)},{property:"Attributes",value:JSON.stringify(e.displayed_ad.attr)},{property:"Extensions",value:JSON.stringify(e.displayed_ad.ext)}],t=(t=ProperMedia.utils.deepAccess(properOps,"bidders.header."+e.displayed_ad.bidder)||ProperMedia.utils.deepAccess(properOps,"bidders.s2s."+e.displayed_ad.bidder)?t.concat([{property:"Header Response Time",value:e.displayed_ad.response_ms+" ms"}]):t).concat([{property:"DFP Response Time",value:r+" ms"}]),this.createTable("#proper-debug-console-cont",t,!1)),this.createTitleElement("Floors"),document.createElement("pre"));i.innerHTML=JSON.stringify({floors:e.floors},void 0,2),this.debug_cont_elem.appendChild(i)},this.createAdPoolView=function(i){this.createBreadcrumb([{text:"overview",obj:{}},{text:"ad_pool",obj:i}]),this.debug_cont_elem.innerHTML="",this.createTitleElement("Auctions");for(var r=document.createElement("div"),s=($(r).addClass("proper-debug-auction-cont"),this.debug_cont_elem.appendChild(r),Object.keys(i.finished_auctions).forEach(function(e){var t=i.finished_auctions[e],e=(t.bids_sent,document.createElement("button"));$(e).addClass("proper-debug-auction-cell"),$(e).html("Auction "+t.auction_num),$(e).on("click",function(){this.createAuctionView(t,i)}.bind(this)),r.appendChild(e)},this),Object.keys(i.auctions).forEach(function(e){var t=i.auctions[e],e=(t.bids_sent,document.createElement("button"));$(e).addClass("proper-debug-auction-cell"),$(e).html("Auction "+t.auction_num),$(e).on("click",function(){this.createAuctionView(t,i)}.bind(this)),r.appendChild(e)},this),this.debug_cont_elem.appendChild(document.createElement("hr")),this.createTitleElement("Bidders"),document.createElement("div")),e=($(s).addClass("proper-debug-bidders-cont"),this.debug_cont_elem.appendChild(s),Object.keys(properOps.bidders).forEach(function(r){Object.keys(properOps.bidders[r]).forEach(function(e){var t=properOps.bidders[r][e],i=document.createElement("div");$(i).addClass("proper-debug-bidder-cell"),t.enabled||$(i).addClass("red"),$(i).html(e),s.appendChild(i)},this)},this),this.debug_cont_elem.appendChild(document.createElement("hr")),this.createTitleElement("Bids ("+i.ads.length+")"),[]),t=0;t<i.ads.length;t++){var o=i.ads[t];e.push({bidder:o.bidder,type:o.type,size:o.size,gross:o.gross,price:o.price,floor:o.floor,dfp_price:o.dfp_price,tag_id:o.tag_id,response_ms:o.response_ms,ttl:o.ttl,dealid:o.dealid,crid:o.crid})}this.createTable("#proper-debug-console-cont",e,!0),this.createTitleElement("Amazon Bids ("+i.amazon_ads.length+")");for(e=[],t=0;t<i.amazon_ads.length;t++){o=i.amazon_ads[t];e.push({bidder:o.bidder,type:o.type,size:o.size,gross:o.gross,price:o.price,floor:o.floor,dfp_price:o.dfp_price,tag_id:o.tag_id,response_ms:o.response_ms,ttl:o.ttl,dealid:o.dealid,crid:o.crid})}this.createTable("#proper-debug-console-cont",e,!0),this.createTitleElement("Displayed Bids"),e=[];for(t=0;t<i.displayed_ads.length;t++){o=i.displayed_ads[t];e.push({bidder:o.bidder,type:o.type,size:o.size,gross:o.gross,price:o.price,floor:o.floor,dfp_price:o.dfp_price,tag_id:o.tag_id,response_ms:o.response_ms,ttl:o.ttl,dealid:o.dealid,crid:o.crid})}this.createTable("#proper-debug-console-cont",e,!0);var a=document.createElement("div"),n=($(a).addClass("proper-debug-auction-meta"),document.createElement("pre")),n=(n.innerHTML=JSON.stringify({"dynamic floors":properSession.sessionData.bid_avg},void 0,2),a.appendChild(n),document.createElement("pre"));n.innerHTML=JSON.stringify({no_bid_cnt:properSession.sessionData.no_bid_cnt},void 0,2),a.appendChild(n),this.debug_cont_elem.appendChild(a)},this.createAuctionView=function(s){this.createBreadcrumb([{text:"overview",obj:{}},{text:"ad_pool",obj:properAdPool},{text:"auction",obj:s}]),this.debug_cont_elem.innerHTML="",this.createTitleElement("Auction Data");var e=[{property:"Network Requests",value:s.requests_sent},{property:"Bids returned / sent",value:s.bids_returned+" / "+s.bids_sent},{property:"Bids sent",value:s.bids_started_ts?1:0},{property:"Bids ready",value:s.bids_done_ts?1:0},{property:"Auction ms",value:s.calcAuctionMs()},{property:"Max timeout",value:s.max_timeout}],o=(this.createTable("#proper-debug-console-cont",e,!1),this.createTitleElement("Bids"),[]),o=(0<Object.keys(s.bids).length&&Object.keys(s.bids).forEach(function(e){var t=s.bids[e];if(0<t.responses.length)for(var i=0;i<t.responses.length;i++){var r=t.responses[i];o.push({bidder:r.bidder,displayed:r.displayed,type:r.type,size:r.size,gross:r.gross,price:r.price,floor:r.floor,dfp_price:r.dfp_price,tag_id:r.tag_id,"response ms":r.response_ms,ttl:r.ttl})}}),this.createTable("#proper-debug-console-cont",o,!0),this.createTitleElement("No Bid Responses"),[]),o=(0<Object.keys(s.bids).length&&Object.keys(s.bids).forEach(function(e){var t=s.bids[e];if(0<t.responses_no_bid.length)for(var i=0;i<t.responses_no_bid.length;i++){var r=t.responses_no_bid[i];o.push({bidder:r.bidder,type:r.type,tag_id:r.tag_id,"response ms":r.response_ms})}}),this.createTable("#proper-debug-console-cont",o,!0),this.createTitleElement("Errored Bid Requests"),[]);0<Object.keys(s.bids).length&&Object.keys(s.bids).forEach(function(e){var t=s.bids[e];if(0<t.response_errors.length)for(var i=0;i<t.response_errors.length;i++){var r=t.response_errors[i];o.push({bidder:r.bidder,status:r.status,statusText:r.statusText,responseMs:r.response_ms,timeoutMs:r.timeout})}}),this.createTable("#proper-debug-console-cont",o,!0)},this.createTable=function(e,o,a){n=document.createElement("table"),$(n).addClass("proper-debug-table"),n.style.cssText="margin: 5px;",$(e).append(n);for(var n,t=function(){for(var e=[],t=document.createElement("tr"),i=0;i<o.length;i++){var r,s;for(r in o[i])0==e.includes(r)&&(e.push(r),(s=document.createElement("th")).innerHTML=r,$(t).append(s))}1==a&&$(n).append(t);return e}(),i=0;i<o.length;i++){for(var r=document.createElement("tr"),s=0;s<t.length;s++){var d=o[i][t[s]],p=(null==d&&(d=""),document.createElement("td"));p.style.cssText="padding: 5px;",p.innerHTML=d,$(r).append(p)}$(n).append(r)}},this.setDragAndResizeActions=function(){var i=20,r=0,s=0,t=0,o=0,a=0,n=0,d=this.debug_console_elem,e=this.resize_elem,p=this.breadcrumb_elem;function l(e){var t=r+(e.pageY-o),e=s+(e.pageX-n);i<t&&(d.style.height=t+"px"),i<e&&(d.style.width=e+"px")}function c(e){d.style.top=t+(e.pageY-o)+"px",d.style.left=a+(e.pageX-n)+"px"}function u(){window.removeEventListener("mousemove",l)}function g(){window.removeEventListener("mousemove",c)}e.addEventListener("mousedown",function(e){e.preventDefault(),r=parseFloat(getComputedStyle(d,null).getPropertyValue("height").replace("px","")),s=parseFloat(getComputedStyle(d,null).getPropertyValue("width").replace("px","")),t=d.getBoundingClientRect().top,o=e.pageY,a=d.getBoundingClientRect().left,n=e.pageX,window.addEventListener("mousemove",l),window.addEventListener("mouseup",u)}),p.addEventListener("mousedown",function(e){e.preventDefault(),t=d.getBoundingClientRect().top,o=e.pageY,a=d.getBoundingClientRect().left,n=e.pageX,window.addEventListener("mousemove",c),window.addEventListener("mouseup",g)})},this.css_values={fontMedium:"12px",fontLarge:"16px",maxZ:2147483647,purple:"#2C3050",purpleLight:"#555F9E",purpleDark:"#1A1D3E",green:"#44B558",greenLight:"#57EB73",greenDark:"#008C2B",grayLight:"#f6f8fa",grayDark:"#3b565d"},this.debug_console_css="\t\t@keyframes console-tween-in {\t\t\tfrom {left: -500px}\t\t\tto {left: 15px}\t\t}\t\t#proper-debug-console {\t\t\tbackground: "+this.css_values.grayLight+";\t\t\tz-index: "+this.css_values.maxZ+";\t\t\tposition: fixed;\t\t\ttop: 15px;\t\t\tleft: 15px;\t\t\twidth: calc(100% - 30px);\t\t\toverflow: auto;\t\t\theight: 500px;\t\t\twidth: 600px;\t\t\tborder-radius: 5px;\t\t\tcolor:"+this.css_values.grayDark+';\t\t\tfont-size:12px !important;\t\t\tmax-width: calc(100vw - 30px);\t\t\tbox-shadow: 0 0 0 7px rgba(255,255,255,0.7), 0 10px 10px 0 rgba(0,0,0,0.65), inset 0 -4px 0 0 white;\t\t\tanimation: console-tween-in 500ms ease-out;\t\t}#proper-debug-console, #proper-debug-console * {\t\t\t font-family: "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif !important;\t\t}\t\t#proper-debug-console.short {\t\t\theight:250px;\t\t}#proper-debug-console-cont {\t\t\tpadding: 8px 8px;\t\t}\t\t#proper-debug-console-resizer {\t\t\twidth: 12px;\t\t\theight: 20px;\t\t\tposition: sticky;\t\t\tz-index: 9999999;\t\t\tbackground: white;\t\t\tcolor: gray;\t\t\tfont-size:16px;\t\t\tdisplay:flex;\t\t\talign-items:center;\t\t\tjustify-content:center;\t\t\tcursor: nwse-resize;\t\t\ttop:calc(100% - 20px);\t\t\tleft:calc(100% - 12px);\t\t\tmargin-bottom: -20px;\t\t}\t\t#proper-debug-console-breadcrumb {\t\t\tfont-weight: bold;\t\t\tborder-radius: 6px 6px 0 0;\t\t\tpadding-left: 11px;\t\t\tbackground: '+this.css_values.purple+";\t\t\tposition: sticky;\t\t\ttop:0;\t\t\tz-index: 999;\t\t\tcursor: move;\t\t\tbox-shadow:inset 0 0 0 4px "+this.css_values.grayLight+";\t\t\tdisplay:flex;\t\t\theight:50px;\t\t}.proper-debug-breadcrumb {\t\t\tmargin: 0px 3px;\t\t\tcursor: pointer;\t\t\tdisplay:block;\t\t\tcolor:white;\t\t}.proper-debug-breadcrumb:not(:last-of-type){\t\t\topacity:0.7;\t\t}\t\t#proper-debug-console-breadcrumb > * {\t\t\tdisplay:flex;\t\t\talign-items:center;\t\t\ttext-transform: capitalize;\t\t}.proper-debug-breadcrumb-spacer {\t\t\tmargin-right:3px;\t\t}.proper-debug-breadcrumb-spacer:after {\t\t\tcontent:'';\t\t\twidth: 4px;\t\t\theight:4px;\t\t\tborder-top: solid 1px white;\t\t\tborder-right: solid 1px white;\t\t\ttransform: rotate(45deg);\t\t\topacity:0.7;\t\t}\t\t.proper-debug-close-console-btn {\t\t\tpadding: 4px;\t\t\tmargin: 0 12px 0 auto;\t\t\tcursor: pointer;\t\t\tdisplay: inline-block;\t\t\tfloat: right;\t\t\tfont-size:21px;\t\t\tfont-family:'Futura', sans-serif !important;\t\t\tfont-weight:normal;\t\t\tcolor: white;\t\t}\t\t#proper-debug-console-cont {\t\t\tdisplay:flex;\t\t\tflex-direction:column;\t\t}#proper-debug-console-cont > * {\t\t\tflex: 1 1 100%;\t\t\tmargin:6px 0 0 0 !important;\t\t\tpadding:0;\t\t}\t\t.proper-debug-auction-meta pre {\t\t\twidth: 50%;\t\t\tfloat: left;\t\t}\t\t.proper-debug-overlay-text {\t\t\ttext-align: left;\t\t\tz-index: "+(this.css_values.maxZ-1)+";\t\t\tpadding: 4px 8px 8px 8px;\t\t\tposition: absolute;\t\t\ttop: 0px;\t\t\tleft: 0px;\t\t\topacity: .90;\t\t\tbackground: "+this.css_values.greenLight+";\t\t\tfont-size: "+this.css_values.fontMedium+";\t\t\tline-height: 1.3em;\t\t\tcolor: black;\t\t}\t\t."+properOps.slot_wrapper_class+".ad-sticky.sticky-btm .proper-debug-overlay-text{\t\t\ttop:auto;\t\t\tbottom:0;\t\t}\t\t.proper-debug-overlay-background {\t\t\tcursor: pointer;\t\t\tbox-shadow: 0 0 0 4px "+this.css_values.greenLight+";\t\t\tz-index: "+(this.css_values.maxZ-2)+";\t\t\tposition: absolute;\t\t\ttop: 0px;\t\t\tbottom: 0px;\t\t\tleft: 0px;\t\t\tright: 0px;\t\t\tmax-width: calc(100vw - 8px);\t\t\tmargin:0 auto;\t\t}\t\t.proper-debug-page-slot-cell {\t\t\tborder: 2px solid black;\t\t\tpadding: 4px;\t\t\tmargin: 4px;\t\t\twidth: fit-content;\t\t\tdisplay: inline-block;\t\t\tcursor: pointer;\t\t}.proper-debug-page-slot-cell.active {\t\t\tbackground:"+this.css_values.greenLight+" !important\t\t}\t\t.proper-debug-state-cell,\t\t.proper-debug-bidder-cell {\t\t\tpadding: 4px 6px 4px 18px;\t\t\tmargin: 4px;\t\t\twidth: fit-content;\t\t\tdisplay: inline-block;\t\t\tposition:relative;\t\t\tbackground: white;\t\t\tborder-radius:30px;\t\t\tbox-shadow: 0 1px 5px 0 rgba(0,0,0,0.1);\t\t}.proper-debug-state-cell:before,\t\t.proper-debug-bidder-cell:before{\t\t\tcontent:'';\t\t\twidth:8px;\t\t\theight:8px;\t\t\tposition: absolute;\t\t\tleft: 5px;\t\t\ttop: 6px;\t\t\tz-index:3;\t\t\tmargin-right:5px;\t\t\tbackground-image: linear-gradient("+this.css_values.greenLight+","+this.css_values.greenDark+");\t\t\tborder-radius: 5px;\t\t\tbox-shadow: inset 0 0 2px 0 "+this.css_values.greenLight+";\t\t}.proper-debug-state-cell.red,\t\t.proper-debug-bidder-cell.red {\t\t\tcolor:red;\t\t}.proper-debug-state-cell.red:before,\t\t.proper-debug-bidder-cell.red:before {\t\t\tbackground:red;\t\t\tbox-shadow:none;\t\t}\t\t.proper-debug-state-cell{\t\t\tborder-radius:0;\t\t}.proper-debug-state-cell:first-of-type {\t\t\tborder-radius: 30px 0 0 30px;\t\t}\t\t.proper-debug-state-cell:last-of-type {\t\t\tborder-radius: 0 30px 30px 0;\t\t}.proper-debug-state-cell:first-of-type:last-of-type{\t\t\tborder-radius: 30px;\t\t}\t\t.proper-debug-state-cell:not(:last-of-type) {\t\t\tmargin-right:-2px;\t\t}\t\t."+properOps.slot_wrapper_class+",\t\t.proper-ad-insert {\t\t\tbackground: "+this.css_values.greenDark+"AA;\t\t}."+properOps.slot_wrapper_class+":hover,\t\t.proper-ad-insert:hover {\t\t\tbackground: "+this.css_values.greenLight+";\t\t}\t\t#proper-debug-console table {\t\t\tborder-top: solid 2px "+this.css_values.purple+";\t\t\tbackground:white;\t\t\tborder-bottom: solid 1px #ccc;\t\t\tline-height:1.4em;\t\t}#proper-debug-console table td:not(:first-of-type){\t\t\tborder-left: solid 1px #ccc;\t\t}#proper-debug-console table td:first-of-type{\t\t\tmin-width:100px;\t\t\tbackground:white;\t\t\twidth:1px;\t\t\tfont-weight:bold;\t\t}#proper-debug-console table th {\t\t\tfont-weight:bold;\t\t\tborder-bottom:solid 1px #cccccc80;\t\t}\t\t#proper-debug-console hr {\t\t\tborder:none;\t\t\tborder-bottom: solid 1px "+this.css_values.grayDark+";\t\t\topacity:0.3;\t\t}\t\t#proper-debug-console button {\t\t\t-webkit-appearance:none;\t\t\tcursor:pointer;\t\t\tborder:none;\t\t\tborder-radius: 4px;\t\t\tpadding: 5px 9px;\t\t\tfont-weight:bold;\t\t\tcolor:white;\t\t\tbackground:"+this.css_values.green+";\t\t\tdisplay:inline-block;\t\t}#proper-debug-console button:not(:hover) {\t\t\topacity:0.9;\t\t}\t\t#proper-debug-console button.red {\t\t\tbackground:red;\t\t}\t\t.proper-debug-mobile-pin-btn {\t\t\tdisplay:none !important;\t\t\tbackground:white;\t\t\twidth:24px;\t\t\theight:24px;\t\t\tfont-weight:bold;\t\t\tborder-radius: 4px;\t\t\tmargin-top:13px;\t\t\tmargin-right:6px;\t\t\tcursor:pointer;\t\t\tjustify-content:center;\t\t\talign-items:center;\t\t}\t\t@media screen and (max-width: 727px){\t\t\t#proper-debug-console {\t\t\t\tmax-width:100vw !important;\t\t\t\twidth:100vw !important;\t\t\t\tposition:fixed !important;\t\t\t\tleft:0 !important;\t\t\t\ttop: auto !important;\t\t\t\tbottom:0 !important;\t\t\t\tbox-shadow: none !important;\t\t\t\tanimation:none !important;\t\t\t\tmax-height:500px !important;\t\t\t\ttransition: max-height 250ms !important;\t\t\t}\t\t\t#proper-debug-console.pinned {\t\t\t\tmax-height:50px !important;\t\t\t}\t\t\t#proper-debug-console.pinned .proper-debug-mobile-pin-btn{\t\t\t\ttransform: scaleY(-1);\t\t\t}\t\t\t#proper-debug-console-breadcrumb {\t\t\t\tcursor: default !important;\t\t\t}\t\t\t#proper-debug-console-resizer {\t\t\t\tdisplay:none;\t\t\t}\t\t\t.proper-debug-mobile-pin-btn {\t\t\t\tdisplay:flex !important;\t\t\t}\t\t\tbody.proper-debug-pinned ."+properOps.slot_wrapper_class+".sticky-btm{\t\t\t\ttransform: translateY(-50px);\t\t\t}\t\t}\t\t"},consentManager=function(){var t={gdpr:!1,uspc:!1},r=!0,s=!1,i=[],o={ready:function(e,t){"unshift"==t?i.unshift(e):i.push(e)},consentReady:function(e){if(!0!==t[e]&&(t[e]=!0,"gdpr"==e&&gdprConsent&&gdprConsent.gdprApplies||"uspc"==e&&uspConsent&&uspConsent.ccpaApplies||"gpp"==e&&gppConsent&&gppConsent.gppApplies||0==ProperMedia.utils.objectValues(t).filter(function(e){return 0==e}).length))for(o.ready=function(e){e.call()};i.length;)i.shift().call()},checkIfMissing:function(){return!(1!=r||!ProperMedia.utils.deepAccess(properSpecialOps,"gdprDoesApply")||Object.keys(gdprConsent).length&&(!gdprConsent.gdprApplies||gdprConsent.consentString))||(1==r&&ProperMedia.utils.deepAccess(properSpecialOps,"uspcDoesApply")&&(!Object.keys(uspConsent).length||uspConsent.ccpaApplies&&!uspConsent.usPrivacy)||1==r&&ProperMedia.utils.deepAccess(properSpecialOps,"gppDoesApply")&&(!Object.keys(gppConsent).length||gppConsent.gppApplies&&!gppConsent.gppString)?!(r=!1):r=!1)},loadIfMissing:function(i){return ProperMedia.utils.deepAccess(properSpecialOps,"gdprDoesApply")&&!s?(s=!0,gdprConsentModule.loadIfMissing(function(e,t){s=!1,e||(r=!1,i())})):ProperMedia.utils.deepAccess(properSpecialOps,"uspcDoesApply")&&!s?(s=!0,uspConsentModule.loadIfMissing(function(){s=!1,i()})):ProperMedia.utils.deepAccess(properSpecialOps,"gppDoesApply")&&!s&&(s=!0,gppConsentModule.loadIfMissing(function(){s=!1,i()})),!0}};return o}(),gppConsentModule=function(){var l,t=1,p="iab",i=ProperMedia.utils.deepAccess(properSpecialOps,"gppDoesApply")||!1,c={iab:function({onSuccess:i,onError:r}){const a="__gpp";let n=!1;var d={};const{cmpFrame:s,cmpDirectAccess:e}=function(){let e=window,t;for(;;){try{if("function"==typeof e[a]){t=e;break}}catch(e){}try{if(e.frames.__gppLocator){t=e;break}}catch(e){}if(e===window.top)break;e=e.parent}return{cmpFrame:t,cmpFunction:void 0}}();if(!s)return r("GPP: CMP not found.");e&&"function"==typeof s[a]?(properLog.mylog("Detected GPP CMP API is directly accessible, calling it now..."),s[a]("addEventListener",function(e){{var t;e&&(properLog.mylog("Received a response from GPP CMP for event "+JSON.stringify(e)),"sectionChange"===e.eventName||"loaded"===e?.pingData?.cmpStatus&&"visible"!==e?.pingData?.cmpDisplayStatus?(t=s[a]("getGPPData"),properLog.mylog("Received a response from GPP CMP for getGPPData "+JSON.stringify(t)),m(t,{onSuccess:i,onError:r})):"error"===e?.pingData?.cmpStatus?r("CMP returned with a cmpStatus:error response.  Please check CMP setup."):l||(t=s[a]("getGPPData"),properLog.mylog("Called GPP CMP early to determine the value of applicableSections; value returned from CMP: "+JSON.stringify(t)),g(t)?l=t:u(t)&&((l=t).applicableSections=t.applicableSection,delete l.applicableSection)))}})):(properLog.mylog("Detected GPP CMP is outside the current iframe where Prebid.js is located, calling it now..."),t("addEventListener",s,function(e){e&&(properLog.mylog("Received a postmsg response from GPP CMP for event "+JSON.stringify(e)),"sectionChange"===e.eventName||"loaded"===e?.pingData?.cmpStatus&&"visible"!==e?.pingData?.cmpDisplayStatus?t("getGPPData",s,o):"error"===e?.pingData?.cmpStatus?r("CMP returned with a cmpStatus:error response.  Please check CMP setup."):l||t("getGPPData",s,p))}));function t(e,s,t,i){var r="__gpp-pm";const o=a+"Call";window[r]=function(e,t,i){var r=Math.random().toString(),e={[o]:{command:e,parameter:i,version:1,callId:r}};d[r]=t,s.postMessage(e,"*")},n||(window.addEventListener("message",function(e){var t=a+"Return",e="string"==typeof e.data&&e.data.includes(t)?JSON.parse(e.data):e.data;e[t]&&e[t].callId&&(e=e[t],d.hasOwnProperty(e.callId))&&d[e.callId](e.returnValue)},!1),n=!0),window[r](e,t,i)}function o(e){properLog.mylog("Received a postmsg response from GPP CMP for getGPPData "+JSON.stringify(e)),m(e,{onSuccess:i,onError:r})}function p(e){properLog.mylog("Called GPP CMP early to determine the value of applicableSections; postmsg response returned from CMP: "+JSON.stringify(e)),g(e)?l=e:u(e)&&((l=e).applicableSections=e.applicableSection,delete l.applicableSection)}},static:function({onSuccess:e,onError:t}){m(void 0,{onSuccess:e,onError:t})}},r={};function u(e){return e&&Array.isArray(e.applicableSection)&&0<e.applicableSection.length&&0!==e.applicableSection[0]}function g(e){return e&&Array.isArray(e.applicableSections)&&0<e.applicableSections.length&&0!==e.applicableSections[0]}function s(s){var e,o=!1,a=null,i=0,n=null;function r(e,t,i,...r){null!=a&&(clearTimeout(a),a=null),null!=n&&(clearTimeout(n),n=null),o=!0,"function"==typeof s?s(t,i,...r):t||consentManager.consentReady("gpp")}if(properLog.mylog("GPP: CMP gppDoesApply: "+ProperMedia.utils.deepAccess(properSpecialOps,"gppDoesApply")),!1===ProperMedia.utils.deepAccess(properSpecialOps,"gppDoesApply"))r(null,!1,"GPP: GPP does not apply.");else if(Object.keys(c).includes(p)){const d={onSuccess:e=>r(e,!1),onError:function(e,...t){properLog.mylog(e),"function"!=typeof s&&(null!=n&&(clearTimeout(n),n=null),++i<20)?n=setTimeout(function(){c.iab(d)},500):r(null,!0,e,...t)}};c.iab(d),o||null!=n||(e=()=>{var e=e=>{r(e,!1,"GPP: CMP did not load, continuing auction...")};m(l,{onSuccess:e,onError:()=>e(h(void 0))})},a=setTimeout(e,1e4))}else r(null,!1,"GPP: CMP framework (iab) is not a supported framework.  Aborting consentManagement module and resuming auction.")}function m(e,{onSuccess:t,onError:i}){var r,s;e&&"boolean"==typeof e.gppApplies&&e.gppApplies,r=e&&e.gppString,s=g(e)?e.applicableSections:u(e)?e.applicableSection:l&&l.applicableSections?l.applicableSections:[],Array.isArray(s)&&(!Array.isArray(s)||r&&ProperMedia.utils.isStr(r))?t(h(e)):i("CMP returned unexpected value during lookup process.",e)}function h(e){return(r={gppString:e?e.gppString:l&&ProperMedia.utils.isStr(l.gppString)&&""!==l.gppString?l.gppString:void 0,fullGppData:e||void 0,gppApplies:e&&"boolean"==typeof e.gppApplies?e.gppApplies:i}).applicableSections=g(e)?e.applicableSections:u(e)?e.applicableSection:l?.applicableSections?l.applicableSections:[],r.apiVersion=t,r}return s(),{gppConsent:r,loadIfMissing:function(e){Object.keys(r).length?(properLog.mylog("GPP: User consent information already known.  Pulling internally stored information..."),e(!1)):s(e)}}}(),gppConsent=gppConsentModule.gppConsent,uspConsentModule=function(){var s={ccpaApplies:ProperMedia.utils.deepAccess(properSpecialOps,"uspcDoesApply")||!1},p={iab:function(r,s){var e=function(){var i={};return{consentDataCallback:function(e,t){t&&e.uspString&&(i.usPrivacy=e.uspString),i.usPrivacy?a(i,r,s):s("USPC: Unable to get USP consent string.")}}}(),o={},t=function(){for(var e,t,i=window;!e;){try{if("function"==typeof i.__uspapi){t=i.__uspapi,e=i;break}}catch(e){}try{if(i.frames.__uspapiLocator){e=i;break}}catch(e){}if(i===window.top)break;i=i.parent}return{uspapiFrame:e,uspapiFunction:t}}(),i=t.uspapiFrame,t=t.uspapiFunction;if(!i)return s("USPC: USP CMP not found.");ProperMedia.utils.isFn(t)?(properLog.mylog("USPC: Detected USP CMP is directly accessible, calling it now..."),t("getUSPData",1,e.consentDataCallback)):(properLog.mylog("USPC: Detected USP CMP is outside the current iframe where Prebid.js is located, calling it now..."),function(e,s,t){window.__uspapi=function(e,t,i){var r=Math.random()+"",e={__uspapiCall:{command:e,version:t,callId:r}};o[r]=i,s.postMessage(e,"*")},window.addEventListener("message",function(e){(e=e&&e.data&&e.data.__uspapiReturn)&&e.callId&&void 0!==o[e.callId]&&(o[e.callId](e.returnValue,e.success),delete o[e.callId])},!1),window.__uspapi(e,1,t)}("getUSPData",i,e.consentDataCallback))},static:function(e,t){a(void 0,e,t)}};function e(r){var i,s=null,o=!1,a=0,n=null;function d(e,t,...i){null!=s&&(clearTimeout(s),s=null),null!=n&&(clearTimeout(n),n=null),o=!0,ProperMedia.utils.isFn(r)?r(t,...i):consentManager.consentReady("uspc")}properLog.mylog("USPC: CMP uspcDoesApply: "+ProperMedia.utils.deepAccess(properSpecialOps,"uspcDoesApply")),!1===ProperMedia.utils.deepAccess(properSpecialOps,"uspcDoesApply")?d(null,"USPC: USPC does not apply."):p.iab?(i={onSuccess:d,onError:function(e,...t){"function"!=typeof r&&(null!=n&&(clearTimeout(n),n=null),++a<6)?n=setTimeout(function(){p.iab(i.onSuccess,i.onError)},250):d(null,e+" Resuming auction without consent data as per consentManagement config.",...t)}},p.iab(i.onSuccess,i.onError),o||(s=setTimeout(i.onError.bind(null,"USPC: USPAPI workflow exceeded timeout threshold."),50))):d(null,"USPC: USP framework (iab) is not a supported framework. Aborting consentManagement module and resuming auction.")}function a(e,t,i){var r;!e||!e.usPrivacy?i("USPC: USPAPI returned unexpected value during lookup process.",e):((r=e)&&r.usPrivacy&&(s.usPrivacy=r.usPrivacy,s.restrictDataProcessing=!!r.usPrivacy.match(/^\d{1}[\w-]{1}Y[\w-]{1}$/)),t(s))}return e(),{uspConsent:s,loadIfMissing:function(t){e(function(e){null!=e&&(properLog.mylog(e),ProperMedia.utils.isFn(t))&&t()})}}}(),uspConsent=uspConsentModule.uspConsent,gdprConsentModule=function(){var p,n=2,l="iab",o=ProperMedia.utils.deepAccess(properSpecialOps,"gdprDoesApply")||!1,c=20,u={iab:function(i,r){function e(e,t){properLog.mylog("GDPR: Received a response from CMP. gdprApplies: "+e.gdprApplies+", tcString: "+e.tcString),t?!1===e.gdprApplies||"tcloaded"===e.eventStatus||"useractioncomplete"===e.eventStatus?g(e,i,r):p=e:r("GDPR: CMP unable to register callback function. Please check CMP setup.")}var a={},t=function(){for(var e,t,i=window;;){try{if("function"==typeof i.__tcfapi){t=i.__tcfapi,e=i;break}}catch(e){}try{if(i.frames.__tcfapiLocator){e=i;break}}catch(e){}if(i===window.top)break;i=i.parent}return{cmpFrame:e,cmpFunction:t}}(),s=t.cmpFrame,t=t.cmpFunction;if(!s)return r("GDPR: CMP not found.");"function"==typeof t?(properLog.mylog("GDPR: Detected CMP API is directly accessible, calling it now..."),t("addEventListener",n,e)):(properLog.mylog("GDPR: Detected CMP is outside the current iframe where ad project is located, calling it now..."),function(e,o,t){var i="__tcfapi";window[i]=function(e,t,i,r){var s=Math.random()+"",e={__tcfapiCall:{command:e,version:t,parameter:r,callId:s}};a[s]=i,o.postMessage(e,"*")},window.addEventListener("message",function(e){var t=i+"Return";(e="string"==typeof e.data&&e.data.includes(t)?ProperMedia.utils.safeJsonParse(e.data):e.data)[t]&&e[t].callId&&(e=e[t],void 0!==a[e.callId])&&a[e.callId](e.returnValue,e.success)},!1),window[i](e,n,t)}("addEventListener",s,e))},static:function(e,t){g(void 0,e,t)}},t={};function i(s){var i,e,o=!1,a=null,r=0,n=null;function d(e,t,i,...r){null!=a&&(clearTimeout(a),a=null),null!=n&&(clearTimeout(n),n=null),o=!0,t=properSpecialOps.gdprCancelAuction??t,"function"==typeof s?s(t,i,...r):t||consentManager.consentReady("gdpr")}properLog.mylog("GDPR: CMP gdprDoesApply: "+ProperMedia.utils.deepAccess(properSpecialOps,"gdprDoesApply")),!1===ProperMedia.utils.deepAccess(properSpecialOps,"gdprDoesApply")?d(null,!1,"GDPR: GDPR does not apply."):Object.keys(u).includes(l)?(i={onSuccess:function(e){d(e,!1)},onError:function(e,...t){properLog.mylog(e),"function"!=typeof s&&(null!=n&&(clearTimeout(n),n=null),c=ProperMedia.utils.deepAccess(properSpecialOps,"gdprMaxFailCnt")??c,++r<c)?n=setTimeout(function(){u[l](i.onSuccess,i.onError)},500):d(null,!0,e,...t)}},u[l](i.onSuccess,i.onError),o||null!=n||(e=function(){function e(e){d(e,!1,"GDPR: CMP did not load, continuing auction...")}g(p,e,function(){e(m(void 0))})},a=setTimeout(e,1e4))):d(null,!1,"GDPR: CMP framework ("+l+") is not a supported framework.  Aborting consentManagement module and resuming auction.")}function g(e,t,i){var r,s;"static"===l&&(e=e.getTCData),r=e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:o,s=e&&e.tcString,"boolean"==typeof r&&(!0!==r||s&&ProperMedia.utils.isStr(s))?t(m(e)):i("GDPR: CMP returned unexpected value during lookup process.",e)}function m(e){return t.consentString=e?e.tcString:void 0,t.vendorData=e||void 0,t.gdprApplies=e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:o,e&&e.addtlConsent&&ProperMedia.utils.isStr(e.addtlConsent)&&(t.addtlConsent=e.addtlConsent),t.apiVersion=n,t}return i(),{gdprConsent:t,loadIfMissing:function(e){Object.keys(t).length?(properLog.mylog("GDPR: User consent information already known.  Pulling internally stored information..."),e(!1)):i(e)},hasPurpose1Consent:function(){return!t.gdprApplies||!0===ProperMedia.utils.deepAccess(t,"vendorData.purpose.consents.1")},hasPurpose4Consent:function(){return!t.gdprApplies||!0===ProperMedia.utils.deepAccess(t,"vendorData.purpose.consents.4")}}}(),gdprConsent=gdprConsentModule.gdprConsent,gdprEnforcement=function(){var r,i,t,e={},o={purpose1:{id:1,name:"storage"},purpose2:{id:2,name:"basicAds"},purpose4:{id:2,name:"personalisedAds"},purpose7:{id:7,name:"measurement"}},s=[{purpose:"storage",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:["pubcid"]},{purpose:"basicAds",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]},{purpose:"personalisedAds",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]}],a=[],n=[],d={gam:755};function p(e){var t=null;return t=e?function(e){var t=null;{var i;e&&(i=bidderToAdapterName(e),t=ProperMedia.utils.deepAccess(properOps,"bidder_info."+e+".gvlid")||ProperMedia.utils.deepAccess(properOps,"bidder_info."+i+".gvlid")||d[e]||null)}return t}("string"==typeof e?e:e.name)||ProperMedia.utils.deepAccess(userIdAdapters,e+".storage.gvlid")||null:t}function l(t,e,i){var r,s=o[Object.keys(o).filter(e=>o[e].name===t.purpose)[0]].id;return-1!==(t.vendorExceptions||[]).indexOf(e)||(e=ProperMedia.utils.deepAccess(gdprConsent,"vendorData.purpose.consents."+s),i=ProperMedia.utils.deepAccess(gdprConsent,"vendorData.vendor.consents."+i),r=ProperMedia.utils.deepAccess(gdprConsent,"vendorData.purpose.legitimateInterests."+s),e=!1===t.enforcePurpose||!0===e,i=!1===t.enforceVendor||!0===i,2===s?e&&i||!0===r:e&&i)}e.deviceAccessEnforcement=function(e,t){var i;return!gdprConsent||!gdprConsent.gdprApplies||(e=p(t)||e,l(r,t,e))?i=!0:(t&&properLog.mylog("TCF2 denied device access for "+t),i=!1,a.push(t)),i},e.userSyncEnforcement=function(e){var t,i;return gdprConsent&&gdprConsent.gdprApplies?(i=p(e),(i=l(r,e,i))?t=i:(t=!1,properLog.mylog("User sync not allowed for "+e),a.push(e))):t=!0,t},e.userIdEnforcement=function(e){return gdprConsent&&gdprConsent.gdprApplies?{submodules:e.map(function(e){if(e.name&&userIdAdapters[e.name]){var t=userIdAdapters[e.name],i=ProperMedia.utils.deepAccess(t,"storage.gvlid")||null,t=ProperMedia.utils.deepAccess(t,"name")||"";if(l(r,t,i))return e;properLog.mylog("User denied permission to fetch user id for "+t+" User id module"),a.push(t)}}).filter(function(e){return e}),hasValidated:!0}:{submodules:e}},e.makeBidRequestEnforcement=function(e){var t;return!gdprConsent||!gdprConsent.gdprApplies||(t=p(e),-1===n.indexOf(e)&&((t=!!l(i,e,t))||(properLog.mylog("TCF2 blocked auction for "+e),n.push(e)),t))};function c(e){return e.purpose===o.purpose1.name}function u(e){return e.purpose===o.purpose2.name}function g(e){return e.purpose===o.purpose4.name}function m(e){return e.purpose===o.purpose7.name}return e.setEnforcementConfig=function(e){e=ProperMedia.utils.deepAccess(e,"gdpr.rules");t=e||(properLog.mylog("TCF2: enforcing P1 and P2 by default"),s),ProperMedia.utils.isArray(t)&&(r=t.find(c),i=t.find(u),purpose4Rule=t.find(g),t.find(m),r=r||s[0],i=i||s[1],purpose4Rule=purpose4Rule||s[2])},e}(),confiantWrapper={cdnHost:"cdn.clarium.io",confiantId:"TzdoClhg0h30W2CCYiFFb2rl5ww",mapBlockingType:{1:{type:"manual",desc:"Deprecated"},2:{type:"creative",desc:"Creative-based detection"},3:{type:"provider_security",desc:"Domain-based detection for unsafe domains"},4:{type:"banned_domain",desc:"Domain-based detection for banned domains"},5:{type:"provider_ibv",desc:"Domain-based detection for in-banner-video"},6:{type:"unsafejs",desc:"Javascript-based detection for unsafe ads"},7:{type:"hrap",desc:"Domain-based detection for high risk ad platform domains"}},loadDFPTag:function(e){var t;properLog.mylog("Confiant loadDFPTag"),e=e||window,this.confiantId=ProperMedia.utils.deepAccess(properSpecialOps,"confiant.accountId")||ProperMedia.utils.deepAccess(properOps,"confiant.accountId")||this.confiantId,2==ProperMedia.utils.deepAccess(properSpecialOps,"confiant.version")?((t=e)._clrm=t._clrm||{},t._clrm.gpt={propertyId:this.confiantId,confiantCdn:this.cdnHost,sandbox:0,mapping:"W3siaSI6MiwidCI6Int7b319Ont7d319eHt7aH19IiwicCI6MCwiRCI6MSwiciI6W119LHsiaSI6NiwidCI6Int7Y299fTp7e3d9fXh7e2h9fSIsInAiOjUwLCJEIjowLCJyIjpbeyJ0IjoiZXgiLCJzIjpudWxsLCJ2IjoiY28ifV19XQ==",activation:"||neq|NDM5NjA3NDE2,||neq|NDk4NzQ4NDU2,||neq|NTExMjA0NTc2,||neq|ODA2NzU4NTc2,||neq|ODA2NzYxMjE2,||neq|ODEyODU5NjE2,||neq|ODEyODg1Mjk2,||neq|MTU2MTIwNzQ1Ng==",callback:TraceKit.wrap(this.callback.bind(this))},(t=document.createElement("script")).async=!0,t.src="//"+this.cdnHost+"/gpt/a/wrap.js?v2_1"):(e.confiant=e.confiant||{},e.confiant.callback=TraceKit.wrap(this.callback.bind(this)),(t=e.document.createElement("script")).async=!0,t.src="https://cdn.confiant-integrations.net/"+this.confiantId+"/gpt_and_prebid/config.js"),e.document.getElementsByTagName("head")[0].appendChild(t)},callback:function(e,t,i,r,s,o){properLog.mylog("Confiant Callback");var a={},n={cpm:0,size:"1x1",bidder:"dfp",blockData:arguments};if(o&&void 0!==o.dfp){var d=o.dfp.ad||null,p=o.dfp.y||null,a=(d==properOps.amazon_advertiser?n.bidder="a9":d==properOps.adsense_advertiser?n.bidder="adsense":d!=properOps.google_advertiser&&1!=d&&0!=d&&null!=d&&null==p||(n.bidder="adx"),ProperMedia.utils.extractSlotName(o.dfp.s)||properPage.getSlotFromPageObjectByAdUnitPath(o.dfp.A)||"");if(a&&a instanceof slotObj){if(n.size=a.size,"adx"!=n.bidder&&"adsense"!=n.bidder||(d=a.interstitial?"interstitial":creative_size,p=a.getFloor(d),a.dfp_bid_price&&parseFloat(a.dfp_bid_price)>p?n.cpm=parseFloat(a.dfp_bid_price)+.01:n.cpm=parseFloat(p)+.01),i&&a.getWinningBid())return void showWinningAd(a)}else properLog.mylog("Confiant DFP Callback: Cannnot determin slot.")}this.trackBadAd(n)},wrapTag:function(n,e,d){properLog.mylog("Confiant wrapTag: "+n.name),this.confiantId=ProperMedia.utils.deepAccess(properSpecialOps,"confiant.accountId")||ProperMedia.utils.deepAccess(properOps,"confiant.accountId")||this.confiantId;var t=TraceKit.wrap(function(e,t,i,r,s){function o(e){return(b(e)||"")[d]("/","_")[d]("+","-")}var a,n,d,p,l,c,u,g=t.bidder,m=t.size,h=e.parentWindow||e.defaultView,_=h.JSON,b=h.btoa,f=h.encodeURIComponent;return!(!_||!b||(a="script",n="src",d="replace",p="error",u="stringify",l="write",i="https://"+i+"/?wrapper="+f(r)+"&tpid=",m=o(r+"/"+(g={k:{hb_bidder:[g],hb_size:[m]}}).k.hb_bidder[0]+":"+g.k.hb_size[0]),g={wh:m,wd:_.parse(_[u](g)),wr:0},c=m,_=o(_[u](g)),u=function(){e[l](t.ad)},c=i+f(c)+"&d="+_,_="err__"+ +new Date,h[_]=u,e[l]("<"+a+" on"+p+'="void('+_+'())" '+n+'="'+c+'" type="text/java'+a+'" ></'+a+">"),u={prebid:{adId:t.adId,cpm:t.cpm}},_={d:g,t:t.ad,cb:s,id:u},h[r]={},h[r][m]=_,e.close(),0))}),i=TraceKit.wrap(function(e,t,i,r,s,o){var a={cpm:d.price,size:d.size,bidder:d.bidder,blockData:arguments};i&&(properLog.mylog("Confiant blocked ad: "+n.name+" - "+a.bidder),n.winning_ad={},n.getWinningBid())?showWinningAd(n):this.trackBadAd(a)});t(e,{bidder:d.bidder,size:d.size,ad:d.adcode},this.cdnHost,this.confiantId,i.bind(this))||(properLog.mylog("Confiant failed: "+n.name),e.write(ad.adcode))},trackBadAd:function(e){try{var t=ProperMedia.utils.deepAccess(e,"blockData.0")||"",i={client_timestamp:(new Date).getTime(),event_type:"rogue_ad",event_id:ProperMedia.utils.generateUUID(),page_id:ProperMedia.utils.generateUUID(),session_id:ProperMedia.utils.generateUUID(),bidder:e.bidder||"",user_id:ProperMedia.utils.validateValue(properUser.pubcid,{type:"string"}),publisher:ProperMedia.utils.validateValue(properOps.site_name,{type:"string"}),rtp_file_version:ProperMedia.utils.validateValue(properOps.rtp_file_version,{type:"string"}),ad_project_tag:ProperMedia.utils.validateValue(properOps.rtp_file_revision,{type:"string"}),page_url:getPageUrl()||"",in_iframe:1!==properOps.run_dfp_in_window,is_https:"https:"==document.location.protocol,user_agent:navigator.userAgent||"",stack_trace:JSON.stringify(e),error_message:ProperMedia.utils.deepAccess(this,"mapBlockingType."+t+".desc")||"Confiant Flagged Ad",error_name:ProperMedia.utils.deepAccess(this,"mapBlockingType."+t+".type")||"rogue_ad"};properPage.uuid&&""!==properPage.uuid&&(i.page_id=properPage.uuid),ProperMedia.utils.deepAccess(properSession,"sessionData.uuid")&&(i.session_id=properSession.sessionData.uuid),$.ajax({url:"https://events.proper.io/api/event",requestType:"fetch",method:"POST",data:JSON.stringify(i),withCredentials:!1,success:function(e){console.log("Proper exception logged successfully.")},error:function(){console.error("Unable to log Proper exception.")}})}catch(e){console.error("Error sending exception data"),console.error(e)}}},adLightningWrapper={clientId:"properio",loadDFPTag:function(e){e=e||window,this.clientId=ProperMedia.utils.deepAccess(properOps,"adlightning.clientId")||ProperMedia.utils.deepAccess(properSpecialOps,"adlightning.clientId")||this.clientId;var t=e.document.createElement("script");t.async=!0,t.src="https://tagan.adlightning.com/"+this.clientId+"/op.js",e.document.getElementsByTagName("head")[0].appendChild(t),window.addEventListener("message",function(e){var t,e=e.data;"ADL_BLOCKED"===e.message&&e.adUnit&&(t=e.adUnit.split("/").pop(),t=properPage.getSlotFromPageObject(t)||properPage.getSlotFromPageObject(t.replace(/_\d+$/,"")))&&((e=new Error(t.name+" data:"+JSON.stringify(e))).event_type="ADL_BLOCKED",sendError(e),properLog.mylog("ADL Blocked Ad for "+t.name),t.adl_blocked||(t.adl_blocked=!0,t.getWinningBid(),showWinningAd(t)))})},wrapTag:function(e,t,i){properLog.mylog("Running AdLightning Wrapper: "+e.name);var r=encodeURIComponent(i.adcode),s=i.size.split("x"),r='<script> var urlEncodedUrl = "%%ENCODED_AD_TAG%%";<\/script>                <script src="https://tagan.adlightning.com/%%CLIENT_ID%%/blacklist_script.js" type="text/javascript"><\/script>                <script src="https://tagan.adlightning.com/%%CLIENT_ID%%/blocking_script.js" type="text/javascript"><\/script>                <script type="text/javascript">                    function createTagDetails(){                        var tagDetails = {};                        tagDetails.w = "%%WIDTH%%";                        tagDetails.h = "%%HEIGHT%%";                        tagDetails.adServerDetails = {advertiserId: "%%ADVERTISER_ID%%", campaignId: "%%CAMPAIGN_ID%%", creativeId: "%%CREATIVE_ID%%", lineitemId: "%%LINEITEM_ID%%", adServer: "%%AD_SERVER%%"};                        tagDetails.au = "%%AD_UNIT_ID%%";                        tagDetails.markupInDom = true;                        tagDetails.refreshMessage = "true";                        var timeBase36 = Date.now().toString(36);                        var random = Math.random().toString(36).substr(2).split("")                                    .map(function (c) {                                    return (Math.random() < 0.5 ? c.toUpperCase() : c); }) .join("");                        tagDetails.currentTagId="adltag_" + timeBase36 + "_" + random;                    return tagDetails;                    }                    var random = "" + Math.round(Math.random() * 1e8);                    var clientId = "%%CLIENT_ID%%";                    var site_id = random + "_" + clientId;                    window[site_id]={};                    window[site_id].tagDetails=createTagDetails();                    !function(){"use strict";"blocker"in window||(window.blocker=function(e,n,t,o,r){function i(e){var n=window.Request,t=n&&n.prototype||{};if(navigator&&navigator.sendBeacon)navigator.sendBeacon(e);else if(window.fetch){var o={method:"GET"};"keepalive"in t&&(o.keepalive=!0),window.fetch(e,o)}else{var r=new Image(1,1);"loading"in r&&(r.loading="eager"),r.src=e}}if((r=r||{}).bw){if(Math.random()<.1)for(var a="undefined"!=typeof btoa?btoa:String,x="https://"+clientId+"-tagan.adlightning.com",c=window[e]?window[e].tagDetails:{},d={siteId:clientId,url:window.top.location.href,tagDetails:c,errorData:null,errorMethod:"missing_blocker"},f=function(){var t=(new Date).getTime();"undefined"!=typeof performance&&"function"==typeof performance.now&&(t+=performance.now());return"xxxxxxxxxxxxxxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)})}(),l=encodeURIComponent(JSON.stringify(d)).replace(/%([0-9A-F]{2})/g,function(e,n){return String.fromCharCode("0x"+n)}),g=encodeURIComponent(a(l)),w=8e3-(x.length+100),u=Math.ceil(g.length/w),s=0,p=1;p<=u;p+=1){i(x+"/error?d="+g.substr(s,w)+"&i="+p+"-"+u+"&t="+c.currentTagId+"&r="+f+"&c="+clientId+"&z=1"),s+=w}document.write(n)}})}();                    blocker(site_id, decodeURIComponent(urlEncodedUrl) + "\x3c!--ADL_WRAPPED--\x3e", false, window, {bw:true});                <\/script>'.replace(/%%ENCODED_AD_TAG%%/g,r).replace(/%%CLIENT_ID%%/g,this.clientId).replace(/%%WIDTH%%/g,s[0]).replace(/%%HEIGHT%%/g,s[1]).replace(/%%ADVERTISER_ID%%/g,i.adid).replace(/%%CAMPAIGN_ID%%/g,i.cid).replace(/%%CREATIVE_ID%%/g,i.crid).replace(/%%LINEITEM_ID%%/g,"").replace(/%%AD_SERVER%%/g,"proper").replace(/%%AD_UNIT_ID%%/g,e.name);t.document.open(),t.document.write(r),t.document.close()},addReportAd:function(e){try{var t=e.slot.getSlotElementId(),i=ProperMedia.utils.makeid(10)+"-"+t,r=document.createElement("div"),s=(r.id=i,r.className="adl-report-ad-container-parent",document.createElement("div")),o=(s.className="adl-report-ad-container",{adlAction:"createUserReportButton",selector:"#"+i,uniqueId:e.creativeId||e.sourceAgnosticCreativeId,targetAd:t}),a=(r.appendChild(s),document.getElementById(t)),n=a.parentElement.getElementsByClassName("adl-report-ad-container-parent");n&&n.length&&n[0].remove(),a&&(a.insertAdjacentElement("afterend",r),window.postMessage(o,"*"))}catch(e){properLog.mylog("Error creating Ad Lightning report ad button. "+JSON.stringify(e))}}},geoEdgeWrapper={wrapTag:function(e,t,i){properLog.mylog("Running geoEdge Wrapper: "+e.name);e='<div id="grumi-container"><script type="text/javascript" nonce="!headerNonce!">!function(d,i){var p={wver:"1.1.5",wtype:"dfp",key:"caae3efc-52af-4938-bc92-44182723e3e2",meta:{adup:"%%ADUNIT%%",dest:"%%DEST_URL_ESC%%",w:"%%WIDTH%%",h:"%%HEIGHT%%",li:"%eaid!",adv:"%eadv!",ord:"%ebuy!",cr:"%ecid!",ygIds:"%_ygIds!",aduid:"%epid!",haduid:"%esid!",isAfc:"%_isAfc!",isAmp:"%_isAmp!",qid:"%qid!",cust_imp:"%cust_imp!",cust1:"%cust1!",cust2:"%cust2!",cust3:"%cust3!",caid:"%caid!",di:"%DEMAND_ID!",dn:"%DEMAND_NAME!",dcid:"%DEMAND_CREATIVE_ID!",pid:"%PUBLISHER_ID!",pn:"%PUBLISHER_NAME!",adElId:"%_adElId!"},sp:"dfp",cfg:{},pbAdId:"%%PATTERN:hb_adid%%",pbAdIdAst:"%%PATTERN:hb_adid_appnexusAst%%",pbBidder:"%%PATTERN:hb_bidder%%",hbPb:"%%PATTERN:hb_pb%%",hbCid:"%_hbcid!",site:"%%SITE%%",pimp:"%_pimp%"};window.grumi=p}();<\/script><template style="display: none;" id="template0"><xmp style="display: none;" id="xmp0">'.replace(/%DEMAND_ID!/g,i.bidder).replace(/%DEMAND_NAME!/g,i.bidder).replace(/%DEMAND_CREATIVE_ID!/g,i.crid).replace(/%PUBLISHER_ID!/g,properOps.site_name).replace(/%PUBLISHER_NAME!/g,properOps.site_name)+i.adcode+'</xmp></template><script type="text/javascript" nonce="!footerNonce!">!function(t){var o=window.grumi.key,r=window.grumi,e=r&&r.wtype&&"gpt"===r.wtype,n=window.onerror,i=1*new Date,a=navigator.userAgent&&navigator.userAgent.match(/\\b(MSIE |Trident.*?rv:|Edge\\/)(\\d+)/),w=e&&!a;function d(){var e=function(){for(var e,n=document.getElementsByTagName("template"),t=n.length-1;0<=t;t--)if("template0"===n[t].id){e=n[t];break}return e}();return e.content?e.content.getElementById?e.content.getElementById("xmp0"):e.content.childNodes[0]:e.getElementsByTagName("xmp")[0]}function u(){var e=d();return e&&e.innerHTML}function c(e,n){n=n||!1,top.postMessage&&top.postMessage({evType:e||"",key:r.key,adup:r.meta.adup,html:window.grumi?window.grumi.tag:"",el:r.meta.adElId,refresh:n},"*")}var m=!1;function g(e,n){if(!m){m=!0;var t="",o=a&&"complete"===document.readyState;window.grumi&&(window.grumi.fsRan=!0,t=window.grumi.tag),o||(t||(t=u()),w&&window.document.open(),window.document.write(t),window.document.close()),((n=n||!1)||o)&&c(e,o)}}function l(e,t){return function(){var n=setTimeout(function(){var e=document.getElementById(i);e&&null===function(e){if(void 0!==e.nextElementSibling)return e.nextElementSibling;for(var n=e.nextSibling;n&&1!==n.nodeType;)n=n.nextSibling;return n}(e)&&t&&t(),clearTimeout(n)},e)}}l(5e3,function(){g()})(),l(2e3,function(){c("slwCl")})(),window.grumi.tag=u(),window.grumi.scriptHost=t,window.grumi.pbGlobal=window.grumi.cfg&&window.grumi.cfg.pbGlobal||"pbjs",window.grumi.onerror=n,window.parent&&window.parent.postMessage&&window.parent.postMessage({iw:!0,key:r.key,adup:r.meta.adup,el:r.meta.adElId},"*"),function(){var e=document.createElement("script");e.type="text/javascript",e.src=t+o+"/grumi.js",e.className="rm",e.id=i,w&&(e.async=!0);var n="_"+1*new Date;window[n]=function(){g("netErr",!0)},window.grumi.start=1*new Date;try{window.document.write(e.outerHTML.replace(\'class="rm"\',\'onerror="\'+n+\'();"\'))}catch(e){g()}}(),window.onerror=function(e){"function"==typeof n&&n.apply(this,arguments),l(0,g)(),window.onerror=n}}(("http"===window.location.protocol.substr(0,4)?window.location.protocol:"https:")+"//rumcdn.geoedge.be/");<\/script></div>';t.open(),t.write(e),t.close()}},bidAdapters={},userIdAdapters={},audiencePixels={networks:{}},properOps=new optionsObj,properSession=new sessionObj,properDevice=new deviceObj,properUser=new userObj,cookieMatching=new cookieMatchingObj,properPage=new pageObj,properAdPool=new adPoolObj,debugObj=new debugConsole,thirtyThreeAcrossIdAdapter=function(){const r="thirtyThreeAcrossId";function e(){this.name=r,this.eid_name="33acrossId",this.source="33across.com",this.atype=1,this.config={enabled:!1,pid:null},this.storage={type:"localstorage",name:"33acrossId",expiresInDays:90,refreshInSeconds:28800,gvlid:58},this.idObj=null,this.callback=null}return e.prototype.calculateQueryStringParams=function(){var e=uspConsent&&uspConsent.usPrivacy?uspConsent.usPrivacy:"",t=Boolean(gdprConsent.gdprApplies),i={pid:this.config.pid,gdpr:Number(t),src:"pbjs",ver:properOps.prebid_version};return e&&(i.us_privacy=e),t&&(i.gdpr_consent=gdprConsent.consentString||""),i},e.prototype.getValue=function(){return ProperMedia.utils.deepAccess(this,"idObj."+this.eid_name+".envelope")||void 0},e.prototype.decode=function(e){return{[this.eid_name]:{envelope:e}}},e.prototype.getId=function(e){if("string"!=typeof this.config.pid)return void properLog.mylog(r+": Submodule requires a partner ID to be defined");const{apiUrl:t="https://lexicon.33across.com/v1/envelope"}=this.config;return{callback:function(i){var e=this.calculateQueryStringParams();$.ajax({url:t+"?"+ProperMedia.utils.formatQueryString(e),method:"GET",timeout:1e4,success:function(e){let t;try{t=function(e){if(e?.data?.envelope)return e.data.envelope;properLog.mylog(r+": No envelope was received")}(ProperMedia.utils.safeJsonParse(e))}catch(e){properLog.mylog(r+": ID reading error:"+e)}i(t)}.bind(this),error:function(e){properLog.mylog(r+": ID error response",e),i()}})}}},e}(),verizonMediaIdAdapter=(userIdAdapters.thirtyThreeAcrossId=new thirtyThreeAcrossIdAdapter,function(){var i="__PIXEL_ID__",s="https://ups.analytics.yahoo.com/ups/"+i+"/fed";function e(){this.name="verizonMediaId",this.eid_name="connectid",this.source="verizonmedia.com",this.emailHash="",this.atype=3,this.config={enabled:!1,pixelId:58491},this.storage={type:"localstorage",name:"connectid",expiresInDays:15,gvlid:25},this.idObj=null,this.callback=null}function o(e){return e&&e.gdprApplies}function a(){try{return"1"===localStorage.getItem("connectIdOptOut")}catch{}}return e.prototype.initialize=function(e){ProperMedia.utils.deepAccess(e,"emailHashes.sha256")&&(this.emailHash=e.emailHashes.sha256)},e.prototype.getValue=function(){return this.idObj||void 0},e.prototype.decode=function(e){return!a()&&"object"==typeof e&&(e.connectid||e.vmuid)?e.connectid||e.vmuid:void 0},e.prototype.getId=function(e){if(!a()){var t,r;if(this.emailHash&&this.config.pixelId)return t={"1p":"0",he:this.emailHash,pixelId:this.config.pixelId,gdpr:o(gdprConsent)?"1":"0",gdpr_consent:o(gdprConsent)?gdprConsent.consentString:"",us_privacy:uspConsent&&uspConsent.usPrivacy?uspConsent.usPrivacy:""},gppConsent&&gppConsent.gppString&&(t.gpp=gppConsent.gppString,t.gpp_sid=encodeURIComponent(gppConsent.applicableSections.join(","))),r=s.replace(i,this.config.pixelId)+"?"+ProperMedia.utils.formatQueryString(t),{callback:function(i){$.ajax({url:r,method:"GET",success:function(e){var t;if(e)try{t=ProperMedia.utils.safeJsonParse(e)}catch(e){properLog.mylog(e)}i(t)}.bind(this),error:function(e){properLog.mylog("VerizonMediaId - ID fetch encountered an error: "+JSON.stringify(e)),i()}})}};properLog.mylog("The verizonMediaId submodule requires userIdData.emailHash.sha256 and pixelId parameters to be defined.")}},e}()),identityLinkAdapter=(userIdAdapters.verizonMediaId=new verizonMediaIdAdapter,function(){function e(){this.name="identityLink",this.eid_name="idl_env",this.envelope="",this.email="",this.emailHashes=[],this.source="liveramp.com",this.atype=3,this.config={enabled:!1,placementID:72,atsEnabled:!1,detectionType:"",urlParameter:"",detectionSubject:"",detectDynamicNodes:"",detectionEventType:"",cssSelectors:"",rootDomain:"",detectionInterval:0,urlRegex:"",logging:""},this.storage={type:"cookie",name:"idl_env",expiresInDays:5,gvlid:97},this.idObj=null,this.callback=null,this.atsLoaded=null,this.atsCallback=null,this.getIdCalled=!1,this.atsCalled=!1,this.excludeEid=!0}return e.prototype.initialize=function(e){var t;e.email?this.email=e.email:ProperMedia.utils.deepAccess(properSpecialOps,"liveramp_email")?this.email=ProperMedia.utils.deepAccess(properSpecialOps,"liveramp_email"):properStorage.getCookie("proper_lre",{moduleName:this.name,gvlid:this.storage.gvlid})&&(this.email=properStorage.getCookie("proper_lre",{moduleName:this.name,gvlid:this.storage.gvlid})),this.email&&(this.config.atsEnabled=!0,ProperMedia.utils.isBase64(this.email))&&(this.email=ProperMedia.utils.b64DecodeUnicode(this.email)),this.config.urlParameter&&ProperMedia.utils.deepAccess(properPage,"get_vars."+this.config.urlParameter)&&((t=properPage.get_vars[this.config.urlParameter]).includes("@")?this.config.urlHashType="email":32==t.length?this.config.urlHashType="md5":40==t.length?this.config.urlHashType="sha1":64==t.length&&(this.config.urlHashType="sha256"),t)&&this.config.urlHashType&&"email"!=this.config.urlHashType&&!ProperMedia.utils.deepAccess(e,"emailHashes."+this.config.urlHashType)&&ProperMedia.utils.deepSetValue(e,"emailHashes."+this.config.urlHashType,t),this.config.cssSelectors=this.config.cssSelectors?this.config.cssSelectors.split(","):[],(this.config.detectionType||this.config.urlParameter||this.config.detectionSubject||this.config.detectDynamicNodes||this.config.detectionEventType||this.config.rootDomain||this.config.detectionInterval||this.config.urlHashType||this.config.urlRegex||this.config.logging||this.config.cssSelectors&&this.config.cssSelectors.length)&&(this.config.atsEnabled=!0),ProperMedia.utils.deepAccess(e,"emailHashes")?(this.config.atsEnabled=!0,this.emailHashes=ProperMedia.utils.objectValues(ProperMedia.utils.deepAccess(e,"emailHashes"))||[]):ProperMedia.utils.deepAccess(properSpecialOps,"liveramp_emailHashes")&&(this.config.atsEnabled=!0,this.emailHashes=ProperMedia.utils.objectValues(ProperMedia.utils.deepAccess(properSpecialOps,"liveramp_emailHashes"))||[]),this.config.atsEnabled&&this.loadAtsScript()},e.prototype.runATS=function(e){this.config.atsEnabled=!0,e&&(this.email=e),this.atsLoaded?this.atsOnLoad():this.loadAtsScript()},e.prototype.atsOnLoad=function(){this.atsLoaded=!0;var t={placementID:this.config.placementID};this.email?t.email=this.email.toLowerCase().trim():this.emailHashes&&this.emailHashes.length?t.emailHashes=this.emailHashes:["detectionType","urlParameter","detectionSubject","detectDynamicNodes","detectionEventType","detectionInterval","urlHashType","urlRegex","logging"].forEach(function(e){this.config[e]&&(t[e]=this.config[e])},this),this.config.cssSelectors&&this.config.cssSelectors.length&&(t.cssSelectors=this.config.cssSelectors),this.config.rootDomain&&(t.rootDomain=this.config.rootDomain),properLog.mylog("identityLink: ATS params: "+JSON.stringify(t)),window.top.ats.start(t),this.getIdCalled&&!this.atsCalled&&this.callAts()},e.prototype.loadAtsScript=function(){var e=window.top.document.createElement("script");e.onload=this.atsOnLoad.bind(this),e.src="https://ats.rlcdn.com/ats.js",window.top.document.body.appendChild(e)},e.prototype.decode=function(e){return e||void 0},e.prototype.getValue=function(){return this.idObj||void 0},e.prototype.getId=function(){this.getIdCalled=!0;return{callback:function(e){this.atsCallback=e,this.config.atsEnabled?this.callAts():this.getEnvelope()}}},e.prototype.callAts=function(){window.top.ats&&this.getIdCalled&&!this.atsCalled&&(this.atsCalled=!0,properLog.mylog("identityLink: ATS exists!"),window.top.ats.retrieveEnvelope(function(e){e?(properLog.mylog("identityLink: An envelope can be retrieved from ATS!"),this.setEnvelopeSource(!0),this.atsCallback(ProperMedia.utils.safeJsonParse(e).envelope||"")):this.getEnvelope()}.bind(this)))},e.prototype.getEnvelope=function(){var e,t,i;properStorage.getCookie("_lr_retry_request",{moduleName:this.name,gvlid:this.storage.gvlid})?this.atsCallback():(e=(i=gdprConsent&&"boolean"==typeof gdprConsent.gdprApplies&&gdprConsent.gdprApplies?1:0)?gdprConsent.consentString:"",t=2===ProperMedia.utils.deepAccess(gdprConsent,"vendorData.tcfPolicyVersion"),!i||e&&""!==e?(i="https://api.rlcdn.com/api/identity/envelope?pid="+this.config.placementID+(i?(t?"&ct=4&cv=":"&ct=1&cv=")+e:""),this.setRetryCookie(),properLog.mylog("identityLink: A 3P retrieval is attempted!"),this.setEnvelopeSource(!1),$.ajax({url:i,method:"GET",requestType:"cors",success:function(e){var t;if(e)try{t=ProperMedia.utils.safeJsonParse(e)}catch(e){properLog.mylog(e)}this.atsCallback(t&&t.envelope?t.envelope:"")}.bind(this),error:function(e){properLog.mylog("identityLink: identityLink: ID fetch encountered an error "+JSON.stringify(e)),this.atsCallback()}.bind(this)})):properLog.mylog("identityLink: Consent string is required to call envelope API."))},e.prototype.setRetryCookie=function(){var e=new Date;e.setTime(e.getTime()+36e5),properStorage.setCookie("_lr_retry_request","true",e.toUTCString(),"","",{moduleName:this.name,gvlid:this.storage.gvlid})},e.prototype.setEnvelopeSource=function(e){var t=new Date;t.setTime(t.getTime()+2592e6),properStorage.setCookie("_lr_env_src_ats",e,t.toUTCString(),"","",{moduleName:this.name,gvlid:this.storage.gvlid})},e}()),pubCommonIdAdapter=(userIdAdapters.identityLink=new identityLinkAdapter,function(){var i="_pubcid",r="_pubcid_optout";function e(){this.name="pubcid",this.eid_name="pubcid",this.source="pubcid.org",this.atype=1,this.config={enabled:!0,create:!0,extend:!0},this.storage={type:LOCAL_STORAGE,name:i,expiresInDays:365,gvlid:GVLID},this.idObj=null,this.callback=null}return PUB_COMMON="PublisherCommonId",EXP_SUFFIX="_exp",COOKIE="cookie",LOCAL_STORAGE="localstorage",MODULE_NAME="pubCommonId",GVLID=887,e.prototype.decode=function(e){return e||void 0},e.prototype.getValue=function(){return ProperMedia.utils.isStr(this.idObj)?this.idObj:ProperMedia.utils.deepAccess(this,"idObj.pubcid")},e.prototype.init=function(){properStorage.localStorageIsEnabled({moduleType:"core",moduleName:MODULE_NAME,gvlid:GVLID})?this.storage.type=LOCAL_STORAGE:properStorage.cookiesAreEnabled({moduleType:"core",moduleName:MODULE_NAME,gvlid:GVLID})?this.storage.type=COOKIE:this.storage.type=null,this.getId()},e.prototype.removeStorageItem=function(e){try{properStorage.removeDataFromLocalStorage(e+EXP_SUFFIX,{moduleType:"core",moduleName:MODULE_NAME,gvlid:GVLID}),properStorage.removeDataFromLocalStorage(e,{moduleType:"core",moduleName:MODULE_NAME,gvlid:GVLID})}catch(e){properLog.mylog(JSON.stringify(e))}},e.prototype.readValue=function(e,t){var i;return(t=t||this.storage.type)===COOKIE?i=properStorage.getCookie(e,{moduleType:"core",moduleName:MODULE_NAME,gvlid:GVLID}):t===LOCAL_STORAGE&&(i=function(e){var t=null;try{var i=properStorage.getDataFromLocalStorage(e+EXP_SUFFIX,{moduleType:"core",moduleName:MODULE_NAME,gvlid:GVLID});!i||0<new Date(i).getTime()-Date.now()?t=properStorage.getDataFromLocalStorage(e,{moduleType:"core",moduleName:MODULE_NAME,gvlid:GVLID}):removeStorageItem(e)}catch(e){properLog.mylog(JSON.stringify(e))}return t}(e)),"undefined"===i||"null"===i?null:i},e.prototype.writeValue=function(e,t,i){if(e&&t)if(this.storage.type===COOKIE){var r=new Date;r.setTime(r.getTime()+864e5*expires),properStorage.setCookie(e,t,r.toGMTString(),"Lax","."+properPage.root_domain,{moduleType:"core",moduleName:MODULE_NAME,gvlid:GVLID})}else if(this.storage.type===LOCAL_STORAGE){var s,r=e,e=t,t=i;try{void 0!==t&&null!=t&&(s=new Date(Date.now()+864e5*t).toUTCString(),properStorage.setDataInLocalStorage(r+EXP_SUFFIX,s,{moduleType:"core",moduleName:MODULE_NAME,gvlid:GVLID})),properStorage.setDataInLocalStorage(r,e,{moduleType:"core",moduleName:MODULE_NAME,gvlid:GVLID})}catch(e){properLog.mylog(JSON.stringify(e))}}},e.prototype.getId=function(){var e=null,t=properStorage.cookiesAreEnabled({moduleType:"core",moduleName:MODULE_NAME,gvlid:GVLID})&&this.readValue(r,COOKIE)||properStorage.hasLocalStorage({moduleType:"core",moduleName:MODULE_NAME,gvlid:GVLID})&&this.readValue(r,LOCAL_STORAGE);return!(!this.storage.type||t||("object"==typeof window[PUB_COMMON]?(e=window[PUB_COMMON].getId(),properLog.mylog(PUB_COMMON+": pubcid = "+e)):((e=this.readValue(i))||(this.storage.type==COOKIE?e=this.readValue(i,LOCAL_STORAGE):this.storage.type==LOCAL_STORAGE&&(e=this.readValue(i,COOKIE))),e?this.config.extend&&this.writeValue(i,e,this.storage.expiresInDays):this.config.create&&(e=(e=this.storage.type===LOCAL_STORAGE?this.readValue(i,COOKIE):e)||ProperMedia.utils.generateUUID(),this.writeValue(i,e,this.storage.expiresInDays),e=this.readValue(i)),properLog.mylog("pubCommonId: pubcid = "+e)),this.idObj={pubcid:e},0))},e}()),fabrickIdAdapter=(userIdAdapters.pubCommonId=new pubCommonIdAdapter,function(){function e(){this.name="fabrickId",this.eid_name="fabrickId",this.source="neustar.biz",this.atype=1,this.config={enabled:!1,apiKey:null},this.storage={type:"cookie",name:"fabrickId",expiresInDays:7},this.idObj=null,this.callback=null}function d(e,t,i,r){return r&&t.length<2e3&&(200<r.length&&(r=r.substring(0,200)),-1==e.indexOf(r))?(e.push(r),t+"&"+i+"="+r):t}return e.prototype.initialize=function(e){ProperMedia.utils.deepAccess(e,"emailHashes.sha256")?this.config.e=ProperMedia.utils.deepAccess(e,"emailHashes.sha256"):ProperMedia.utils.deepAccess(e,"emailHashes.sha1")?this.config.e=ProperMedia.utils.deepAccess(e,"emailHashes.sha1"):ProperMedia.utils.deepAccess(e,"emailHashes.md5")&&(this.config.e=ProperMedia.utils.deepAccess(e,"emailHashes.md5")),e.ipv4&&(this.config.i4=e.ipv4),e.ipv6&&(this.config.i6=e.ipv6)},e.prototype.decode=function(e){return e.fabrickId||void 0},e.prototype.getValue=function(){return this.idObj||void 0},e.prototype.getId=function(e){try{if(this.config.enabled)if("string"!=typeof this.config.apiKey)properLog.mylog("fabrickId submodule requires an apiKey.");else try{var t,r="https://fid.agkn.com/f?",i=Object.keys(this.config);for(t in i){var s=i[t];if("url"!==s&&"refererInfo"!==s&&"enabled"!==s){var o=this.config[s];if(Array.isArray(o))for(var a in o)r+=s+"="+o[a]+"&";else r+=s+"="+o+"&"}}var r=r.slice(0,-1),n=[];r=d(n,r,"r",properPage.referer),r=d(n,r,"r",properPage.canonical_url),r=d(n,r,"r",properPage.url);return{callback:function(i){$.ajax({url:r,method:"GET",requestType:"cors",success:function(e){var t;if(e)try{t=ProperMedia.utils.safeJsonParse(e)}catch(e){properLog.mylog(e),t={}}i(t)}.bind(this),error:function(e){properLog.mylog("fabrickId fetch encountered an error",e),i()}})}}}catch(e){properLog.mylog("fabrickIdSystem encountered an error",e)}}catch(e){properLog.mylog("fabrickIdSystem encountered an error",e)}},e}()),pubLinkAdapter=(userIdAdapters.fabrickId=new fabrickIdAdapter,function(){function e(){this.name="pubLink",this.eid_name="publinkId",this.email="",this.emailHashes={},this.source="epsilon.com",this.atype=3,this.config={enabled:!1,siteId:null,apiKey:null},this.storage={type:"cookie",name:"_publink",expiresInDays:30,gvlid:24},this.idObj=null,this.callback=null}return e.prototype.initialize=function(e){this.enabled=ProperMedia.utils.deepAccess(properOps,"bidders.header.conversant.enabled")||!1,this.enabled&&(this.config.siteId=ProperMedia.utils.deepAccess(properOps,"bidders.header.conversant.site_id")||0,e.email&&(this.email=e.email),this.email&&ProperMedia.utils.isBase64(this.email)&&(this.email=ProperMedia.utils.b64DecodeUnicode(this.email)),this.emailHashes=ProperMedia.utils.deepAccess(e,"emailHashes")||{})},e.prototype.decode=function(e){return e||void 0},e.prototype.getValue=function(){return this.idObj||void 0},e.prototype.getId=function(){var e=this.getlocalValue();if(e)return{id:e};if(!this.idObj){var i,e=this.emailHashes.md5||this.email||"";if(e&&/^[A-F0-9]+$/i.test(e)&&this.config.siteId&&this.config.apiKey)return(e={deh:e,mpn:"Prebid.js",mpv:properOps.prebid_version}).sid=this.config.siteId,e.apikey=this.config.apiKey,e.gdpr=gdprConsent.gdprApplies?1:0,e.gdpr_consent=gdprConsent.consentString,uspConsent.usPrivacy&&"string"==typeof uspConsent.usPrivacy&&(e.us_privacy=uspConsent.usPrivacy),i="https://proc.ad.cpe.dotomi.com/cvx/client/sync/publink?"+ProperMedia.utils.formatQueryString(e),{callback:function(t){$.ajax({url:i,method:"GET",requestType:"cors",withCredentials:!0,success:function(e){if(e)try{e=(responseObj=ProperMedia.utils.safeJsonParse(e)).publink}catch(e){properLog.mylog(e)}t(e)}.bind(this),error:function(e){properLog.mylog("pubLink fetch encountered an error",e),t()}})}};properLog.mylog("params.e must be a hex string and requires a Site ID and API Key")}},e.prototype.getlocalValue=function(){function e(e){var t;if("string"==typeof(t=(t=properStorage.hasLocalStorage({moduleName:this.name,gvlid:this.storage.gvlid})?properStorage.getDataFromLocalStorage(e,{moduleName:this.name,gvlid:this.storage.gvlid}):t)||properStorage.getCookie(e,{moduleName:this.name,gvlid:this.storage.gvlid}))){if("{"!==(t=decodeURIComponent(t)).charAt(0))return t;try{var i=ProperMedia.utils.safeJsonParse(t);if(i)return i.publink}catch(e){properLog.mylog(e)}}}return e.call(this,this.storage.name+"_srv")||e.call(this,this.storage.name)},e}()),id5IdAdapter=(userIdAdapters.pubLink=new pubLinkAdapter,function(){var o=131,a="id5Id",n=30,t="id5id",d=t+"_no_email",p=t+"_privacy";function e(){this.name=a,this.eid_name="id5id",this.source="id5-sync.com",this.email="",this.atype=1,this.config={enabled:!1,partnerId:445},this.storage={type:"localstorage",name:t,expiresInDays:90,refreshInSeconds:28800,gvlid:o},this.idObj=null,this.callback=null}function i(e){return t+"_"+e+"_nb"}function l(e,t){g(i(e),t,n)}function c(e){var t=((t=u(i(t=e)))?parseInt(t):0)+1;return l(e,t),t}function u(e){var t=properStorage.getDataFromLocalStorage(e+"_exp",{moduleName:a,gvlid:o});return""===t||t&&0<new Date(t).getTime()-Date.now()?properStorage.getDataFromLocalStorage(e,{moduleName:a,gvlid:o}):(properStorage.removeDataFromLocalStorage(e,{moduleName:a,gvlid:o}),null)}function g(e,t,i){properStorage.setDataInLocalStorage(e+"_exp",(i=i,new Date(Date.now()+864e5*i).toUTCString()),{moduleName:a,gvlid:o}),properStorage.setDataInLocalStorage(e,t,{moduleName:a,gvlid:o})}return e.prototype.initialize=function(e){ProperMedia.utils.deepAccess(e,"emailHashes.sha256")?this.email=e.emailHashes.sha256:ProperMedia.utils.deepAccess(e,"emailHashes.md5")&&(this.email=e.emailHashes.md5)},e.prototype.generatePD=function(){return this.email?ProperMedia.utils.b64EncodeUnicode("1="+this.email+(properUser.pubcid?"&5="+properUser.pubcid:"")):""},e.prototype.getValue=function(){return ProperMedia.utils.deepAccess(this,"idObj.uid")},e.prototype.getUidExt=function(){if(ProperMedia.utils.deepAccess(this,"idObj.ext"))return ProperMedia.utils.deepAccess(this,"idObj.ext")},e.prototype.decode=function(e){var t,i=0,i=e&&"string"==typeof e.universal_uid?(t=e.universal_uid,e.link_type||i):void 0;return{uid:t,ext:{linkType:i}}},e.prototype.getId=function(e){var t="https://id5-sync.com/g/v2/"+this.config.partnerId+".json",i=gdprConsent&&"boolean"==typeof gdprConsent.gdprApplies&&gdprConsent.gdprApplies?1:0,r=uspConsent.usPrivacy||"",e=e&&e.signature?e.signature:"",s={gdpr:i,gdpr_consent:i?gdprConsent.consentString:"",partner:this.config.partnerId,nbPage:c(this.config.partnerId),o:"api",pd:this.generatePD(),provider:"",tml:properPage.url,ref:properPage.referrer,cu:properPage.canonical_url,s:e,top:1,u:properPage.url,us_privacy:r,v:properOps.prebid_version};return{callback:function(i){$.ajax({url:t,method:"POST",requestType:"cors",data:JSON.stringify(s),success:function(e){var t;if(e)try{t=ProperMedia.utils.safeJsonParse(e),l(this.config.partnerId,0),this.email?u(d)&&(properStorage.removeDataFromLocalStorage(d,{moduleName:a,gvlid:o}),properStorage.removeDataFromLocalStorage(d+"_exp",{moduleName:a,gvlid:o})):g(d,1,n),t.privacy&&g(p,JSON.stringify(t.privacy),n)}catch(e){properLog.mylog(e)}i(t)}.bind(this),error:function(e){properLog.mylog("UserID - ID5 submodule getId fetch encountered an error: "+JSON.stringify(e)),i()}})}}},e.prototype.extendId=function(e){return this.email&&u(d)?this.getId(e):(c(this.config.partnerId||0),e)},e}());function buildNativeAdCode(e,t){var i=ProperMedia.utils.deepAccess(t,"native.link.url")||"",r=ProperMedia.utils.deepAccess(t,"native.assets")||[],s="",o="",a="",n="",d="",p="";r.length&&r.forEach(function(e){var t;e.title?a=ProperMedia.utils.deepAccess(e,"title.text")||"":e.img?1==(t=ProperMedia.utils.deepAccess(e,"img.type")||"")?s=ProperMedia.utils.deepAccess(e,"img.url")||"":2==t&&(o=ProperMedia.utils.deepAccess(e,"img.url")||""):1==e.type?n=e.value:2==e.type?d=e.value:11==e.type?e.value:12==e.type&&(p=e.value)});r=getNativeCss()+'<div class="proper-ad-unit native"><div class="inner"><div class="c1"><div class="img" style="background-image:url('+s+')"></div></div><div class="c2"><div class="txt"><h1 class="title">'+a+"</h1><p>"+d+'</p></div><div class="cta"><span><img src="'+o+'" style="max-width:14px; max-height: 14px; margin-right:4px;"/>'+n+'</span><div class="btn"><a href="#cta" onclick="fireTrackers(\'click\')">'+p+"</a></div></div></div></div></div>";r+='<script>function fireTrackers(action) {var message = { message: "Proper Native", slotName:  + "'+e.name+'" };if (action === "click") { message.action = "click"; }window.parent.postMessage(JSON.stringify(message), "*");window.open("'+i+"\", '_blank').focus();}<\/script>",t.adcode=r}function getNativeCss(){var e='a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}body,html{height:100%}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:\'\';content:none}table{border-collapse:collapse;border-spacing:0}input{border-radius:0}hr{border:none;height:1px;margin:0}.ds-all *{box-shadow:inset 0 0 0 1px red}iframe{border:none}.btn a{background:#EE2C1D !important;box-shadow:inset 0 -1px 0 0 rgba(0, 0, 0, 0.3) !important}body{background:white;color:black;font-family:"HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;padding:0;margin:0}body *{box-sizing:border-box}body > h1{font-weight:bold;padding-bottom:3px;border-bottom:solid 1px black;margin-bottom:7px}body > h1:not(:first-of-type){margin-top:50px}.proper-ad-unit.native{display:flex;width:100vw;height:100vh;background:white;border-radius:4px;overflow:hidden;box-shadow:inset 0 0 0 1px #cccccc}.proper-ad-unit.native .inner{max-height:100%;flex:1 1 100%;display:flex;flex-wrap:wrap}.proper-ad-unit.native .c1{flex:1 1 300px;box-shadow:inset 0 0 0 1px #cccccc}.proper-ad-unit.native .c2{flex:1 0 50%;min-width:calc(100% - 300px);display:flex;flex-direction:column;justify-content:center}.proper-ad-unit.native .img{width:100%;height:100%;min-height:55px;background-repeat:no-repeat;background-size:contain;background-position:center;transform:scale(0.94, 0.94)}.proper-ad-unit.native .txt{max-height:200px;padding:0 3vw 1vw;line-height:0.94em}.proper-ad-unit.native .title{font-weight:bold;font-size:1.25em;line-height:1.1em;margin-bottom:0.25em;position:relative}.proper-ad-unit.native p{font-size:0.9em}.proper-ad-unit.native .cta{flex:1;display:flex;flex-wrap:wrap}.proper-ad-unit.native span{color:#333;letter-spacing:0.05em;font-size:0.7em;flex:1 1 160px;padding:0 0 4px 3vw;display:flex;align-items:flex-end}.proper-ad-unit.native .btn{flex:1 1 160px;align-self:flex-end;border:solid 4px rgba(0, 0, 0, 0);margin:1px;position:relative;min-height:32px;min-width:158px}.proper-ad-unit.native a{position:absolute;bottom:0;right:0;width:100%;max-width:300px;text-decoration:none;white-space:nowrap;color:white;background:#0437dd;display:flex;justify-content:center;align-items:center;height:28px;border-radius:4px}@media screen and (max-height: 240px){.proper-ad-unit.native .c1{flex:0 1 100vh}.proper-ad-unit.native .txt{padding:3vh}.proper-ad-unit.native .title{margin-bottom:1vh !important}.proper-ad-unit.native span{padding-left:3vh}}@media screen and (max-width: 240px){.proper-ad-unit.native .inner{flex-direction:column}.proper-ad-unit.native .c1{flex:0 1 100vw}.proper-ad-unit.native .cta{flex-direction:column}.proper-ad-unit.native span{flex:0 0 20px}}@media screen and (min-height: 240px) and (min-width: 320px){.proper-ad-unit.native .cta{flex:0}}';return properSpecialOps.extra_native_css&&(e+=properSpecialOps.extra_native_css),'<style type="text/css">'+e+"</style>"}function listenMessagesFromCreative(){window.addEventListener("message",receiveMessage,!1)}function receiveMessage(e){var t=e.message?"message":"data",e=ProperMedia.utils.safeJsonParse(e[t]);e.slotName&&(t=properPage.getSlotFromPageObject(e.slotName,["display"]))&&t.displayed_ad instanceof adObj&&"native"==t.displayed_ad.type&&"Proper Native"===e.message&&fireNativeTrackers(e.auction,t.displayed_ad)}function fireNativeTrackers(e,t){try{var i=[];"click"===e?i=ProperMedia.utils.deepAccess(t,"native.clickTrackers")||ProperMedia.utils.deepAccess(t,"native.link.clickTrackers"):(i=ProperMedia.utils.deepAccess(t,"native.imptrackers"),ProperMedia.utils.deepAccess(t,"native.jstracker")&&(ProperMedia.utils.isArray(t.native.jstracker)?(t.native.jstracker||[]).forEach(Propermedia.utils.insertHtmlIntoIframe):ProperMedia.utils.isStr(t.native.jstracker)&&Propermedia.utils.insertHtmlIntoIframe(t.native.jstracker)),ProperMedia.utils.deepAccess(t,"native.eventtrackers")&&(t.native.eventtrackers||[]).forEach(function(e){var t;1==e.event?i.push(e.url):2==e.event&&((t=document.createElement("script")).src=e.url,t.async=!0,t.type="text/javascript",(e=document.getElementsByTagName("script")[0]).parentNode.insertBefore(t,e))})),(i||[]).forEach(Propermedia.utils.triggerPixel)}catch(e){properLog.mylog("Error firing NativeTrackers: "+JSON.stringify(e))}}function init(){for(propertag.cmd.push=function(e){consentManager.ready(e)},propertag.cmd.unshift=function(e){e.call()},propertag.cmd.length&&propertag.cmd.shift().call();propertag.cmd.length;)consentManager.ready(propertag.cmd.shift())}function set_options(e){e.extra_js&&(e.extra_js="try {\n"+e.extra_js+"\n} catch(e) { console.error(e); }",Function('"use strict"; '+e.extra_js.replace(/\\n|\\r/g," "))()),setBidAdapterSettings(),setThirdPartyAdManagerSettings(e=sortAdSlotsByNumber(e)),setConfigSettings(e),validateConfigSettings(),gdprEnforcement.setEnforcementConfig(properOps),audiencePixels.controller.init(properOps.audience_segments,properOps.audience_pixels),addStyleSheet(),properPage.setPageVariables(),userIdAdapters.pubCommonId.init(),consentManager.ready(function(){properUser.init(),cookieMatching.init(),cookieMatching.cookieMatch(),userIds.init()},"unshift"),properPage.init();e=new Event("proper-has-been-loaded");window.dispatchEvent(e)}function get_options(){return ProperMedia.utils.deepCopy(properOps)}function schainCheck(e){var t=bidderToAdapterName(e);return properOps.schain&&!ProperMedia.utils.deepAccess(properOps,"bidders."+("s2s"==t?"s2s":"header")+"."+e+".account_overrides.enabled")?properOps.schain:""}function setBidAdapterSettings(){if(void 0!==bidAdapters)for(var e in bidAdapters)properOps.bidder_info[e]=bidAdapters[e].bidderInfo}function setConfigSettings(e){ProperMedia.utils.mergeObject(properOps,e)}function validateConfigSettings(){properOps.dfp_id||(properOps.dfp_id=properOps.proper_dfp_id),properOps.google_advertiser||(properOps.google_advertiser=properOps.dfp_advertiser_ids.google),properOps.proper_advertiser||(properOps.proper_advertiser=properOps.dfp_advertiser_ids.proper),properOps.adsense_advertiser||(properOps.adsense_advertiser=properOps.dfp_advertiser_ids.adsense)}function setThirdPartyAdManagerSettings(e){e.remote_gam&&(e.thirdPartyAdManager=!0),properSpecialOps.dfp_id&&(e.dfp_id=properSpecialOps.dfp_id,e.thirdPartyAdManager=!0),properSpecialOps.google_advertiser&&(e.google_advertiser=properSpecialOps.google_advertiser,e.thirdPartyAdManager=!0),properSpecialOps.proper_advertiser&&(e.proper_advertiser=properSpecialOps.proper_advertiser,e.thirdPartyAdManager=!0),properSpecialOps.adsense_advertiser&&(e.adsense_advertiser=properSpecialOps.adsense_advertiser,e.thirdPartyAdManager=!0)}function sortAdSlotsByNumber(t){return Object.keys(t.ad_slots).forEach(function(e){t.ad_slots[e]=ProperMedia.utils.sortProperties(t.ad_slots[e],"number",!0,!1)}),t}function addStyleSheet(){var e=document.createElement("style"),t=(e.type="text/css",":root {--slider_mobile_adjustment_size: 1;}.proper-ad-unit {margin: auto;position: relative;display: block;min-width: 100px;text-align: center;box-sizing: border-box !important;}.proper-ad-unit * {box-sizing: border-box !important;}.proper-ad-unit.in-content-slider-cont {display: block !important;flex-direction: column;margin: auto;background-color: #ededed;overflow: unset !important;}.proper-ad-unit.in-content-slider-cont > .in-content-slider-unit {position: sticky;top: 0px;margin: 0px auto;}.proper-ad-unit > div:first-of-type:not(.sticky-inner):not(.in-content-slider-unit) {position: relative;margin: auto;}.proper-ad-unit > div:first-of-type:not(.sticky-inner).active-highlight:after {content: '';margin: auto;position: absolute;top: 0;right: 0;bottom: 0;left: 0;pointer-events: none;background: none;border: 5px solid rgba(218, 48, 48, 0.85);}.proper-ad-unit > div:first-of-type:not(.sticky-inner) > .noad {background-color: #c2c2c2;}.proper-ad-unit .report-ad {position: relative !important;display: block !important;font-family: sans-serif;left: 0;right: 0;color: #999 !important;font-size: 12px;line-height: 23px;white-space: nowrap;text-decoration: none !important;-webkit-font-smoothing: antialiased;}.proper-ad-unit .report-ad:hover {color: black;text-decoration: underline !important;}.proper-ad-unit .disclosure_box {font-size: 12px;text-transform: uppercase;text-decoration: none;width: 100%;text-align: center;color: #828282;}.proper-ad-unit.ad-sticky {width: 100%;text-align: center;z-index: 10000000;pointer-events: none;position: fixed;}.proper-ad-unit.ad-sticky.close {display: none !important;}.proper-ad-unit.ad-sticky, .proper-ad-unit.ad-sticky .sticky-inner {pointer-events: none;}.proper-ad-unit.ad-sticky .sticky-inner > * {pointer-events: all;}.proper-ad-unit.ad-sticky .close {pointer-events: all;cursor: pointer;}.proper-ad-unit.ad-sticky .close::after {content: '\\00d7';color: black;font-size: 21px !important;font-family: 'Futura', sans-serif !important;line-height: 31px !important;border-radius: 500px;display: block;width: 32px;height: 32px;margin: 9px 0 0 9px;box-shadow: inset 0 0 0 2px #ccc;}.proper-ad-unit.ad-sticky:not(.for-mobile).close:hover:after {box-shadow: inset 0 0 0 2px #333;}.proper-ad-unit.ad-sticky #propervideo-video_container iframe {background-color: transparent !important;}.proper-ad-unit.ad-sticky iframe {background-color: white;pointer-events: all;vertical-align: bottom;position: relative;cursor: pointer;z-index: 2;}.proper-ad-unit.ad-sticky .brand {display: none;cursor: pointer;pointer-events: all;position: absolute;width: 100%;height: 100%;top: 0;left: 0;}.proper-ad-unit.ad-sticky .brand:after {content: '';position: relative;width: 100%;height: 15px;display: block;background: no-repeat center;background-size: 42px 15px;background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAAgCAYAAADtwH1UAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA25pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDExNi4xNjQ2NTUsIDIwMjEvMDEvMjYtMTU6NDE6MjAgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6MjY1YmM5NTctOTliMS00YjRjLWJlYTMtOWZhMThjZWYyYzEwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk1NUQzREZFM0I2RTExRUM4QjhCQUE4QkI1MERBNDIxIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk1NUQzREZEM0I2RTExRUM4QjhCQUE4QkI1MERBNDIxIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4yIChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTk0MzY2NzlCRjBFMTFFQUJBOTU5NzBBQTVBNDdDOEIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTk0MzY2N0FCRjBFMTFFQUJBOTU5NzBBQTVBNDdDOEIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5Y6CFxAAACJ0lEQVR42uxavUpDMRS+kVaqQv0BB7s5WCku4qqTk7jr5Fh8Cl/EoYOzD+DoYHFwl6IPoOJS1EmtxkTOlRDyc5Lbm0p7Pjjk9uacQ5ovOT+ljHOeEUaHKdoCIoAIIBABRACBCCACCETAxKGCVWy1WvnjqZBjpBnr9XqqrcSdkKbD5l7Iev4B7F3dIhNinRf2DNbPsfYImx0hXYuvv3UPlQBA0bYZY98EPZboEMZ8p67DV9C6U4YgnpjsscsBrivMMkJQ6CnjBjBNtpGn2UUel/kjj8kOWzmemOK/tPf4UOP+ryBsLkH33ZArv8oi4MJxM3LpK3rXSNJ8JOhJ3IazSLss3/QA7MJYK3qoQ5T3EToLQvYUQnyoamMRHEWGDBYaNhTMJytDMSVfBGaEfMLow8Cz3q2YBQSefB1zo2jEJAmHSN0bz/yrNrqwaXh3pTwfmGr5kvFgeNdPkYTPDUnXFpJceNFGV6i4tTRExsoj9GRLHwVCkX6rSyOAG8SFNRjblvk6+Khb5tuIDeWeTtmnY/sePhtbdVcLCdPDKENdRDzC2In03YkJK4nCT/JGLAYNZL2P6g+wYUXoLRoS+MQRwAKbrqwAWb5EWPmvBKAXBgkqamO05MaQp9hFzoqQJ+gf8h/ABlCXT1tsGhASq0rIlO8/hGwYbKSfJSHPio2UWeVGrYLPb/AlS+plIW/oU0r/CxrvHEAgAogAAhFABBCIACKAYMCPAAMAOUmeBNC2HO0AAAAASUVORK5CYII=\");}.proper-ad-unit.ad-sticky .sticky-inner > div:last-of-type {display: inline-block;}.proper-ad-unit.sticky-btm {bottom: 0;left: 0;}.proper-ad-unit.sticky-btm:before {content: '';position: absolute;width: 100%;height: 50%;top: 50%;left: 0;background: rgba(255, 255, 255, 0.79);pointer-events: all;box-shadow: 0 0 4px 0 rgba(0, 0, 0, 0.3);}.proper-ad-unit.sticky-btm .sticky-inner {height: inherit;display: inline-block;}.proper-ad-unit.sticky-btm .inner-left, .proper-ad-unit.sticky-btm .inner-right {height: 100%;width: 48px;display: block;}.proper-ad-unit.sticky-btm .inner-left {float: left;}.proper-ad-unit.sticky-btm .inner-right {float: right;position: inherit;}.proper-ad-unit.sticky-btm .brand {position: absolute;width: 48px;height: 16px;left: 0;top: 50%;}.proper-ad-unit.sticky-btm .close {display: none;position: absolute;bottom: 0;right: 0;width: 48px;height: 48px;}.proper-ad-unit[class*='sticky-corner-']:before, .proper-ad-unit.sticky-right:before, .proper-ad-unit.sticky-left:before, .proper-ad-unit.sticky-btm.for-mobile:before {top: -2px;left: 0;height: 200%;background: white;box-shadow: 0 0 0 2px #ccc;}.proper-ad-unit[class*='sticky-corner-'] .inner-left, .proper-ad-unit[class*='sticky-corner-'] .inner-right, .proper-ad-unit.sticky-right .inner-left, .proper-ad-unit.sticky-right .inner-right, .proper-ad-unit.sticky-left .inner-left, .proper-ad-unit.sticky-left .inner-right, .proper-ad-unit.sticky-btm.for-mobile .inner-left, .proper-ad-unit.sticky-btm.for-mobile .inner-right {height: 0;position: initial;}.proper-ad-unit[class*='sticky-corner-'] .brand, .proper-ad-unit[class*='sticky-corner-'] .close, .proper-ad-unit.sticky-right .brand, .proper-ad-unit.sticky-right .close, .proper-ad-unit.sticky-left .brand, .proper-ad-unit.sticky-left .close, .proper-ad-unit.sticky-btm.for-mobile .brand, .proper-ad-unit.sticky-btm.for-mobile .close {bottom: 100%;top: auto;}.proper-ad-unit[class*='sticky-corner-'] .brand, .proper-ad-unit.sticky-right .brand, .proper-ad-unit.sticky-left .brand, .proper-ad-unit.sticky-btm.for-mobile .brand {top: -18px;width: 48px;background-color: white;border-radius: 0 6px 0 0;border: solid 2px #ccc;border-left: none;border-bottom: none;}.proper-ad-unit[class*='sticky-corner-'] .brand:after, .proper-ad-unit.sticky-right .brand:after, .proper-ad-unit.sticky-left .brand:after, .proper-ad-unit.sticky-btm.for-mobile .brand:after {background-position: 1px 0px;}.proper-ad-unit[class*='sticky-corner-'] .close:after, .proper-ad-unit.sticky-right .close:after, .proper-ad-unit.sticky-left .close:after, .proper-ad-unit.sticky-btm.for-mobile .close:after {position: absolute;bottom: 2px;right: 0;box-shadow: none;border-radius: 11px 0 0 0;background: #ffffff;border: solid 2px #ccc;border-right: none;border-bottom: none;}.proper-ad-unit[class*='sticky-corner-'], .proper-ad-unit.sticky-left, .proper-ad-unit.sticky-right {right: 0;width: auto;top: 0;height: 100% !important;display: table;}.proper-ad-unit[class*='sticky-corner-'] .sticky-inner, .proper-ad-unit.sticky-left .sticky-inner, .proper-ad-unit.sticky-right .sticky-inner {display: table-cell;vertical-align: middle;}.proper-ad-unit[class*='sticky-corner-'] .inner-left, .proper-ad-unit[class*='sticky-corner-'] .inner-right, .proper-ad-unit.sticky-left .inner-left, .proper-ad-unit.sticky-left .inner-right, .proper-ad-unit.sticky-right .inner-left, .proper-ad-unit.sticky-right .inner-right {position: relative;}.proper-ad-unit[class*='sticky-corner-'] .brand, .proper-ad-unit.sticky-left .brand, .proper-ad-unit.sticky-right .brand {height: 14px;width: 52px;top: -12px;border-left: solid 2px #ccc;border-radius: 4px 4px 0 0;}.proper-ad-unit[class*='sticky-corner-'] .brand:after, .proper-ad-unit.sticky-left .brand:after, .proper-ad-unit.sticky-right .brand:after {background-position: 2px 0px;}.proper-ad-unit[class*='sticky-corner-'] .close:after, .proper-ad-unit.sticky-left .close:after, .proper-ad-unit.sticky-right .close:after {bottom: -2px;}.proper-ad-unit[class*='sticky-corner-'] .sticky-inner > div:last-of-type, .proper-ad-unit.sticky-left .sticky-inner > div:last-of-type, .proper-ad-unit.sticky-right .sticky-inner > div:last-of-type {border: solid 2px #ccc;border-right: none;padding: 4px;padding-right: 0;background: white;border-radius: 0 0 0 4px;}.proper-ad-unit.sticky-corner-left, .proper-ad-unit.sticky-left {right: auto;left: 0;}.proper-ad-unit.sticky-corner-left .close:after, .proper-ad-unit.sticky-left .close:after {border-radius: 6px 6px 0 0;border-right: solid 2px #ccc;}.proper-ad-unit.sticky-corner-left .sticky-inner > div:last-of-type, .proper-ad-unit.sticky-left .sticky-inner > div:last-of-type {border-left: none;padding: 4px;padding-left: 0;border-right: solid 2px #ccc;border-radius: 0 0 4px 0;}.proper-ad-unit.sticky-left .brand {border-left: none;border-radius: 0 4px 0 0;width: 48px;}.proper-ad-unit.sticky-left .brand:after {background-position: 1px 0px;}.proper-ad-unit[class*='sticky-corner-'] {padding: 15px;}.proper-ad-unit[class*='sticky-corner-'] .sticky-inner {vertical-align: bottom;}.proper-ad-unit[class*='sticky-corner-'] .brand {border-left: solid 2px #ccc;}.proper-ad-unit[class*='sticky-corner-'] .brand:after {background-position: 2px 0px;}.proper-ad-unit[class*='sticky-corner-'] .close:after {border-radius: 6px 6px 0 0;border-right: solid 2px #ccc;}.proper-ad-unit[class*='sticky-corner-'] .sticky-inner > div:last-of-type {padding: 4px;border: solid 2px #ccc;border-radius: 3px;}.slider_unit.slider_position_right > div:first-of-type > :not(div[data-outstream]) {right: 25px;left: unset;}.slider_unit.slider_position_right .close_button {right: 25px;left: unset;}.slider_unit.slider_position_left > div:first-of-type > :not(div[data-outstream]) {left: 25px;right: unset;}.slider_unit.slider_position_left .close_button {left: 314px;right: unset;}.slider_unit.slider_position_top > div:first-of-type > :not(div[data-outstream]) {top: 100px;bottom: unset;}.slider_unit.slider_position_top .close_button {top: 75px;bottom: unset;}.slider_unit.slider_position_bottom > div:first-of-type > :not(div[data-outstream]) {bottom: 100px;top: unset;}.slider_unit.slider_position_bottom .close_button {bottom: 350px;top: unset;}.slider_unit > div:first-of-type > :not(div[data-outstream]) {min-width: 300px;min-height: 250px;position: fixed;z-index: 10000;}@media only screen and (max-width: 480px) {.slider_unit > div:first-of-type > div > div[id='propervideo-super_outer_container'] > div[id='propervideo-main_container'] > div[class='propervideo-bottom_player'] {zoom: var(--slider_mobile_adjustment_size);}}.slider_unit #close_button {display: none;}.slider_unit .close_button {position: fixed;z-index: 10000;color: #afafaf;font-size: 22px;display: block !important;}.slider_unit .close_button:hover {cursor: pointer;}.proper-flex-wrapper {text-align: center;width: 100%;}.proper-flex-wrapper .proper-flex {text-align: center;display: inline-block;}.proper-flex-wrapper .proper-flex:first-of-type {margin-bottom: 20px;}.proper-flex-wrapper .proper-flex:empty {display: none;}");properOps.extra_css&&(t+=properOps.extra_css),"proper-ad-unit"!==properOps.slot_wrapper_class&&(t=t.replace(/proper-ad-unit/gi,properOps.slot_wrapper_class)),e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(e)}function checkProperDebugConsole(){void 0!==properPage.get_vars.proper_debug_console||window.location.hash.includes("proper_debug_console")?debugObj.createDebugConsole():void 0===properPage.get_vars.proper_debug_console&&!window.location.hash.includes("proper_overlay")||debugObj.createDebugOverlays()}function checkKillAllAds(){return(properSpecialOps.kill_all_ads||properPage.dont_send_bids)&&(properLog.mylog("Kill All Ads enabled! Good bye!"),1)}function bidderToAdapterName(e){var t=e;return t=ProperMedia.utils.deepAccess(properOps,"bidder_info."+e+".adapter_name")?ProperMedia.utils.deepAccess(properOps,"bidder_info."+e+".adapter_name"):t}function getBidderFloor(e,t,i){try{if(properOps.testing_mode.enabled)return.01;var r=i?"s2s":"header",s=properDevice.isMobile()?"mobile":"desktop",o=ProperMedia.utils.deepCopy(ProperMedia.utils.deepAccess(properOps,"bidders."+r+"."+e+".floors."+s)||{}),a=ProperMedia.utils.deepCopy(properOps.floors[s]||{}),n=o.backup||a.backup||0,d=[];if(ProperMedia.utils.isStr(t)?d=t.split(","):ProperMedia.utils.isArray(t)&&(d=t),0<d.length){for(var p=new Array,l=0;l<d.length;l++){var c,u,g=(properSpecialOps.dynamicFloors||ProperMedia.utils.deepAccess(properOps,"dynamic_floors."+s+".enabled"))&&ProperMedia.utils.deepAccess(properSession,"sessionData.bid_avg."+d[l])||0;o.sizes&&o.sizes[d[l]]?(c=Math.max(o.sizes[d[l]],g),p.push(c)):a.sizes&&a.sizes[d[l]]?(u=Math.max(a.sizes[d[l]],g),p.push(u)):g&&p.push(g)}0<p.length&&(n=Math.min.apply(null,p))}ProperMedia.utils.deepAccess(properOps,"bidder_info."+e+".rev_share")&&(n=parseFloat((n/ProperMedia.utils.deepAccess(properOps,"bidder_info."+e+".rev_share")).toFixed(2)))}catch(e){console.error(e),n=o.backup||a.backup||0,sendError(TraceKit.computeStackTrace(e))}return ProperMedia.utils.round(n,2)}function roundPriceToDfpBucket(e){return e=properOps.thirdPartyAdManager?"reference"==properOps.site_name||"simpli"==properOps.site_name||"bloglines"==properOps.site_name||"informationvine"==properOps.site_name||"faqtoids"==properOps.site_name||"smarter"==properOps.site_name||"directhit"==properOps.site_name||"theanswerhub"==properOps.site_name||"top10answers"==properOps.site_name||"answerroot"==properOps.site_name||"allquestionsanswered"==properOps.site_name?40<e?40:(Math.ceil(20*e)/20).toFixed(2):800<e?800:(100<e?5*Math.ceil(e/5):20<e?Math.ceil(20*e)/20:e).toFixed(2):800<e?800:(100<e?Math.ceil(e):Math.ceil(20*e)/20).toFixed(2)}function round_floor(e){e=parseFloat(e);var t=properDevice.isMobile()?"mobile":"desktop",t=ProperMedia.utils.deepCopy(properOps.floors[t]||{});return e=e&&""!=e?e<=.1?.1:e<=.25?.25:e<=.4?.4:e<=2?(Math.ceil(4*e)/4).toFixed(2):e<=5?(Math.ceil(2*e)/2).toFixed(2):5:t.backup,ProperMedia.utils.round(e,2)}function setDfpPageTargeting(i){void 0!==properPage.post_id&&null!=properPage.post_id&&""!=properPage.post_id||(properPage.post_id="unknown"),i.setTargeting("post_id",properPage.post_id.toString()),void 0!==properOps.member&&null!=properOps.member&&""!=properOps.member||(properOps.member="no"),i.setTargeting("member",properOps.member.toString()),i.setTargeting("category",ProperMedia.utils.deepAccess(properPage,"page_meta.category").toString()),i.setTargeting("split_version",properOps.rtp_file_version.toString()),i.setTargeting("proper_site",properOps.site_name.toString()),i.setTargeting("proper_page",ProperMedia.utils.deepAccess(properPage,"spa_settings.page_number").toString()),i.setTargeting("s_depth",ProperMedia.utils.deepAccess(properSession,"sessionData.depth").toString()),properUser.checkAdBlockDetected()?i.setTargeting("adblock","true"):0<i.getTargeting("adblock").length&&i.clearTargeting("adblock"),Object.keys(properPage.dfp_targeting).length&&Object.keys(properPage.dfp_targeting).forEach(function(e){properPage.dfp_targeting[e]&&(i.clearTargeting(e),delete properPage.dfp_targeting[e])}),ProperMedia.utils.deepAccess(properPage,"page_meta.tags")&&properPage.page_meta.tags.length&&(i.setTargeting("tags",[properPage.page_meta.tags.toString()]),properPage.dfp_targeting.tags=1),ProperMedia.utils.deepAccess(properPage,"page_meta.dfp_kv")&&Object.keys(properPage.page_meta.dfp_kv).length&&Object.keys(properPage.page_meta.dfp_kv).forEach(function(e){var t=ProperMedia.utils.deepAccess(properPage,"page_meta.dfp_kv."+e);void 0!==t&&(t=ProperMedia.utils.isArray(t)?t.map(function(e){return e.toString()}):t.toString(),i.setTargeting(e,t),properPage.dfp_targeting[e]=1)}),ProperMedia.utils.deepAccess(properPage,"page_meta.custom.set_as_kv_to_gam")&&Object.keys(properPage.page_meta.custom).length&&Object.keys(properPage.page_meta.custom).forEach(function(e){var t;e.match(/^dimension_([1-9]|10)$/)&&""!=(t=ProperMedia.utils.deepAccess(properPage,"page_meta.custom."+e))&&(i.setTargeting(e,t.toString()),properPage.dfp_targeting[e]=1)})}function proper_display(e){let t=e||"";if(checkKillAllAds())return properLog.mylog("Kill All Ads enabled! Goodbye!"),!1;if(void 0===t){try{var i=document.scripts[document.scripts.length-1];if(t=i.parentNode.id,void 0===i.parentNode||void 0===t)return;t=ProperMedia.utils.extractSlotName(t)}catch(e){console.error(e),sendError(TraceKit.computeStackTrace(e))}if(void 0===t||!t)return!1}e=ProperMedia.utils.extractSlotName(t);if(!e)return properLog.mylog("Couldn't find slot from id: "+t),!1;properPage.buildSlot("display",e)}function showWinningAd(e){if(e.getElement()){var t=1;if(e.hasWinningBid())t=0;else if(1==properOps.testing_mode.enabled){if(void 0===e.default_size||"0x0"==e.default_size)return;var t=0,i=new adObj({bidder:"unfilled",size:e.default_size.join("x"),adcode:'<div style="text-align:center;width:'+e.default_size[0]+"px;height:"+e.default_size[1]+'px;background:#ccc;color:#000;padding-top:10px;">-- no ad found --</div>'});e.winning_ad=i}return 0==t?proper_render(e.getElement(),e.number,1):log_unfilled(e),1}}function proper_render_isolated(e,t,i,r){e.innerHTML="";var s=document.createElement("iframe"),e=(s.id=t.properIframeId,s.frameBorder=0,s.scrolling="no",s.marginWidth="0",s.marginHeight="0",s.width=r[0],s.height=r[1],s.style.overflow="hidden",s.style.border="0px",s.style.verticalAlign="bottom",s.onload=function(){console.log("Proper isolated slotOnload: "+t.name),1==properOps.testing_mode.enabled&&"unfilled"==properOps.testing_mode.bidder&&"unfilled"==i.bidder?t.dispatchCustomEvent("proper-unfilled"):t.dispatchCustomEvent("proper-ads-fired",{cpm:ProperMedia.utils.deepAccess(t,"displayed_ad.price"),size:ProperMedia.utils.deepAccess(t,"displayed_ad.size"),ad_type:t.ad_type})},properOps.sandbox_iframe&&(s.sandbox=properOps.sandbox_options.join(" ")||""),s.src="javascript:\"<!DOCTYPE html><html><body style='background:transparent'></body></html>\"",e.appendChild(s),"<!DOCTYPE html><html><body>"+i.adcode+"</body></html>");ProperMedia.utils.deepAccess(properOps,"adlightning.enabled")||ProperMedia.utils.deepAccess(properSpecialOps,"adlightning.enabled")?adLightningWrapper.wrapTag(t,s.contentWindow,ProperMedia.utils.mergeObject({},i,{adcode:e})):ProperMedia.utils.deepAccess(properOps,"geoedge.enabled")||ProperMedia.utils.deepAccess(properSpecialOps,"geoedge.enabled")?geoEdgeWrapper.wrapTag(t,s.contentWindow.document,ProperMedia.utils.mergeObject({},i,{adcode:e})):ProperMedia.utils.deepAccess(properOps,"confiant.enabled")||ProperMedia.utils.deepAccess(properSpecialOps,"confiant.enabled")?confiantWrapper.wrapTag(t,s.contentWindow.document,ProperMedia.utils.mergeObject({},i,{adcode:e})):(s.contentWindow.document.open(),s.contentWindow.document.write(e),s.contentWindow.document.close()),"auto"==r[1]&&ProperMedia.utils.onElementHeightChange(s,function(e){0<e&&(s.style.height=e+"px")})}function proper_render_bidder_order(e,t,i,r){var s,o,a,n=window.top.document.getElementById(t.properIframeId);n&&(n.style.width=formatCssSize(r[0]),n.style.height=formatCssSize(r[1])),e.defaultView&&e.defaultView.frameElement&&(s=r[0],o=r[1],e.defaultView.frameElement.width=s,e.defaultView.frameElement.height=o),ProperMedia.utils.deepAccess(properOps,"geoedge.enabled")||ProperMedia.utils.deepAccess(properSpecialOps,"geoedge.enabled")?geoEdgeWrapper.wrapTag(t,e,i):ProperMedia.utils.deepAccess(properOps,"confiant.enabled")||ProperMedia.utils.deepAccess(properSpecialOps,"confiant.enabled")?confiantWrapper.wrapTag(t,e,i):e.write(i.adcode),"auto"==r[1]&&(n?(a=n.contentWindow.document.getElementById(t.dfpIframeId))?ProperMedia.utils.onElementHeightChange(a,function(e){0<e&&(a.style.height=e+"px",n.style.height=e+"px")}):ProperMedia.utils.onElementHeightChange(n,function(e){0<e&&(n.style.height=e+"px")}):(n=window.top.document.getElementById(t.dfpIframeId))&&ProperMedia.utils.onElementHeightChange(n,function(e){0<e&&(n.style.height=e+"px")}))}function proper_render(e,t,i,r){var s=properPage.getSlotByNumber(t,["display"]);if(!s)return properLog.mylog("Couldn't find slot with number: "+t),!1;s.hasFlexSlot()&&s.removeFlexSlot();var o,a,n,t=[0,0];2==(i=i||0)?((s.hasWinningAmazonBid()||s.getWinningAmazonBid())&&(o=s.winning_amazon_ad),a=(s.winning_ad?.price??0)+(s.flex_ad?.price??0)):s.getWinningBid()&&(o=s.winning_ad,a=s.getRunnerUp()),o&&o instanceof adObj||properOps.testing_mode.enabled&&o instanceof adObj?(s.clearNonWinningBid(o),s.flex_enabled&&s.flex_map?.[o.size]&&1<s.flex_map[o.size]&&s.addFlexSlot(o.size),s.videoAdCheck()?(s.removeCreative(),s.dispalyVideoAd()):(o.displayed=1,t=o.size.split("x"),"1x1"!=o.size&&!properOps.native_sizes[o.size]||(t=["100%","auto"]),n=bidderToAdapterName(o.bidder),ProperMedia.utils.deepAccess(bidAdapters,n+".bidderInfo.div_insertion")&&(o.adcode=o.adcode.replace(/{PROPER_SLOT_DIV_ID}/g,s.div_id)),"native"==o.type&&buildNativeAdCode(s,o),s.removeCreative(),1==i?proper_render_isolated(e,s,o,t):0!=i&&2!=i||proper_render_bidder_order(e,s,o,t),o.onBidWon(s),properLog.mylog("displayed! ("+s.name+", bidder="+o.bidder+", size="+o.size+", price="+o.price+")"),n=ProperMedia.utils.getTimePassed(s.auction_started_ts),i=_0x59ab84(o.price),e=_0x59ab84(o.gross),t=_0x59ab84(a),properSession.setSessionRevenue(o.price),properLog.saved_data[s.name]={bidder:o.bidder,cpm:i,size:o.size,slot:s.dfp_name,request_url:o.request_url,request_response:o.response,adcode:o.adcode,ad_details:o.ad_details},ProperMedia.utils.deepSetValue(properLog,"bid_data.ad_slots."+s.name,{slot_name:ProperMedia.utils.validateValue(s.is_flex_slot?s.parent_name+"_flex":s.dfp_name,{type:"string",max_len:50}),bidder:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(o,"bidder"),{type:"string",max_len:30}),runner_up:t,gross:e,price:i,size:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(o,"size"),{type:"string",max_len:10}),refresh_cnt:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(s,"refresh.count"),{type:"number",max:999}),line_item_id:"",response_ms:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(o,"response_ms"),{type:"number",max:999999}),auction_duration:ProperMedia.utils.validateValue(n,{type:"number",max:999999}),precent_bids_ready:ProperMedia.utils.validateValue(100,{type:"number",max:100}),tag_id:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(o,"tag_id"),{type:"string",max_len:50}),adid:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(o,"adid"),{type:"string",max_len:50}),adomain:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(o,"adomain.0"),{type:"string",max_len:50}),cid:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(o,"cid"),{type:"string",max_len:50}),crid:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(o,"crid"),{type:"string",max_len:50}),dealid:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(o,"dealid"),{type:"string",max_len:50}),floor:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(o,"floor"),{type:"number",max:999,max_len:15}),publisher_demand:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(o,"pub_demand"),{type:"boolean"})}),s.displayed_ad=new adObj(ProperMedia.utils.deepCopy(o)),properAdPool.displayed_ads.push(ProperMedia.utils.deepCopy(s.displayed_ad)),proper_inview(0,s.name,o.size,0,0,0),clearTimeout(properLog.tracker_timeout),properLog.tracker_timeout=null,properLog.tracker_timeout=properSetTimeout.setTimeout.call(properPage,function(){properLog.proper_tracker()},properLog.tracker_wait))):log_unfilled(s)}function proper_render_dfp_interstitial(e){ProperMedia.utils.deepAccess(properLog,"interstitial_bid_data."+e.name)&&(ProperMedia.utils.deepSetValue(properLog,"bid_data.ad_slots."+e.name,ProperMedia.utils.deepAccess(properLog,"interstitial_bid_data."+e.name)),clearTimeout(properLog.tracker_timeout),properLog.tracker_timeout=null,properLog.tracker_timeout=properSetTimeout.setTimeout.call(properPage,function(){properLog.proper_tracker()},properLog.tracker_wait))}function proper_render_dfp(e,t){var i,r,s,o,a,n,d,p,e=properPage.getSlotFromPageObject(e,["display","interstitial"]);e&&(e.hasFlexSlot()&&e.removeFlexSlot(),!e.interstitial&&(e.removeCreative(),i=window.top.document.getElementById(e.properIframeId))&&(i.style.width=formatCssSize(t.size[0]),i.style.height=formatCssSize(t.size[1])),i=t.size[0]+"x"+t.size[1],e.flex_enabled&&e.flex_map?.[i]&&1<e.flex_map[i]&&(properLog.mylog("Adding flex slot for "+e.name+" - dfp ad: ("+i+")"),e.addFlexSlot(i)),r=t.advertiserId,s="dfp",t.advertiserId==properOps.amazon_advertiser?s="a9":t.advertiserId==properOps.adsense_advertiser?s="adsense":t.advertiserId!=properOps.google_advertiser&&1!=t.advertiserId&&0!=t.advertiserId&&null!=t.advertiserId&&null==t.yieldGroupIds||(s="adx"),e.advertiserId=t.advertiserId,a=0,"adx"!=s&&"adsense"!=s||(o=e.interstitial?"interstitial":i,o=e.getFloor(o),a=e.dfp_bid_price&&parseFloat(e.dfp_bid_price)>o?parseFloat(e.dfp_bid_price)+.01:parseFloat(o)+.01),n=Math.max(a-.01,0),properLog.mylog("displayed! DFP ("+e.name+", bidder="+s+", size="+i+", price: "+a+")"),d=ProperMedia.utils.getTimePassed(e.auction_started_ts),properSession.setSessionRevenue(a),p=(e.winning_ad?.price??0)+(e.flex_ad?.price??0),p={slot_name:ProperMedia.utils.validateValue(e.is_flex_slot?e.parent_name+"_flex":e.dfp_name,{type:"string",max_len:50}),bidder:ProperMedia.utils.validateValue(s,{type:"string",max_len:30}),price:ProperMedia.utils.validateValue(a,{type:"number",max:1e3}),runner_up:ProperMedia.utils.validateValue(p,{type:"number",max:1e3}),gross:ProperMedia.utils.validateValue(a,{type:"number",max:1e3}),size:ProperMedia.utils.validateValue(i,{type:"string",max_len:10}),refresh_cnt:ProperMedia.utils.validateValue(e.refresh.count,{type:"number",max:999}),line_item_id:ProperMedia.utils.validateValue(t.lineItemId,{type:"string",max_len:15}),response_ms:ProperMedia.utils.validateValue(d,{type:"number",max:999999}),auction_duration:ProperMedia.utils.validateValue(d,{type:"number",max:999999}),precent_bids_ready:ProperMedia.utils.validateValue(100,{type:"number",max:100}),tag_id:ProperMedia.utils.validateValue(r,{type:"string",max_len:50}),adid:ProperMedia.utils.validateValue(t.advertiserId,{type:"string",max_len:50}),adomain:ProperMedia.utils.validateValue("",{type:"string",max_len:50}),cid:ProperMedia.utils.validateValue(t.campaignId,{type:"string",max_len:50}),crid:ProperMedia.utils.validateValue(t.creativeId,{type:"string",max_len:50}),dealid:ProperMedia.utils.validateValue("",{type:"string",max_len:50}),floor:ProperMedia.utils.validateValue(n,{type:"number",max:1e3}),publisher_demand:ProperMedia.utils.validateValue(!!properOps.remote_gam,{type:"boolean"})},e.interstitial?properLog.interstitial_bid_data[e.name]=p:ProperMedia.utils.deepSetValue(properLog,"bid_data.ad_slots."+e.name,p),e.displayed_ad=new adObj({type:"display",price:a,gross:a,dfp_price:a,bidder:s,size:i,adCode:"",tag_id:r,response_ms:d,displayed:1,adid:t.advertiserId,cid:t.campaignId,crid:t.creativeId,floor:o}),properAdPool.displayed_ads.push(ProperMedia.utils.deepCopy(e.displayed_ad)),properLog.saved_data[e.name]={bidder:s,cpm:a,size:i,slot:e.dfp_name,request_url:"",request_response:"",adcode:"",ad_details:{}},clearTimeout(properLog.tracker_timeout),properLog.tracker_timeout=null,properLog.tracker_timeout=properSetTimeout.setTimeout.call(properPage,function(){properLog.proper_tracker()},properLog.tracker_wait))}function proper_inview(e,t,i,r,s,o,a){setTimeout(userSyncs.start,3e3);var n=".ad-sticky[class*='"+t+"']",t=properPage.getSlotFromPageObject(t,["display"]);t&&(e||(t.size=i,properLog.ad_info[t.name]={creative_id:s,line_item_id:o,size:i}),i=properOps.native_sizes[i]||i,t.sticky?e?properSpecialOps.sliderHeader?t.deleteSlot(!0):0==t.refresh.count&&$(n).hide():(t.displayed=1,ProperMedia.utils.deepAccess(t,"sticky_settings.freq_cap_enabled")&&0==t.refresh.count&&properUser.stickyFreqCapHandler.incrementStickyUnitImps(),void 0===t.displayed_ad.bidder||0==t.displayed_ad.displayed||1==t.displayed_ad.displayed&&void 0===properOps.native_sizes[t.displayed_ad.size]?($(n).removeClass("sticky-right"),$(n).removeClass("sticky-left"),$(n).removeClass("sticky-btm"),$(n).removeClass("slider"),$(n).removeClass("slider-with-video"),$(n).removeClass("slider-with-static"),s=i.split("x"),o=parseInt(s[0]),s=parseInt(s[1]),300==o&&250==s||336==o&&280==s?$(n).addClass("sticky-corner-"+t.sticky_settings.position):o<s?$(n).addClass("sticky-"+t.sticky_settings.position):$(n).addClass("sticky-btm"),properSpecialOps.sliderHeader&&($(n).addClass("slider"),"video"==t.displayed_ad.type&&1==t.displayed_ad.displayed?($(n).addClass("slider-with-video"),$(n).attr("data-ad-height","110px")):$(n).addClass("slider-with-static")),"1x1"!==i?($(n+" .sticky-inner .inner-left").show(),$(n+" .sticky-inner .inner-right").show(),$(n).attr("style","height: "+s+"px")):$(n).hide(),$(n+" .sticky-inner").attr("style",""),(!window.innerWidth||window.innerWidth<=720||window.innerWidth<=o-96)&&$(n).addClass("for-mobile")):"gumgum"==t.displayed_ad.bidder||"gumgum_s2s"==t.displayed_ad.bidder?($(n+" .sticky-inner .inner-left,.inner-right").hide(),$(n).addClass("sticky-btm"),$(n).obj.style.background="none"):$(n).hide()):e||(t.slider&&t.slider_settings.close_button&&$(".slider_unit #close_button").addClass("close_button"),1<t.min_width&&1<t.min_height&&($("#"+CSS.escape(t.div_id)).obj.style.width="",$("#"+CSS.escape(t.div_id)).obj.style.height="",$("#"+CSS.escape(t.div_id)).obj.style.minWidth=t.min_width+"px",$("#"+CSS.escape(t.div_id)).obj.style.minHeight=t.min_height+"px"),ProperMedia.utils.deepAccess(t,"advertisement_disclosure.enabled")&&!$("#"+CSS.escape(t.div_id)).obj.parentNode.querySelector(".disclosure_box")&&((i=document.createElement("p")).setAttribute("class","disclosure_box"),i.innerHTML="Advertisement","above"==ProperMedia.utils.deepAccess(t,"advertisement_disclosure.location")?$("#"+CSS.escape(t.div_id)).obj.closest(".proper-ad-unit").insertBefore(i,$("#"+CSS.escape(t.div_id)).obj):$("#"+CSS.escape(t.div_id)).obj.closest(".proper-ad-unit").append(i)),t.displayed=1),1!=t.displayed||e||(t.last_displayed_ts=ProperMedia.utils.getTimestampMs(),t.tracking_times.creative_on_page=ProperMedia.utils.getTimestampMs(),1==ProperMedia.utils.deepAccess(t,"displayed_ad.displayed")&&(1==ProperMedia.utils.deepAccess(properOps,"bidder_info."+t.displayed_ad.bidder+".dont_refresh")||""!=ProperMedia.utils.deepAccess(properPage,"takeover.bidder")&&ProperMedia.utils.deepAccess(t,"displayed_ad.bidder")==ProperMedia.utils.deepAccess(properPage,"takeover.bidder")||checkDisableDirectAdRefresh(t.displayed_ad))&&t.disableSlotRefresh(),t.refresh.count),1==t.refresh.enabled&&t.refresh.count<t.refresh.max&&t.setRefreshInterval(),1==debugObj.enabled&&debugObj.addSlotOverlay(t),t.clearWinningBid(),t.clearWinningAmazonBid())}function checkDisableDirectAdRefresh(e){return e.adid&&"dfp"==e.bidder&&(properSpecialOps.disableRefreshByAdvertiserId&&-1!==properSpecialOps.disableRefreshByAdvertiserId.indexOf(e.adid)||properOps.disableRefreshByAdvertiserId&&-1!==properOps.disableRefreshByAdvertiserId.indexOf(e.adid))}function log_unfilled(e){var t,i;proper_inview(1,e.name,"0x0",0,0,0),"display"==e.type&&0<e.refresh.count||(t=ProperMedia.utils.getTimePassed(e.auction_started_ts),i=e.getFloor(),ProperMedia.utils.deepSetValue(properLog,"bid_data.ad_slots."+e.name,{slot_name:ProperMedia.utils.validateValue(e.is_flex_slot?e.parent_name+"_flex":e.dfp_name,{type:"string",max_len:50}),bidder:"unfilled",price:0,gross:0,size:ProperMedia.utils.validateValue(e.default_size,{type:"string",max_len:10}),refresh_cnt:ProperMedia.utils.validateValue(e.refresh.count,{type:"number",max:999}),line_item_id:"",response_ms:ProperMedia.utils.validateValue(t,{type:"number",max:999999}),auction_duration:ProperMedia.utils.validateValue(t,{type:"number",max:999999}),precent_bids_ready:ProperMedia.utils.validateValue(100,{type:"number",max:100}),tag_id:"",adid:"",adomain:"",cid:"",crid:"",dealid:"",floor:ProperMedia.utils.validateValue(i,{type:"number",max:1e3}),publisher_demand:ProperMedia.utils.validateValue(!1,{type:"boolean"})}),e.displayed_ad=new adObj({price:0,gross:0,dfp_price:0,bidder:"unfilled",size:e.default_size.join("x"),adCode:"",tag_id:"",response_ms:t,floor:i}),properAdPool.displayed_ads.push(ProperMedia.utils.deepCopy(e.displayed_ad)),e.dispatchCustomEvent("proper-unfilled"),clearTimeout(properLog.tracker_timeout),properLog.tracker_timeout=null,properLog.tracker_timeout=properSetTimeout.setTimeout.call(properPage,function(){properLog.proper_tracker()},properLog.tracker_wait))}function proper_debug_console(){debugObj.createDebugConsole()}function proper_debug_overlay(){debugObj.createDebugOverlays()}function formatCssSize(e){return"string"!=typeof e||-1===e.indexOf("%")&&"auto"!=e?e+"px":e}function getReportAdInfo(e){var t,i={};return void 0!==e.site_name&&1==e.site_name&&(i.site_name=properOps.site_name),void 0!==e.split_version&&1==e.rtp_file_version&&(i.split_version=properOps.rtp_file_version),void 0!==e.slot_id&&(t=ProperMedia.utils.extractSlotName(e.slot_id),properLog.autoplay_html[e.slot_id]&&(i.autoplay_html=properLog.autoplay_html[e.slot_id]),void 0!==properLog.log_lines&&(i.log_lines=properLog.log_lines),void 0!==properLog.saved_data[t]&&(i.saved_data=properLog.saved_data[t]),void 0!==properLog.ad_info[t])&&(i.ad_info=properLog.ad_info[t]),i}function logMatchingResponse(e,t,i){cookieMatching.logMatchingResponse(e,t,i)}function getAdSlots(){return Object.keys(properPage.slots.display).concat(properPage.slots.video)}function refreshSlotByName(e){e=properPage.getSlotFromPageObject(e,["display"]);return!!e&&(e.removeRefreshTimeout(),e.refreshSlot(!0),!0)}function disableSlotRefresh(e){e=properPage.getSlotFromPageObject(e,["display"]);return!!e&&(e.disableSlotRefresh(),!0)}function spaNewPage(){propertag.cmd.push(function(){properPage.SpaNextPage()})}function spaNewSection(e){propertag.cmd.push(function(){properLog.mylog("========== New SPA Section =========="),properPage.init_slots_build=0,properPage.rebuildSlots(e),properAdPool.startNewAuction()})}function spaNewPageReset(){propertag.cmd.push(function(){properLog.mylog("========== New SPA Page With Dyanmic Reset =========="),properPage.deleteDynamicSlots(),properPage.resetDynamicSlotInstanceCount(),properPage.SpaNextPage()})}function newPageView(){propertag.cmd.push(function(){properLog.mylog("========== New Pageview =========="),properPage.newPageView()})}function infScrollNewPage(){propertag.cmd.push(function(){properPage.InfScrollNextPage()})}function buildSlots(){propertag.cmd.push(function(){properLog.mylog("Build slots called"),properPage.buildSlots()})}function deleteSlot(e){e=properPage.getSlotFromPageObject(e,["display"]);return!!e&&(e.deleteSlot(!0),!0)}function destroyDfpSlot(e){e=properPage.getSlotFromPageObject(e,["display"]);return!!e&&(e.destroyDfpSlot(),!0)}function closeSliderSlot(e){e=properPage.getSlotFromPageObject(e,["display"]);return!!e&&(e.closeSliderSlot(),!0)}function getVideoPlayerOps(e){e=properPage.getSlotFromPageObject(e);return e&&e.video_player instanceof videoPlayer&&e.video_player.player_settings||{}}function createVideoSlot(t){try{return properLog.mylog("Create video slot for: "+t),properPage.video_enabled=!0,propertag.cmd.push(function(){var e=properPage.getSlotFromPageObject(t,["video"])?properPage.getSlotFromPageObject(t,["video"]):properPage.buildSlot("video",t);0==properAdPool.vid_auction_count&&properAdPool.startNewVideoAuction(e.video_player.player_settings.video_type)}),!0}catch(e){return!1}}function runVideoAuction(t){propertag.cmd.push(function(){var e=properPage.getSlotFromPageObject(t);return!!(e&&e.video_player instanceof videoPlayer)&&(properAdPool.startNewVideoAuction(e.video_player.player_settings.video_type),!0)})}function runNewAuction(){propertag.cmd.push(function(){return properAdPool.auction_refresh=!0,properAdPool.startNewAuction(!0),!0})}function disableAuctionRefresh(){propertag.cmd.push(function(){return properLog.mylog("AdPool: Disable Auction Refresh"),properAdPool.auction_refresh=!1,properAdPool.clearNextAuctionTimeout(),!0})}function getVideoAd(e){e=properPage.getSlotFromPageObject(e);if(e&&e.video_player instanceof videoPlayer){var t,i=e.video_player.player_settings.video_type,r=properAdPool.getTimeLeftOnRunningAuctions(),s=!!(0<properAdPool.auction_count&&0==r.length),r=!s&&0<r.length?Math.min(r):0;if(e.getWinningBid(["video"],i),e.getWinningAmazonBid(["video"],i),e.hasWinningBid()||e.hasWinningAmazonBid())return t=_0x432f92(e),e.clearNonWinningBid(t),t=ProperMedia.utils.deepCopy(t),e.tracking_times.dfp_sent_ts=ProperMedia.utils.getTimestampMs(),{auction:{finished:s,time_remaining:r},ad:t};if("video"==e.type)return e.tracking_times.dfp_sent_ts=ProperMedia.utils.getTimestampMs(),{auction:{finished:s,time_remaining:r},ad:{price:e.getFloor("dfp_floor"),bidder:"dfp_floor",vast_tag:"",vast_type:"",vpaid:"",video_type:i,ad_details:""}};1!==e.displayed&&"display"==e.type&&s&&(t=ProperMedia.utils.deepAccess(properOps,"ad_slots."+e.type+"."+e.name)||{},e.video_player.removePlayer(),e.setRefresh(t),e.getWinningBid(["display","native"]),e.getWinningAmazonBid(["display","native"]),showWinningAd(e))}return!1}function destroyVideoPlayer(e){e=properPage.getSlotFromPageObject(e);e&&e.video_player instanceof videoPlayer&&e.video_player.destroyVideoPlayer()}function logOutstreamAdSuccess(e,t){var i,r,s,o,e=properPage.getSlotFromPageObject(e);return e&&e.video_player instanceof videoPlayer&&ProperMedia.utils.isPlainObject(t)&&t.id&&t.bidder&&t.price&&(e.hasWinningAmazonBid()?e.winning_amazon_ad.id==t.id?t=e.winning_amazon_ad:e.clearWinningAmazonBid():e.hasWinningBid()&&(e.winning_ad.id==t.id?t=e.winning_ad:e.clearWinningBid()),i=_0x59ab84(t.price),o=_0x59ab84(t.gross),r=_0x59ab84(e.getRunnerUp()),s=ProperMedia.utils.getTimePassed(e.auction_started_ts),o={slot_name:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(e,"dfp_name"),{type:"string",max_len:50}),bidder:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(t,"bidder"),{type:"string",max_len:30}),gross:o,price:i,runner_up:r,size:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(t,"size"),{type:"string",max_len:10}),refresh_cnt:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(e,"refresh.count"),{type:"number",max:999}),line_item_id:"",response_ms:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(t,"response_ms"),{type:"number",max:999999}),auction_duration:ProperMedia.utils.validateValue(s,{type:"number",max:999999}),precent_bids_ready:ProperMedia.utils.validateValue(100,{type:"number",max:100}),tag_id:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(t,"tag_id"),{type:"string",max_len:50}),adid:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(t,"adid"),{type:"string",max_len:50}),adomain:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(t,"adomain.0"),{type:"string",max_len:50}),cid:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(t,"cid"),{type:"string",max_len:50}),crid:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(t,"crid"),{type:"string",max_len:50}),dealid:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(t,"dealid"),{type:"string",max_len:50}),floor:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(t,"floor"),{type:"number",max:999,max_len:15}),publisher_demand:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(t,"pub_demand"),{type:"boolean"})},t.displayed=1,e.size=t.size,e.displayed_ad=new adObj(ProperMedia.utils.deepCopy(t)),t.onBidWon(e),e.displayed=1,e.refresh.count++,e.last_displayed_ts=ProperMedia.utils.getTimestampMs(),e.tracking_times.dfp_returned_ts=ProperMedia.utils.getTimestampMs(),e.tracking_times.creative_on_page=ProperMedia.utils.getTimestampMs(),e.dispatchCustomEvent("video-ad-played"),e.dispatchCustomEvent("proper-ads-fired",{cpm:o.price,size:o.size,ad_type:ProperMedia.utils.deepAccess(e,"displayed_ad.video_type")}),properSession.setSessionRevenue(o.price),properAdPool.displayed_ads.push(ProperMedia.utils.deepCopy(e.displayed_ad)),ProperMedia.utils.deepSetValue(properLog,"bid_data.ad_slots."+e.dfp_name,o),e.sticky&&proper_inview(0,e.name,t.size,t.crid,0,t.adid),clearTimeout(properLog.tracker_timeout),properLog.tracker_timeout=null,properLog.tracker_timeout=properSetTimeout.setTimeout.call(properPage,function(){properLog.proper_tracker()},properLog.tracker_wait),properLog.mylog("displayed! ("+e.name+", bidder="+o.bidder+", size="+o.size+", price="+o.price+")")),!0}function logVideoAdSuccess(e,t,i){e=properPage.getSlotFromPageObject(e);if(e&&e.video_player instanceof videoPlayer){var r,s=ProperMedia.utils.getTimePassed(e.auction_started_ts),o=properDevice.isMobile()?"640x480":"400x300",a=null;if(t){var n=parseFloat(t)+.01;const r=_0x59ab84(e.winning_ad?.price);a={slot_name:ProperMedia.utils.validateValue(e.dfp_name,{type:"string",max_len:50}),bidder:ProperMedia.utils.validateValue("dfp_video",{type:"string",max_len:30}),gross:ProperMedia.utils.validateValue(n,{type:"number",max:999,max_len:15}),price:ProperMedia.utils.validateValue(n,{type:"number",max:999,max_len:15}),runner_up:r,size:ProperMedia.utils.validateValue(o,{type:"string",max_len:10}),refresh_cnt:ProperMedia.utils.validateValue(e.refresh.count,{type:"number",max:999}),line_item_id:"",response_ms:ProperMedia.utils.validateValue(s,{type:"number",max:999999}),auction_duration:ProperMedia.utils.validateValue(s,{type:"number",max:999999}),precent_bids_ready:ProperMedia.utils.validateValue(100,{type:"number",max:100}),tag_id:ProperMedia.utils.validateValue("",{type:"string",max_len:50}),floor:ProperMedia.utils.validateValue(t,{type:"number",max:999,max_len:15}),publisher_demand:ProperMedia.utils.validateValue(!!properOps.remote_gam,{type:"boolean"})},e.displayed_ad=new adObj({type:"video",price:n,gross:n,dfp_price:n,bidder:"dfp_video",size:o,adCode:"",tag_id:"",response_ms:s,displayed:1,video_type:e.video_type,floor:t}),e.clearWinningBid()}else e&&e.video_player instanceof videoPlayer&&ProperMedia.utils.isPlainObject(i)&&i.id&&i.bidder&&i.price&&(e.hasWinningAmazonBid()?e.winning_amazon_ad.id==i.id?i=e.winning_amazon_ad:e.clearWinningAmazonBid():e.hasWinningBid()&&(e.winning_ad.id==i.id?i=e.winning_ad:e.clearWinningBid()),n=_0x59ab84(i.price),o=_0x59ab84(i.gross),r=_0x59ab84(e.getRunnerUp()),a={slot_name:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(e,"dfp_name"),{type:"string",max_len:50}),bidder:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(i,"bidder"),{type:"string",max_len:30}),gross:o,price:n,runner_up:r,size:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(i,"size"),{type:"string",max_len:10}),refresh_cnt:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(e,"refresh.count"),{type:"number",max:999}),line_item_id:"",response_ms:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(i,"response_ms"),{type:"number",max:999999}),auction_duration:ProperMedia.utils.validateValue(s,{type:"number",max:999999}),precent_bids_ready:ProperMedia.utils.validateValue(100,{type:"number",max:100}),tag_id:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(i,"tag_id"),{type:"string",max_len:50}),adid:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(i,"adid"),{type:"string",max_len:50}),adomain:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(i,"adomain.0"),{type:"string",max_len:50}),cid:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(i,"cid"),{type:"string",max_len:50}),crid:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(i,"crid"),{type:"string",max_len:50}),dealid:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(i,"dealid"),{type:"string",max_len:50}),floor:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(i,"floor"),{type:"number",max:999,max_len:15}),publisher_demand:ProperMedia.utils.validateValue(ProperMedia.utils.deepAccess(i,"pub_demand"),{type:"boolean"})},i.displayed=1,e.size=i.size,e.displayed_ad=new adObj(ProperMedia.utils.deepCopy(i)),i.onBidWon(e));a&&(e.displayed=1,e.refresh.count++,e.last_displayed_ts=ProperMedia.utils.getTimestampMs(),e.tracking_times.dfp_returned_ts=ProperMedia.utils.getTimestampMs(),e.tracking_times.creative_on_page=ProperMedia.utils.getTimestampMs(),e.dispatchCustomEvent("video-ad-played"),e.dispatchCustomEvent("proper-ads-fired",{cpm:a.price,size:a.size,ad_type:ProperMedia.utils.deepAccess(e,"displayed_ad.video_type")}),properSession.setSessionRevenue(a.price),properAdPool.displayed_ads.push(ProperMedia.utils.deepCopy(e.displayed_ad)),ProperMedia.utils.deepSetValue(properLog,"bid_data.ad_slots."+e.dfp_name,a),clearTimeout(properLog.tracker_timeout),properLog.tracker_timeout=null,properLog.tracker_timeout=properSetTimeout.setTimeout.call(properPage,function(){properLog.proper_tracker()},properLog.tracker_wait),properLog.mylog("displayed! ("+e.name+", bidder="+a.bidder+", size="+a.size+", price="+a.price+")"))}return!0}function logVideoUnfilled(e){e=properPage.getSlotFromPageObject(e);e&&log_unfilled(e)}function logVideoAdError(e,t,i){var r=new Error(JSON.stringify(t.msg)),r=(r.bidder=t.bidder,t.stack&&(r.stack=t.stack),r.event_type="video_exception",sendError(r),properPage.getSlotFromPageObject(e));r&&(r.hasWinningBid()&&"dfp"!==t.bidder&&(delete r.winning_ad,r.winning_ad={}),r.hasWinningAmazonBid()&&"dfp"!==t.bidder&&(delete r.winning_amazon_ad,r.winning_amazon_ad={}),!0===i)&&"display"==r.type&&(e=ProperMedia.utils.deepAccess(properOps,"ad_slots."+r.type+"."+r.name)||{},r.setRefresh(e),r.refreshSlot())}function proper_remnant(e,t){if(!properPage.getSlotByNumber(t,["display"]))return properLog.mylog("Couldn't find slot with number: "+t),!1;proper_render(e,t,0)}function runATS(e){userIdAdapters.identityLink&&userIdAdapters.identityLink.runATS(e)}function publisherAudiencesOptOut(e){ProperMedia.utils.deepAccess(bidAdapters,"a9.updateOptOut")&&bidAdapters.a9.updateOptOut(e)}function testRps(e){try{e&&parseFloat(e)&&(ProperMedia.utils.deepSetValue(properSession,"sessionData.revenue",parseFloat(e)),ProperMedia.utils.isFn(audiencePixels.controller.checkThresholds))&&audiencePixels.controller.checkThresholds()}catch(e){}}function refreshAuctionAndSlotsByName(e){try{ProperMedia.utils.isArray(e)&&0<e.length&&(properAdPool.size_override=e),runNewAuction(),e.forEach(function(e){refreshSlotByName(e)})}catch(e){}}function getUserIdsAsEids(){return ProperMedia.utils.deepCopy(userIds.getEidsArray())}userIdAdapters.id5Id=new id5IdAdapter,audiencePixels.controller=function(){var r={};return{init:function(e,t){var i=ProperMedia.utils.mergeObject({},e);i.networks&&Object.keys(i.networks).length&&Object.keys(i.networks).forEach(function(e){ProperMedia.utils.deepAccess(i,"networks."+e+".enabled")&&ProperMedia.utils.deepAccess(audiencePixels,"networks."+e)&&(r[e]=audiencePixels.networks[e],r[e].setConfig(i.networks[e]),r[e].init())}),audiencePixels.audience_pixels.init(t)},newPageview:function(){Object.keys(r).length&&Object.keys(r).forEach(function(e){ProperMedia.utils.deepAccess(r,e+".newPageview")&&r[e].newPageview()})},checkThresholds:function(){Object.keys(r).length&&Object.keys(r).forEach(function(e){r[e].checkThresholds()}),audiencePixels.audience_pixels.checkThresholds()}}}(),audiencePixels.audience_pixels=function(){var o={enabled:!1,thresholds:[]};return{init:function(e){o=ProperMedia.utils.mergeObject(o,e)},checkThresholds:function(){var e,t,i,r=ProperMedia.utils.deepAccess(properSession,"sessionData.last_threshold")||0,s={price:0,pixel:""};o.thresholds.map(function(e){e.price>s.price&&e.price>r&&e.price<properSession.sessionData.revenue&&(s=e)}),s.price&&(e=s,o.enabled)&&e.pixel&&(t="audience-pixel-"+e.price.toString(),document.getElementById(t)||(properLog.mylog("Place audience pixel: "+e.price),(i=document.createElement("iframe")).id=t,i.width="0px",i.height="0px",i.style.display="none",document.getElementsByTagName("body")[0].appendChild(i),i.contentWindow.document.open(),i.contentWindow.document.write(e.pixel.toString()),i.contentWindow.document.close(),ProperMedia.utils.deepSetValue(properSession,"sessionData.last_threshold",e.price),properSession.setSessionData()))}}}(),audiencePixels.networks.taboola=function(){var s=0,i=0,o={enabled:!1,disable_init_code:!1,ids:[],range:{min:.01,max:.22,exceptions:[]},pageview:{enabled:!1,everyPage:!1}};return{checkThresholds:function(){var e=parseFloat(Math.floor(100*properSession.sessionData.revenue)/100);if(i<e&&o.range.min<=e&&o.range.max>=e&&-1==o.range.exceptions.indexOf(e))try{i=e;var t="rps_"+parseInt(100*e);properLog.mylog("audiencePixels: Taboola pixel: "+e+" "+t),window.top.fireTaboolaPixel(t)}catch(e){console.error(e)}},newPageview:function(){try{s&&o.pageview.enabled&&(o.pageview.everyPage||properSession.sessionData.depth<=1)&&(properLog.mylog("audiencePixels: Taboola newPageview: "+s),window.top._tfa.push({notify:"event",name:"page_view",id:s}))}catch(e){console.error(e)}},setConfig:function(e){o=ProperMedia.utils.mergeObject(o,e)},init:function(){var e,t,i,r;if(!o.disable_init_code)try{s=o.ids.shift(),properLog.mylog("audiencePixels: Taboola Init: "+s),s&&(window.top._tfa=window.top._tfa||[],e=document.createElement("script"),t=document.getElementsByTagName("script")[0],i="//cdn.taboola.com/libtrc/unip/"+s+"/tfa.js",r="tb_tfa_script",document.getElementById(r)||(e.async=1,e.src=i,e.id=r,t.parentNode.insertBefore(e,t)),window.top.fireTaboolaPixel=function(e){window.top._tfa.push({notify:"event",name:e,id:s})})}catch(e){console.error(e)}}}}(),audiencePixels.networks.outbrain=function(){var i=0,s={enabled:!1,disable_init_code:!1,ids:[],range:{min:.01,max:.22,exceptions:[]}};return{checkThresholds:function(){var e=parseFloat(Math.floor(100*properSession.sessionData.revenue)/100);if(i<e&&s.range.min<=e&&s.range.max>=e&&-1==s.range.exceptions.indexOf(e))try{i=e;var t="rps_"+parseInt(100*e);properLog.mylog("audiencePixels: Outbrain pixel: "+e+" "+t),window.top.obApi("track",t)}catch(e){console.error(e)}},setConfig:function(e){s=ProperMedia.utils.mergeObject(s,e)},init:function(){var e,t,i,r;if(!s.disable_init_code)try{e=window.top,r=s.ids,properLog.mylog("audiencePixels: Outbrain Init: "+JSON.stringify(s.ids)),e.obApi?e.obApi.marketerId=(i=function(e){return"[object Array]"===Object.prototype.toString.call(e)?e:[e]})(e.obApi.marketerId).concat(i(r)):((t=e.obApi=function(){t.dispatch?t.dispatch.apply(t,arguments):t.queue.push(arguments)}).version="1.1",t.loaded=!0,t.marketerId=OB_ADV_ID,t.queue=[],(i=document.createElement("script")).async=!0,i.src="//amplify.outbrain.com/cp/obtp.js",i.type="text/javascript",(r=document.getElementsByTagName("script")[0]).parentNode.insertBefore(i,r))}catch(e){console.error(e)}}}}(),audiencePixels.networks.facebook=function(){var t=0,a={enabled:!1,disable_init_code:!1,ids:[],range:{min:.01,max:.22,exceptions:[]},pageview:{enabled:!1,everyPage:!1}};return{checkThresholds:function(){var e=parseFloat(Math.floor(100*properSession.sessionData.revenue)/100);if(t<e&&a.range.min<=e&&a.range.max>=e&&-1==a.range.exceptions.indexOf(e))try{t=e,properLog.mylog("audiencePixels: Facebook pixel: "+e),window.top.fbq("trackCustom",e.toString(),{value:parseFloat(e),currency:"USD"})}catch(e){console.error(e)}},newPageview:function(){try{a.pageview.enabled&&(a.pageview.everyPage||properSession.sessionData.depth<=1)&&(properLog.mylog("audiencePixels: Facebook newPageview"),window.top.fbq("track","PageView"))}catch(e){console.error(e)}},setConfig:function(e){a=ProperMedia.utils.mergeObject(a,e)},init:function(){var e,t,i,r,s;if(!a.disable_init_code)try{if(e=window,t=document,e.fbq||(i=e.fbq=function(){i.callMethod?i.callMethod.apply(i,arguments):i.queue.push(arguments)},e._fbq||(e._fbq=i),(i.push=i).loaded=!0,i.version="2.0",i.queue=[],(r=t.createElement("script")).async=!0,r.src="https://connect.facebook.net/en_US/fbevents.js",(s=t.getElementsByTagName("script")[0]).parentNode.insertBefore(r,s)),fbq("dataProcessingOptions",["LDU"],0,0),a.ids.length)for(var o=0;o<a.ids.length;o++)properLog.mylog("audiencePixels: Facebook Init: "+a.ids[o]),window.top.fbq("init",a.ids[o])}catch(e){console.error(e)}}}}(),audiencePixels.networks.google=function(){var t=0,r={enabled:!1,disable_init_code:!1,configId:"",range:{}};return{checkThresholds:function(){var e=parseFloat(Math.floor(100*properSession.sessionData.revenue)/100);if(t<e&&r.range[e])try{t=e,properLog.mylog("audiencePixels: Google pixel: "+e+" "+r.configId+" "+r.range[e]),window.top.gtag("event","conversion",{send_to:r.range[e]})}catch(e){console.error(e)}},setConfig:function(e){r=ProperMedia.utils.mergeObject(r,e)},init:function(){if(!r.disable_init_code)try{var e=r.configId.split(","),t=(properLog.mylog("audiencePixels: Google Init"),document.createElement("script"));t.src="https://www.googletagmanager.com/gtag/js",t.setAttribute("async",""),window.top.document.getElementsByTagName("body")[0].prepend(t),window.top.dataLayer=window.top.dataLayer||[],window.top.gtag=function(){window.top.dataLayer.push(arguments)},window.top.gtag("js",new Date);for(var i=0;i<e.length;i++)properLog.mylog("audiencePixels: Google config: "+e[i]),window.top.gtag("config",e[i])}catch(e){console.error(e)}}}}(),audiencePixels.networks.twitter=function(){var t=0,i={enabled:!1,disable_init_code:!1,range:{}};return{checkThresholds:function(){var e=parseFloat(Math.floor(100*properSession.sessionData.revenue)/100);if(t<e&&i.range.min<=e&&i.range.max>=e&&-1==i.range.exceptions.indexOf(e))try{t=e,properLog.mylog("audiencePixels: Twitter pixel: "+e+" "+i.range[e]),twttr.conversion.trackPid(i.range[e],{tw_sale_amount:e})}catch(e){console.error(e)}},setConfig:function(e){i=ProperMedia.utils.mergeObject(i,e)},init:function(){var e,t;if(!i.disable_init_code)try{properLog.mylog("audiencePixels: Twitter Init"),(e=document.createElement("script")).async=!0,e.src="//platform.twitter.com/oct.js",e.type="text/javascript",(t=document.getElementsByTagName("script")[0]).parentNode.insertBefore(e,t)}catch(e){console.error(e)}}}}(),bidAdapters.a9=function(){var a="a9",n=[],d=0,P=0,s=0,p=(amazon_crid_map={},window.top),w="https://c.amazon-adsystem.com/e/dtb/bid",i="pub_audiences_opt_out",M={display:{fiuark:"a9","1777sow":"adgeneration_tam",tvrabk:"conversant_tam","6kpe68":"districtm_tam",pfxs74:"districtmdmx_tam","1bn1atc":"gumgum_tam",rnuj9c:"index_tam",pzwyyo:"mediagrid_tam","1rqdr0g":"medianet_tam","7onrpc":"oath_tam",fgcef4:"openx_tam",s7tq0w:"onetag_tam","1lmmolc":"pubmatic_tam",obzeo0:"pulsepoint_tam",bki328:"risecodes_tam",x7meww:"rubicon_tam",l04a2o:"rhythmone_tam","1ye4074":"sharethrough_tam",jw5wjk:"smaato_tam",b0iwao:"sovrn_tam","11nfx1c":"triplelift_tam","1eywfeo":"xandr_tam",n8114w:"yahoo_tam","1oyht6o":"yieldmo_tam"},video:{instream:{"5gr0n4":"adobe_tam_instream",fiuark:"amazon_tam_instream","1r6ek8w":"amobee_tam_instream","1777sow":"adgeneration_tam_instream","19f4jr4":"conversant_uam_instream",tvrabk:"conversant_tam_instream",pfxs74:"dmx_tam_instream","6kpe68":"districtm_tam_instream","1bn1atc":"gumgum_tam_instream","1mql24g":"gumgum_uam_instream",rnuj9c:"index_tam_instream",x7meww:"magnite_tam_instream",pzwyyo:"mediagrid_tam_instream","1rqdr0g":"medianet_tam_instream",fgcef4:"openx_tam_instream",s7tq0w:"onetag_tam_instream","1lmmolc":"pubmatic_tam_instream",obzeo0:"pulsepoint_tam_instream",bki328:"risecodes_tam_instream","1ye4074":"sharethrough_tam_instream",l04a2o:"unruly_tam_instream",jw5wjk:"smaato_tam_instream",b0iwao:"sovrn_tam_instream","11nfx1c":"triplelift_tam_instream","7onrpc":"verizon_media_tam_instream",n8114w:"verizon_media_tam_instream","1eywfeo":"xandr_tam_instream","1tebbb4":"yahoo_tam_instream","1oyht6o":"yieldmo_tam_instream"},outstream:{"5gr0n4":"adobe_tam_outstream",fiuark:"amazon_tam_outstream","1r6ek8w":"amobee_tam_outstream","1777sow":"adgeneration_tam_outstream","19f4jr4":"conversant_uam_outstream",tvrabk:"conversant_tam_outstream",pfxs74:"dmx_tam_outstream","6kpe68":"districtm_tam_outstream","1bn1atc":"gumgum_tam_outstream","1mql24g":"gumgum_uam_outstream",rnuj9c:"index_tam_outstream",x7meww:"magnite_tam_outstream",pzwyyo:"mediagrid_tam_outstream","1rqdr0g":"medianet_tam_outstream",fgcef4:"openx_tam_outstream",s7tq0w:"onetag_tam_outstream","1lmmolc":"pubmatic_tam_outstream",obzeo0:"pulsepoint_tam_outstream","1ye4074":"sharethrough_tam_outstream",l04a2o:"unruly_tam_outstream",bki328:"risecodes_tam_outstream",jw5wjk:"smaato_tam_outstream",b0iwao:"sovrn_tam_outstream","11nfx1c":"triplelift_tam_outstream","7onrpc":"verizon_media_tam_outstream",n8114w:"verizon_media_tam_outstream","1eywfeo":"xandr_tam_outstream","1tebbb4":"yahoo_tam_outstream","1oyht6o":"yieldmo_tam_outstream"}}},I={sovrn_tam:9e4},l="cb3b5777-430d-4622-b7fc-358cfa27d518";function r(o,a,n){var d={slots:{},data_map:{},request_cnt:0,bidderInfo:n};return 0<Object.keys(o).length&&Object.keys(o).forEach(function(e){for(var t=0;t<o[e].length;t++){var i=o[e][t],r="video"==n.demand_type?i.split("-")[0]:i,s=(void 0===d.slots[i]&&(d.slots[i]={slotID:r},"video"==n.demand_type?d.slots[i].mediaType="video":d.slots[i].sizes=[],d.slots[i].floor={value:0,currency:"USD"},d.data_map[r]={tag_sizes:[],floor:0}),"display"==n.demand_type&&d.slots[i].sizes.push(e.split("x").map(function(e){return parseInt(e)})),parseInt(100*getBidderFloor(a,e)));(!d.slots[i].floor.value||s<d.slots[i].floor.value)&&(d.slots[i].floor.value=s,ProperMedia.utils.deepSetValue(d,"data_map."+r+".floor",s/100)),d.data_map[r].tag_sizes.push(e),d.request_cnt++}}),d}function o(){var i,o,e,t;function r(e,t){o[i]._Q.push([e,t])}properPage.isolated||1==s||1==d||(0==P&&1==properOps.dfp_per_slot?u():(s=1,i="apstag",e=(o=p).document,o[i]||(o[i]={init:function(){r("i",arguments)},fetchBids:function(){r("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},deleteId:function(){r("di",arguments)},renewId:function(){r("ri",arguments)},updateId:function(){r("ui",arguments)},_Q:[]},(link1=e.createElement("link")).rel="dns-prefetch",link1.href="https://c.amazon-adsystem.com",(link2=e.createElement("link")).rel="preconnect",link2.href="https://c.amazon-adsystem.com",t=e.createAttribute("crossorigin"),link2.setAttributeNode(t),(t=e.createElement("script")).async=1,t.src="https://c.amazon-adsystem.com/aax2/apstag.js",t.addEventListener("load",TraceKit.wrap(function(){try{var e={pubID:l,params:{},bidTimeout:350},t=schainCheck(a),r=(""!=t&&(e.schain=t),gdprConsent.gdprApplies&&(e.gdpr={enabled:!!gdprConsent.gdprApplies,consent:gdprConsent.consentString||""}),uspConsent.usPrivacy&&(e.us_privacy=uspConsent.usPrivacy),properPage.video_enabled&&(e.videoAdServer="DFP"),o.apstag.init(e),o.apstag.bids),i=(o.apstag.bids=function(e){if(r(e),e.slots&&e.slots.length)for(var t=0;t<e.slots.length;t++){var i=e.slots[t];i.amzniid&&i.crid&&(amazon_crid_map[i.amzniid]=i.crid)}}.bind(o.apstag),g());if(i.hashedRecords&&i.hashedRecords.length&&o.apstag.renewId(i,function(){properLog.mylog("Amazon: Publisher Audience ID Renewed. params: "+JSON.stringify(i))}),d=1,n.length)for(var s=0;s<n.length;s++)c(n[s]);n=[]}catch(e){throw e.bidder=a,e}})),(e=e.getElementsByTagName("head")[0]).appendChild(link1),e.appendChild(link2),e.appendChild(t))))}function c(_){"function"==typeof ProperMedia.utils.deepAccess(p,"apstag.debug")&&(1==properOps.testing_mode.ids?p.apstag.debug("enable"):p.apstag.debug("disable"));var b,e,f=_.bidData||{},v=_.request_cnt||0,t=ProperMedia.utils.objectValues(_.slots)||[],y=_.data_map||{};0==t.length&&0<v?properLog.mylog("Amazon: No slots defined"):(properLog.mylog("Amazon bids sent",_.bidderInfo.bidder),f.incrementRequestsSent(v),b=ProperMedia.utils.getTimestampMs(),e=function(e){try{properLog.mylog("Amazon bids returned: "+e.length);for(var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(b,t),r=0;r<e.length;r++){var s,o,a=e[r],n=0,d=(1==properOps.testing_mode.ids?n="testBid":a.amznbid&&(n=a.amznbid),a.amznp||"fiuark"),p=("video"==ProperMedia.utils.deepAccess(_,"bidderInfo.demand_type")?ProperMedia.utils.deepAccess(M,_.bidderInfo.demand_type+"."+_.bidderInfo.video_type+"."+d):ProperMedia.utils.deepAccess(M,_.bidderInfo.demand_type+"."+d))||_.bidderInfo.bidder,l=a.encodedQsParams||"",c=a.qsParams||"",u=amazon_crid_map[a.amzniid]||"",g=(amazon_crid_map[a.amzniid]&&delete amazon_crid_map[a.amzniid],a.ttl||I[p]||ProperMedia.utils.deepAccess(_,"bidderInfo.default_bid_ttl")),m={encodedQsParams:l,qsParams:c,amznp:a.amznp,amznbid:a.amznbid,amzniid:a.amzniid},h=new adObj({bidder:p,price:n,gross:n,size:a.size,tag_id:a.slotID,crid:u,request_url:w,response:a,response_ms:i,received_ts:t,ad_details:m,ttl:g,floor:ProperMedia.utils.deepAccess(y,a.slotID+".floor")||0});"video"==ProperMedia.utils.deepAccess(_,"bidderInfo.demand_type")?(a.size&&-1!==["400x300","640x480"].indexOf(a.size)?s=a.size:ProperMedia.utils.deepAccess(y,a.slotID+".tag_sizes.0")&&-1!==["400x300","640x480"].indexOf(ProperMedia.utils.deepAccess(y,a.slotID+".tag_sizes.0"))?s=ProperMedia.utils.deepAccess(y,a.slotID+".tag_sizes.0"):a.slotID&&a.slotID.match(/_\d+x\d+$/)&&1<(o=a.slotID.match(/_(\d+x\d+)$/)).length&&-1!==["400x300","640x480"].indexOf(match[1])&&(s=o[1]),s=s||(properDevice.isMobile()?["400x300"]:["640x480"]),h.type="video",h.vast_type="url",h.vast_tag="https://aax.amazon-adsystem.com/e/dtb/vast?b="+a.amzniid+"&pp="+a.amznbid+"&rnd="+Math.round((new Date).getTime())+"&cust_params="+c,h.vpaid=!1,h.video_type=ProperMedia.utils.deepAccess(_,"bidderInfo.video_type"),h.size=s):(h.type="display",1==P&&1==properOps.dfp_per_slot?h.adcode='<script>try {var amazon_ifr = window.top.document.getElementById("proper-a9-auction-iframe");if(amazon_ifr) {var amzn_win = amazon_ifr.contentWindow;if(amzn_win && amzn_win.apstag) {window.apstag = amzn_win.apstag;window.apstag.renderImp(document,"'+a.amzniid+'");}}} catch(e) {console.error(e);}<\/script>':h.adcode='<script>var amzn_win=window,amzn_c=5,amzn_x=0;while(amzn_x<amzn_c){amzn_win=amzn_win.parent;if(amzn_win.apstag)try{amzn_win.apstag.renderImp(document,"'+a.amzniid+'");amzn_x=amzn_c}catch(e){}amzn_x++};<\/script>'),f.logBidResponse(h)}f.incrementBidResponseCount(v)}catch(e){throw e.bidder=_.bidderInfo.bidder,e}},void 0!==TraceKit&&TraceKit.wrap(e),"function"==typeof ProperMedia.utils.deepAccess(p,"apstag.fetchBids")&&p.apstag.fetchBids({slots:t,timeout:550},e))}function u(){try{var e=document.createElement("iframe");e.id="proper-a9-auction-iframe",e.frameborder="0",e.allowtransparency="true",e.marginheight="0",e.marginwidth="0",e.width="0",e.hspace="0",e.vspace="0",e.height="0",e.scrolling="no",e.style.display="none",e.style.width="0",e.style.height="0",e.sandbox="allow-scripts allow-same-origin",e.onload=function(){p=e.contentWindow,P=1,p.__tcfapi=window.top.__tcfapi,0==s&&o()},document.getElementsByTagName("body")[0].appendChild(e)}catch(e){p=window,console.error(e)}}function g(){var e={},t=userIds.getUserIdData();return ProperMedia.utils.deepAccess(t,"emailHashes.sha256")&&(e={hashedRecords:[{type:"email",record:ProperMedia.utils.deepAccess(t,"emailHashes.sha256")}]}),gdprConsent.gdprApplies&&(e.gdpr={enabled:!!gdprConsent.gdprApplies,consent:gdprConsent.consentString}),void 0!==properStorage.getCookie(i,{moduleType:"core"})&&(e.optOut=!!properStorage.getCookie(i,{moduleType:"core"})),e}return{send:function(e){if(properPage.isolated)return properLog.mylog("Turn off Amazon bidder for isolated pages"),!0;var t=e.bidder,i=properOps.bidder_info[t]||i;i.bidder=t,l=i.alias?"748e627c-0eaa-42c2-9e73-69aef798751c":l,ProperMedia.utils.deepAccess(properOps,"bidders.header."+t+".account_overrides.enabled")&&(l=ProperMedia.utils.deepAccess(properOps,"bidders.header."+t+".account_overrides.bidder_ids.pub_id")||l),(t=r(e.requests,t,i)).bidData=e,1==d?c(t):(n.push(t),0==P&&1==properOps.dfp_per_slot?u():0==s&&o())},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:12e4,gvlid:793},updateOptOut:function(e){var t;e?properStorage.setCookie(i,!0,1209600,"Lax","",{moduleType:"core"}):ProperMedia.utils.deleteCookie(i,"Lax","",{moduleType:"core"}),"function"==typeof ProperMedia.utils.deepAccess(p,"apstag.updateId")&&((t=g()).optOut=e,p.apstag.updateId(t,function(){properLog.mylog("Amazon: Publisher Audience ID Updated. params: "+JSON.stringify(t))}))},formatRequest:r,loadInitScripts:o}}(),bidAdapters.adagio=function(){var e={rev_share:1,demand_type:"display",bid_grouping:"page",div_insertion:1,default_bid_ttl:3e4,gvlid:617},h="https://mp.4dex.io/prebid",_="adagio",i="https://script.4dex.io/localstore.js",r="adagioScript",a=e.gvlid,b=1003,f=null,s=!1,n={};function c(e){e=e.split("x");return{w:parseInt(e[0]),h:parseInt(e[1])}}function d(a,n,d){var p={imps:{},data_map:{},request_cnt:0},l=d.auctionId;return 0<Object.keys(a).length&&(Object.keys(a).forEach(function(e){for(var t=0;t<a[e].length;t++){var i,r,s=a[e][t],o=(void 0===p.imps[s]&&(r=s.split("-")[0]||s,o="adagio-"+ProperMedia.utils.generateUUID(),i={page_dimensions:u().toString(),viewport_dimensions:g().toString(),user_timestamp:m().toString(),dom_loading:v().toString(),print_number:(t+1).toString(),adunit_position:""},Object.keys(i).forEach(function(e){""===i[e]&&delete i[e]}),p.imps[s]={bidId:s,auctionId:l,bidderRequestId:ProperMedia.utils.generateUUID(),adUnitCode:o,mediaTypes:{},bidder:"adagio",params:{site:f,placement:r,adUnitElementId:o,organizationId:b.toString()},features:i,floors:[]},P.enqueue({action:"features",ts:Date.now(),data:{features:i,params:p.imps[s].params,adUnitCode:p.imps[s].adUnitCode}}),"display"==d.demand_type?p.imps[s].mediaTypes.banner={sizes:[]}:"video"==d.demand_type?(r=c(e),p.imps[s].mediaTypes.video={context:d.video_type,mimes:["video/mp4","application/javascript"],w:r.w,h:r.h,maxduration:30,minduration:10,api:[2],delivery:6,pos:0,playbackmethod:6,placement:"outstream"==d.video_type?3:1,linearity:"outstream"==d.video_type?2:1,protocols:[2,3,5,6],startdelay:0,skip:0},_buildVideoBidRequest(bidRequest)):"native"==d.demand_type&&(p.imps[s].mediaTypes.ntaive={main_image:{required:!0,sizes:[]},icon:{required:!0,sizes:[{width:50,height:50}]},clickUrl:{required:!0},title:{required:!0,len:80},sponsored_by:{required:!0},ctatext:{required:!1}}),1==properOps.testing_mode.ids&&(p.imps[s].params.debug={enabled:!0,cpm:3}),p.data_map[s]={floors:{},div_id:o}),"display"==d.demand_type&&(r=c(e),p.imps[s].mediaTypes.banner.sizes.push([r.w,r.h])),getBidderFloor(n,e));p.imps[s].floors.push({mt:d.demand_type,s:e,f:o}),p.data_map[s].floors[e]=o,p.request_cnt++}}),Object.keys(p.imps).forEach(function(e){var t,i=p.imps[e],e=window.top;e.ADAGIO=e.ADAGIO||{},e.ADAGIO.pbjsAdUnits=e.ADAGIO.pbjsAdUnits.filter(function(e){return e.code!==i.adUnitCode}),i.features&&i.features.print_number?t=i.features.print_number:i.params.features&&i.params.features.print_number&&(t=i.params.features.print_number),e.ADAGIO.pbjsAdUnits.push({code:i.adUnitCode,mediaTypes:i.mediaTypes||{},sizes:(i.mediaTypes&&i.mediaTypes.banner&&Array.isArray(i.mediaTypes.banner.sizes)?i.mediaTypes.banner:i).sizes,bids:[{bidder:i.bidder,params:i.params}],auctionId:i.auctionId,pageviewId:P.getPageviewId(),printNumber:t}),e.ADAGIO.adUnits[i.adUnitCode]={auctionId:i.auctionId,pageviewId:P.getPageviewId(),printNumber:t}})),p}function u(){var e=window.document.querySelector("body"),t=window.document.documentElement;return Math.max(e.scrollWidth,e.offsetWidth,t.clientWidth,t.scrollWidth,t.offsetWidth)+"x"+Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}function g(){return(window.innerWidth||0)+"x"+(window.innerHeight||0)}function m(){return Math.floor((new Date).getTime()/1e3)-60*(new Date).getTimezoneOffset()}function v(){var e=-1,t=window.performance;return e=t&&t.timing&&0<t.timing.navigationStart&&0<(t=t.timing.domLoading-t.timing.navigationStart)?t:e}o={};var t,o,y={clearFeatures:function(){t=void 0},clearExchangeData:function(){o={}},getOrSetGlobalFeatures:function(){return t=t||{page_dimensions:u().toString(),viewport_dimensions:g().toString(),user_timestamp:m().toString(),dom_loading:v().toString()}},prepareExchangeData(e){var e=JSON.parse(e,function(e,t){if("_"!==e.charAt(0)||""===e)return t}),t=ProperMedia.utils.deepAccess(e,"session.rnd"),i=!1;P.isNewSession(e)&&(i=!0,t=Math.random()),ProperMedia.utils.mergeDeep(o,e,{session:{new:i,rnd:t}}),P.enqueue({action:"session",ts:Date.now(),data:o})},getExchangeData(){return o}};var P={enqueue:function(e){var t=window.top;t.ADAGIO=t.ADAGIO||{},t.ADAGIO.queue=t.ADAGIO.queue||[],t.ADAGIO.queue.push(e)},getPageviewId:function(){var e=window.top;return e.ADAGIO=e.ADAGIO||{},e.ADAGIO.pageviewId=e.ADAGIO.pageviewId||ProperMedia.utils.generateUUID(),e.ADAGIO.pageviewId},adagioScriptFromLocalStorageCb:function(e){try{e?/^(\/\/ hash: (.+)\n)(.+\n)$/.test(e)||properStorage.removeDataFromLocalStorage(r,n):properLog.mylog("Adagio script not found.")}catch(e){properLog.mylog("Adagio: "+JSON.stringify(e))}},isNewSession:function(e){var t=Date.now(),i=(e=ProperMedia.utils.deepAccess(e,"session")||{}).lastActivityTime||void 0,e=e.vwSmplg||void 0;return!ProperMedia.utils.isNumber(i)||!ProperMedia.utils.isNumber(e)||18e5<t-i}};return{send:function(p){var l=p.bidder,c=properOps.bidder_info[l]||c;if(n={gvlid:c.gvlid||a,bidderCode:l},ProperMedia.utils.deepAccess(properOps,"bidders.header."+l+".account_overrides.enabled")&&(b=ProperMedia.utils.deepAccess(properOps,"bidders.header."+l+".account_overrides.bidder_ids.organizationId")||b),!(f=ProperMedia.utils.deepAccess(properOps,"bidders.header."+l+".site_id")||0))return properLog.mylog("Adagio: Error Site ID is Required."),!1;c.auctionId=ProperMedia.utils.deepAccess(p,"auction.id");var e=d(p.requests,l,c),t=ProperMedia.utils.objectValues(e.imps)||[],u=e.data_map||{},g=e.request_cnt,e=navigator.language?"language":"userLanguage",i=!gdprConsent?{}:{apiVersion:gdprConsent.apiVersion,consentString:gdprConsent.consentString,consentRequired:gdprConsent.gdprApplies?1:0,allowAuctionWithoutConsent:gdprConsent.allowAuctionWithoutConsent?1:0},r=!uspConsent.usPrivacy?{}:{uspConsent:uspConsent.usPrivacy},s=schainCheck(_),o=ProperMedia.utils.deepCopy(userIds.getEidsArray())||[],e={id:ProperMedia.utils.generateUUID(),pageviewId:P.getPageviewId(),organizationId:b.toString(),secure:properPage.use_ssl?1:0,site:{page:properPage.bidder_page_url,domain:properPage.domain,referrer:properPage.referrer},device:{userAgent:navigator.userAgent,language:navigator[e],dnt:ProperMedia.utils.getDNT()?1:0,geo:{},js:1},adUnits:t,data:y.getExchangeData(),regs:{gdpr:i,ccpa:r,coppa:{required:ProperMedia.utils.deepAccess(properSpecialOps,"coppa")?1:0}},user:{eids:o},prebidVersion:properOps.prebid_version,featuresVersion:"1"},m=(""!=s&&(e.schain=s),properLog.mylog(h,l),p.incrementRequestsSent(g),ProperMedia.utils.getTimestampMs()),t=ProperMedia.utils.deepAccess(properOps,"bidders.header."+l+".edge")||!1;$.ajax({url:h,method:"POST",requestType:"cors",bidder:l,edge:t,headers:{"Content-Type":"text/plain"},data:JSON.stringify(e),success:function(e){try{var o=ProperMedia.utils.getTimestampMs(),a=ProperMedia.utils.calcResponseMs(m,o);if(e=ProperMedia.utils.safeJsonParse(e)){if(e.data&&P.enqueue({action:"ssp-data",ts:Date.now(),data:e.data}),e.bids&&e.bids.length){properLog.mylog(e,l),e.bids.forEach(function(e){var t=e.requestId||"",i=e.cpm||0,r=(width=e.width||1,height=e.height||1,adcode=e.ad||"",nurl=e.nurl||"",crid=e.creativeId||0,dealid=e.dealId||"",adomain=e.aDomain||[],ttl=e.ttl||c.default_bid_ttl/1e3,width+"x"+height),s={div_id:ProperMedia.utils.deepAccess(u,t+".div_id")},i=new adObj({bidder:l,size:r,price:parseFloat(i),gross:parseFloat(i),nurl:nurl,tag_id:t,crid:crid,dealid:dealid,ad_details:s,request_url:h,response:e,response_ms:a,received_ts:o,ttl:1e3*ttl,floor:ProperMedia.utils.deepAccess(u,t+".floors."+r)||0});"display"==c.demand_type?(s='<script> var elem = window.top.document.getElementById("{PROPER_SLOT_DIV_ID}"); if(elem) { if(elem.parentNode.className.indexOf("'+properOps.slot_wrapper_class+"\") !== -1) { elem = elem.parentNode; elem.setAttribute('id', \""+ProperMedia.utils.deepAccess(u,t+".div_id")+'");}} <\/script>',i.adcode=s+'<div id="'+ProperMedia.utils.deepAccess(u,t+".div_id")+'">'+adcode+"</div>"):"video"==c.demand_type?(i.type="video",i.vast_tag=e.vastXml,r=ProperMedia.utils.parseVastVpaid(i.vast_tag),i.vast_type=r.vast_type,i.vpaid=r.vpaid,i.video_type=c.video_type):"native"==c.demand_type&&((s=e.admNative||{}).clickTrackers=ProperMedia.utils.deepAccess(s,"link.clicktrackers")||[],i.type="native",i.native=s),p.logBidResponse(i)});var t,i,r,s,n=e;try{ProperMedia.utils.deepAccess(n,"ext.pixels")&&(t=n.ext.pixels||[],i=/\w*(?=\s)/,r=/src=("|')(.*?)\1/,t)&&(s=t.match(/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi))&&s.forEach(function(e){var t=e.match(i)[0],e=e.match(r)[2];t&&e&&(t="img"===t.toLowerCase()?"image":"iframe",userSyncs.add({type:t,url:e}))})}catch(e){throw e.bidder=_,e}}}else{properLog.mylog("Adagio: No bids returned");var d=new adObj({bidder:l,price:0,gross:0,tag_id:"",request_url:h,response:e,response_ms:a,received_ts:o,ttl:0});p.logNoBidResponse(d)}p.incrementBidResponseCount(g)}catch(e){throw e.bidder=l,e}},error:function(e){try{p.incrementBidResponseCount(g);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(m,t),r={bidder:l,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};p.logBidResponseError(r)}catch(e){throw e.bidder=l,e}}})},onBidWon:function(e,t){try{window.top.ADAGIO.queue.push({action:"adagio-creative-rendered",data:{eventName:"renderEvent",args:{isEmpty:!1,elementId:ProperMedia.utils.deepAccess(e,"ad_details.div_id"),creativeId:e.crid,creativeSize:e.size.split("x").map(function(e){return parseInt(e)})}},ts:Date.now()})}catch(e){console.error(e)}},bidderInfo:e,formatRequest:d,loadInitScripts:function(){if(!s){s=!0;var e=window.top,e=(e.ADAGIO=e.ADAGIO||{},e.ADAGIO.adUnits=e.ADAGIO.adUnits||{},e.ADAGIO.pbjsAdUnits=e.ADAGIO.pbjsAdUnits||[],e.ADAGIO.queue=e.ADAGIO.queue||[],e.ADAGIO.versions=e.ADAGIO.versions||{},e.ADAGIO.versions.pbjs=properOps.prebid_version,e.ADAGIO.isSafeFrameWindow=0,properStorage.getDataFromLocalStorage("adagio",n)||"{}");try{y.prepareExchangeData(e)}catch(e){properLog.mylog("Adagio: "+JSON.stringify(e))}e=properStorage.getDataFromLocalStorage(r,n),P.adagioScriptFromLocalStorageCb(e),properStorage.localStorageIsEnabled(n)&&((e=document.createElement("script")).src=i,e.async=!0,e.type="text/javascript",(t=document.getElementsByTagName("script")[0]).parentNode.insertBefore(e,t))}var t}}}(),bidAdapters.aol=function(){var f="aol";var v=/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi,y=/\w*(?=\s)/,P=/src=("|')(.*?)\1/;return{send:function(h){var _=h.bidder,b=properOps.bidder_info[_]||b,i=h.requests;Object.keys(i).forEach(function(e){for(var t=0;t<i[e].length;t++)!function(e,c){var t={"728x90":225,"160x600":154,"300x600":529,"300x250":170,"320x50":3055};if(void 0===t[e])return;var u=getBidderFloor(_,e),t=t[e],e=c,i=(new Date).getTime(),g="https://adserver-us.adtech.advertising.com/pubapi/3.0/9857.1/"+c+"/0/"+t+"/ADTECH;v=2;cmd=bid;cors=yes;alias="+e+";misc="+i+";bidfloor="+u;"boolean"==typeof gdprConsent.gdprApplies&&(g+=";gdpr="+Number(gdprConsent.gdprApplies));gdprConsent.consentString&&(g+=";euconsent="+gdprConsent.consentString);uspConsent.usPrivacy&&(g+=";us_privacy="+uspConsent.usPrivacy);gppConsent.gppString&&(g+=";gpp="+gppConsent.gppString);gppConsent.applicableSections&&(g+=";gpp_sid="+gppConsent.applicableSections);properLog.mylog(g,_),h.incrementRequestsSent(1);var m=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(properOps,"bidders.header."+_+".edge")||!1;$.ajax({url:g,special:"aol",requestType:"cors",bidder:_,edge:t,success:function(e){try{properLog.mylog(e,_),(e=ProperMedia.utils.safeJsonParse(e)||{})&&e.seatbid&&0<e.seatbid.length?(t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(m,t),r=e.seatbid[0].bid[0]||{},0<Object.keys(r).length?(void 0!==r.crid&&r.crid,s=r.w||1,o=r.h||1,a=r.price||0,n=r.adm||"",d=r.crid||"",h.logBidResponse(new adObj({bidder:_,size:s+"x"+o,price:parseFloat(a),gross:parseFloat(a),adcode:n,tag_id:c,crid:d,request_url:g,response:r,response_ms:i,received_ts:t,ttl:b.default_bid_ttl,floor:u}))):h.logNoBidResponse(new adObj({bidder:_,price:0,gross:0,tag_id:r.tag_id||"",request_url:g,response:r,response_ms:i,received_ts:t,ttl:0,floor:u}))):h.logNoBidResponse(new adObj({bidder:_,price:0,gross:0,tag_id:c,request_url:g,response:e,response_ms:i,received_ts:t,ttl:0,floor:u})),h.incrementBidResponseCount(1);var t,i,r,s,o,a,n,d,p,l=e;l&&l.ext&&l.ext.pixels&&(l=l.ext.pixels.match(v))&&(p=[],l.forEach(function(e){var t=e.match(y)[0],e=e.match(P)[2];t&&e&&p.push({type:"img"===t?"image":"iframe",url:e,bidder:f})}),userSyncs.add(p))}catch(e){throw e.bidder=_,e}},error:function(e){try{h.incrementBidResponseCount(1);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(m,t),r={bidder:_,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};h.logBidResponseError(r)}catch(e){throw e.bidder=_,e}}})}(e,i[e][t])})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"slot",default_bid_ttl:6e4,gvlid:25}}}(),bidAdapters.appnexus=function(){var D="https://ib.adnxs.com/ut/v3/prebid",r=[userIdAdapters.identityLink],l={main_image:{required:!0,sizes:[]},icon:{required:!0,sizes:[{width:50,height:50}]},clickUrl:{required:!0},title:{required:!0,len:80},sponsored_by:{required:!0},ctatext:{required:!1}};function c(e,t){t=(e=ProperMedia.utils.deepAccess(t,"native_sizes."+e)||e).split("x");return{width:parseInt(t[0]),height:parseInt(t[1])}}function o(a,n,d){var p={astTags:{},data_map:{},request_cnt:0};return 0<Object.keys(a).length&&Object.keys(a).forEach(function(e){for(i=0;i<a[e].length;i++){var t,r,s=a[e][i],o=(void 0===p.astTags[s]&&(r=c(e,d),t=function(){var i=(new Date).getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"===e?t:3&t|8).toString(16)});return e=e.split("-")[4]}(),o=ProperMedia.utils.deepAccess(properOps,"bidders.header."+n+".site_id")||s,p.astTags[s]={sizes:[],primary_size:r,uuid:t,id:parseInt(o),prebid:!0,ad_types:[],reserve:0,hb_source:1,disable_psa:!0,allow_smaller_sizes:!1,use_pmt_rule:!1},p.data_map[t]={tag_id:s,floor:0}),"display"==d.demand_type?p.astTags[s].ad_types.push("banner"):"native"==d.demand_type?(-1==p.astTags[s].ad_types.indexOf("native")&&p.astTags[s].ad_types.push("native"),(r=ProperMedia.utils.deepAccess(p,"astTags."+s+".native.layouts.0")||l).main_image.sizes.push(c(e)),p.astTags[s].native={layouts:[r]}):"video"==d.demand_type&&(p.astTags[s].ad_types.push("video"),"instream"==d.video_type?p.astTags[s].require_asset_url=!0:"outstream"==d.video_type&&(p.astTags[s].require_asset_url=!1),p.astTags[s].allow_smaller_sizes=!0,p.astTags[s].video_frameworks=[2],p.astTags[s].video={minduration:1,playback_method:2,mimes:["video/mp4","application/javascript"],custom_renderer_present:!0}),getBidderFloor(n,e));(!p.astTags[s].reserve||o<p.astTags[s].reserve)&&(p.astTags[s].reserve=o,ProperMedia.utils.deepSetValue(p,"data_map."+ProperMedia.utils.deepAccess(p,"astTags."+s+".uuid")+".floor",o)),p.astTags[s].sizes.push(c(e)),p.request_cnt++}}),p}return{send:function(A){var C=A.bidder,O=properOps.bidder_info[C]||O,e=o(A.requests,C,O),t=ProperMedia.utils.objectValues(e.astTags)||[],T=e.data_map||{},j=e.request_cnt;if(0==t.length)return!1;var e={tags:t,sdk:{source:"pbjs",version:properOps.prebid_version},referrer_detection:{rd_ref:encodeURIComponent(properPage.url),rd_top:!0,rd_ifs:0,rd_stk:encodeURIComponent(properPage.url)},user:{}},s=(ProperMedia.utils.deepAccess(properSpecialOps,"coppa")&&(e.user.coppa=!0),[]);r.forEach(function(e){var t,i,r;ProperMedia.utils.deepAccess(e,"config.enabled")&&(t=s,i=e.getValue(),e=e.source,r=null,i)&&(r?t.push({source:e,id:i,rti_partner:r}):t.push({source:e,id:i}))}),s.length&&(e.eids=s);""!=(t=schainCheck(C))&&(e.schain=t),gdprConsent&&(e.gdpr_consent={consent_string:gdprConsent.consentString,consent_required:gdprConsent.gdprApplies},gdprConsent.addtlConsent)&&-1!==gdprConsent.addtlConsent.indexOf("~")&&(t=(t=gdprConsent.addtlConsent).substring(t.indexOf("~")+1),e.gdpr_consent.addtl_consent=t.split(".").map(e=>parseInt(e,10))),uspConsent.usPrivacy&&(e.us_privacy=uspConsent.usPrivacy),gppConsent&&(e.privacy={gpp:gppConsent.gppString,gpp_sid:gppConsent.applicableSections}),properLog.mylog(D,C),A.incrementRequestsSent(j);var E=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(properOps,"bidders.header."+C+".edge")||!1;$.ajax({url:D,requestType:"cors",method:"POST",bidder:C,edge:t,data:JSON.stringify(e),success:function(e){try{properLog.mylog(e,C);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(E,t),r=ProperMedia.utils.safeJsonParse(e);if(r&&r.error){properLog.mylog("Error: "+C+" adapter - "+r.error);var s={bidder:C,status:418,statusText:r.error+"(x"+j+")",response_ms:i};A.logBidResponseError(s)}else if(r&&r.tags&&r.tags.length)for(var o=0;o<r.tags.length;o++){var a,n=r.tags[o];if(n.ads&&n.ads[0]){var d=n.tag_id,p=n.uuid,l=n.ads[0],c=l.cpm||0,u=l.creative_id||"",g=l.adId||l.advertiser_id||"",m=new adObj({bidder:C,price:parseFloat(c),gross:parseFloat(c),tag_id:ProperMedia.utils.deepAccess(T,p+".tag_id")||d,adid:g,crid:u,request_url:D,response:n,response_ms:i,received_ts:t,ttl:O.default_bid_ttl,floor:ProperMedia.utils.deepAccess(T,p+".floor")||0});if("video"==O.demand_type){var h=ProperMedia.utils.deepAccess(l,"rtb.notify_url")||"",_=ProperMedia.utils.deepAccess(l,"rtb.video.asset_url")||"",b=(ProperMedia.utils.deepAccess(l,"rtb.video.notify_url"),ProperMedia.utils.deepAccess(l,"rtb.video.player_width")||""),f=ProperMedia.utils.deepAccess(l,"rtb.video.player_height")||"",v="",y=("instream"==O.video_type?v=h+"&redir="+encodeURIComponent(_):"outstream"==O.video_type&&(v=ProperMedia.utils.deepAccess(l,"rtb.video.content")||""),m.size=b+"x"+f,m.type="video",m.vast_tag=v,ProperMedia.utils.parseVastVpaid(m.vast_tag));m.vast_type=y.vast_type,m.vpaid=y.vpaid,m.video_type=O.video_type}else if("native"==O.demand_type){m.type="native";var P=ProperMedia.utils.deepAccess(l,"rtb.native");m.native=(k=P,{link:{url:ProperMedia.utils.deepAccess(k,"link.url")||""},assets:[{title:{text:ProperMedia.utils.deepAccess(k,"title")||""}},{img:{type:1,url:ProperMedia.utils.deepAccess(k,"main_img.url")||"",height:ProperMedia.utils.deepAccess(k,"main_img.height")||"",width:ProperMedia.utils.deepAccess(k,"main_img.width")||""}},{img:{type:2,url:ProperMedia.utils.deepAccess(k,"icon.url")||"",height:ProperMedia.utils.deepAccess(k,"icon.height")||"",width:ProperMedia.utils.deepAccess(k,"icon.width")||""}},{type:1,value:ProperMedia.utils.deepAccess(k,"advertiser.description")||""},{type:2,value:ProperMedia.utils.deepAccess(k,"sponsored")||""},{type:12,value:ProperMedia.utils.deepAccess(k,"ctatext")||""}],clickTrackers:ProperMedia.utils.deepAccess(k,"link.click_trackers")||[],imptrackers:ProperMedia.utils.deepAccess(k,"impression_trackers")||[],jstracker:ProperMedia.utils.deepAccess(k,"javascript_trackers")||[],javascriptViewability:ProperMedia.utils.deepAccess(k,"viewability.config")||""})}else{var w=ProperMedia.utils.deepAccess(l,"rtb.banner.content")||"",M=ProperMedia.utils.deepAccess(l,"rtb.banner.width")||"",I=ProperMedia.utils.deepAccess(l,"rtb.banner.height")||"",x="";try{x=ProperMedia.utils.deepAccess(l,"rtb.trackers.0.impression_urls.0")}catch(e){}w+='<div style="position:absolute;left:0px;top:0px;visibility:hidden;"><img src="'+encodeURI(x)+'"></div>',m.size=M+"x"+I,m.adcode=w}A.logBidResponse(m)}else n.nobid&&(a=new adObj({bidder:C,price:0,gross:0,tag_id:n.tag_id||"",request_url:D,response:n,response_ms:i,received_ts:t,ttl:0}),A.logNoBidResponse(a))}else{var S=new adObj({bidder:C,price:0,gross:0,tag_id:"",request_url:D,response:r,response_ms:i,received_ts:t,ttl:0});A.logNoBidResponse(S)}A.incrementBidResponseCount(j)}catch(e){throw e.bidder=C,e}var k},error:function(e){try{A.incrementBidResponseCount(j);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(E,t),r={bidder:C,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};A.logBidResponseError(r)}catch(e){throw e.bidder=C,e}}})},onBidWon:function(e,t){var i;return ProperMedia.utils.deepAccess(e,"native.javascriptViewability")&&e.adId&&(t="pbjs_adid="+e.adId+";pbjs_auc="+t.div_id,t=e.native.javascriptViewability.replace("dom_id=%native_dom_id%",t),null==(i=ProperMedia.utils.deepAccess(e,"native.javascript_trackers"))?i=t:ProperMedia.utils.isStr(i)?i=[i,t]:ProperMedia.utils.isArray(i)&&i.push(t),e.native.jstracker=i),!0},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,gvlid:32},getUserSyncs:function(){!gdprConsentModule.hasPurpose1Consent()||gppConsent&&Array.isArray(gppConsent.applicableSections)&&!gppConsent.applicableSections.every(e=>"number"==typeof e&&e<=5)||userSyncs.add({type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html",bidder:"appnexus"})},formatRequest:o}}(),bidAdapters.brightcom=function(){var c="https://brightcombid.marphezis.com/hb",u="brightcom";function r(a){var n={imps:{},request_count:0};return 0<Object.keys(a).length&&Object.keys(a).forEach(function(e){for(var t=e.split("x"),i=0;i<a[e].length;i++){n.request_count++;var r=a[e][i],s=getBidderFloor(u,e),o=(n.imps[r]||(n.imps[r]={id:r.toString(),tag_id:r.toString(),bidfloor:Math.min(s,n.imps[r])||s,banner:{format:[],ext:{viewability:"na"}}}),n.imps[r].banner.format.push({w:parseInt(t[0]),h:parseInt(t[1])}),n.imps[r].bidfloor);(!o||s<o)&&(n.imps[r].bidfloor=s)}}),n}return{bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,gvlid:883},formatRequest:r,send:function(l){var s=(t=r(l.requests)).request_count,e=ProperMedia.utils.deepAccess(properOps,"bidders.header."+u+".edge")??!1;if(!(i=ProperMedia.utils.deepAccess(properOps,"bidders.header."+u+".site_id")))return properLog.mylog("Brightcom: Error Publisher ID is Required."),!1;var t={device:{devicetype:/(ios|ipod|ipad|iphone|android)/i.test(navigator.userAgent)?1:/(smart-?tv|hbbtv|appletv|googletv|hdmi|netcast\.tv|viera|nettv|roku|\bdtv\b|sonydtv|inettvbrowser|\btv\b)/i.test(navigator.userAgent)?3:2,w:screen.width,h:screen.height},id:ProperMedia.utils.generateUUID(),imp:ProperMedia.utils.objectValues(t.imps)??[],site:{domain:properPage.domain,page:properPage.url,publisher:{id:i}},tmax:550};"boolean"==typeof gdprConsent.gdprApplies&&(ProperMedia.utils.deepSetValue(t,"regs.ext.gdpr",+gdprConsent.gdprApplies),gdprConsent.consentString)&&ProperMedia.utils.deepSetValue(t,"user.ext.consent",gdprConsent.consentString),uspConsent.usPrivacy&&ProperMedia.utils.deepSetValue(t,"regs.ext.us_privacy",uspConsent.usPrivacy),ProperMedia.utils.deepAccess(properSpecialOps,"coppa")&&ProperMedia.utils.deepSetValue(t,"regs.coppa",1),""!=(i=schainCheck(u))&&ProperMedia.utils.deepSetValue(t,"source.ext.schain",i),(i=userIds.getEidsArray())&&i.length&&ProperMedia.utils.deepSetValue(t,"user.ext.eids",i||[]);(i=userIds.getUIdsObj())&&Object.keys(i).length&&ProperMedia.utils.deepSetValue(t,"user.ext.ids",i||{}),properLog.mylog(c,u),l.incrementRequestsSent(s);var i,o=ProperMedia.utils.getTimestampMs();$.ajax({method:"POST",url:c,bidder:u,edge:e,contentType:"text/plain",withCredentials:!1,data:JSON.stringify(t),success:function(e){try{var d=ProperMedia.utils.getTimestampMs(),p=ProperMedia.utils.calcResponseMs(o,d);e&&"object"==typeof e&&e.seatbid?(properLog.mylog(e,u),Object.values(e.seatbid).forEach(function(e){Object.values(e.bid).forEach(function(e){var{impid:t,adm:i,price:r,crid:s,h:o,w:a,nurl:n}=e;n&&(i+=ProperMedia.utils.createTrackPixel(n)),l.logBidResponse(new adObj({bidder:u,size:(a??1)+"x"+(o??1),price:parseFloat(r)||0,gross:parseFloat(r)||0,adcode:i??"",tag_id:t??"",crid:s??"",request_url:c,response:e,response_ms:p,received_ts:d,ttl:6e4}))})})):(properLog.mylog("no brightcom bids returned"),l.logNoBidResponse(new adObj({bidder:u,price:0,gross:0,tag_id:"",request_url:c,response:e,response_ms:p,received_ts:d,ttl:0})))}catch(e){throw e.bidder=u,e}},error:function(e){try{l.incrementBidResponseCount(s);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(o,t),r={bidder:u,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};l.logBidResponseError(r)}catch(e){throw e.bidder=u,e}}})}}}(),bidAdapters.concert=function(){var u={rev_share:.75,bid_grouping:"page",default_bid_ttl:6e4,native_sizes:{"1030x590":"native_horizontal"}},g="https://bids.concert.io/bids/prebid",m="concert",t={mobile:[[325,204],[325,508]],desktop:[[1030,590],[620,366]]};function i(r){var e,s,o={bids:{},request_cnt:0},a=ProperMedia.utils.deepAccess(properOps,"bidders.header."+m+".site_id")||0;return a?(e=properDevice.isMobile()?"mobile":"desktop",s=t[e]||[],0<Object.keys(r).length&&Object.keys(r).forEach(function(e){for(var t,i=0;i<r[e].length;i++)"native_horizontal"==e&&(t=r[e][i],void 0===o.bids[t])&&(o.bids[t]={name:t,bidId:t,transactionId:ProperMedia.utils.generateUUID(),sizes:s,partnerId:a,adSlot:t,site:properPage.url,ref:properPage.referrer,placementId:""},o.request_cnt+=1)})):properLog.mylog("Error: Concert Site ID is Required."),o}function r(){return"true"===properStorage.getDataFromLocalStorage("c_nap",{bidderCode:m})}return{send:function(c){var s,e=i(c.requests),t=ProperMedia.utils.objectValues(e.bids)||[],o=e.request_cnt;0!=o&&(e={meta:{prebidVersion:properOps.prebid_version,pageUrl:properPage.bidder_page_url,screen:[window.screen.width,window.screen.height].join("x"),debug:1==properOps.testing_mode.ids,uid:function(){if(r()||!function(){var e=!(uspConsent.ccpaApplies&&"string"===uspConsent.usPrivacy&&"1"===uspConsent.usPrivacy[0]&&"Y"===uspConsent.usPrivacy[2].toUpperCase()),t=!gdprConsent.gdprApplies||gdprConsentModule.hasPurpose1Consent();return e||t}())return!1;var e=properStorage.getDataFromLocalStorage("c_uid",{bidderCode:m});e||(e=ProperMedia.utils.generateUUID(),properStorage.setDataInLocalStorage("c_uid",e,{bidderCode:m}));return e}(),optedOut:r(),adapterVersion:"1.0.2"},slots:t},properLog.mylog(g,m),c.incrementRequestsSent(o),s=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(properOps,"bidders.header."+m+".edge")||!1,$.ajax({url:g,method:"POST",requestType:"cors",bidder:m,edge:t,data:JSON.stringify(e),success:function(d){try{d=ProperMedia.utils.safeJsonParse(d);var e,p=ProperMedia.utils.getTimestampMs(),l=ProperMedia.utils.calcResponseMs(s,p);d&&d.bids&&0!=Object.keys(d.bids).length?(properLog.mylog(d,m),Object.keys(d.bids).forEach(function(e){var e=d.bids[e],t=e.bidId||"",i=e.cpm||0,r=(e.netRevenue,e.currency,e.width||1),s=e.height||1,o=e.ad||"",a=e.creativeId||"",n=1e3*e.ttl||u.default_bid_ttl,r=r+"x"+s,s=(u.native_sizes[r]&&(r=u.native_sizes[r]),new adObj({bidder:m,size:r,price:parseFloat(i),gross:parseFloat(i),adcode:o,tag_id:t,crid:a,request_url:g,response:e,response_ms:l,received_ts:p,ttl:n}));s.price&&s.adcode?c.logBidResponse(s):c.logNoBidResponse(s)})):(properLog.mylog("no "+m+" bids returned"),e=new adObj({bidder:m,price:0,gross:0,tag_id:"",request_url:g,response:d,response_ms:l,received_ts:p,ttl:0}),c.logNoBidResponse(e)),c.incrementBidResponseCount(o)}catch(e){throw e.bidder=m,e}},error:function(e){try{c.incrementBidResponseCount(o);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(s,t),r={bidder:m,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};c.logBidResponseError(r)}catch(e){throw e.bidder=m,e}}}))},bidderInfo:u,getUserSyncs:function(){r()||userSyncs.add({type:"iframe",url:"https://cdn.concert.io/lib/bids/sync.html",bidder:m})},formatRequest:i}}(),bidAdapters.consumable=function(){var h={rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e4},d="9969",p="1030626",_="consumable",b=1,f="https://e.serverbid.com/api/v2",l=[null,"120x90","120x90","468x60","728x90","300x250","160x600","120x600","300x100","180x150","336x280","240x400","234x60","88x31","120x60","120x240","125x125","220x250","250x250","250x90","0x0","200x90","300x50","320x50","320x480","185x185","620x45","300x125","800x250"];function i(a){var n={imps:{},data_map:{},request_cnt:0};return 0<Object.keys(a).length&&Object.keys(a).forEach(function(e){for(var t=0;t<a[e].length;t++){var i=a[e][t],r=i.split("|"),s=r[0]||"",o=r[1]||"",r=(r[2]||"").split(","),o=(void 0===n.imps[i]&&(n.imps[i]={networkId:d,siteId:p,divName:i,unitName:s,unitId:o,zoneIds:[],adTypes:[],bidfloor:0}),r instanceof Array?n.imps[i].zoneIds.concat(r.map(function(e){return parseInt(e)})):n.imps[i].zoneIds.push(parseInt(r)),s=e.split("x"),0<=(s=l.indexOf(s[0]+"x"+s[1]))&&s),r=(o&&(n.imps[i].adTypes.push(o),n.request_cnt++),getBidderFloor(_,e));(!n.imps[i].bidfloor||r<n.imps[i].bidfloor)&&(n.imps[i].bidfloor=r,n.data_map[i]=r)}}),n}function r(e,t){return""+e+(-1<e.indexOf("?")?"&":"?")+t}return l[77]="970x90",l[123]="970x250",l[43]="300x600",l[286]="970x66",l[3230]="970x280",l[429]="486x60",l[374]="700x500",l[934]="300x1050",l[1578]="320x100",l[331]="320x250",l[3301]="320x267",l[2730]="728x250",{formatRequest:i,send:function(c){p=ProperMedia.utils.deepAccess(properOps,"bidders.header."+_+".site_id")||p,ProperMedia.utils.deepAccess(properOps,"bidders.header."+_+".account_overrides.enabled")&&(d=ProperMedia.utils.deepAccess(properOps,"bidders.header."+_+".account_overrides.bidder_ids.networkId")||d);var e=i(c.requests),t=e.imps||{},u=e.data_map||{},g=e.request_cnt;if(0==g)return!1;(e={networkId:d,siteId:p,placements:ProperMedia.utils.objectValues(t)||[],time:Date.now(),url:properPage.bidder_page_url,referrer:properPage.referrer,source:[{name:"prebidjs",version:properOps.prebid_version}]}).gdpr={consent:gdprConsent.consentString,applies:"boolean"!=typeof gdprConsent.gdprApplies||gdprConsent.gdprApplies},uspConsent.usPrivacy&&(e.ccpa=uspConsent.usPrivacy),""!=(t=schainCheck(_))&&(e.schain=t),ProperMedia.utils.deepAccess(properSpecialOps,"coppa")&&(e.coppa=!0);{let e="https://sync.serverbid.com/ss/"+p+".html";gdprConsent&&gdprConsent.consentString&&(e="boolean"==typeof gdprConsent.gdprApplies?r(e,`gdpr=${Number(gdprConsent.gdprApplies)}&gdpr_consent=`+gdprConsent.consentString):r(e,"gdpr=0&gdpr_consent="+gdprConsent.consentString)),uspConsent&&uspConsent.usPrivacy&&(e=r(e,"us_privacy="+uspConsent.usPrivacy)),userSyncs.add({type:"iframe",url:e,bidder:_})}properLog.mylog(f,_),c.incrementRequestsSent(g);var m=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(properOps,"bidders.header."+_+".edge")||!1;$.ajax({url:f,method:"POST",requestType:"cors",bidder:_,edge:t,data:JSON.stringify(e),success:function(e){try{var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(m,t);if(e){var r=(e=ProperMedia.utils.safeJsonParse(e))||{};if(r&&r.decisions&&0<Object.keys(r.decisions).length)for(b in r.decisions){var s=r.decisions[b],o=ProperMedia.utils.deepAccess(s,"pricing.clearPrice")||0,a=s.width||0,n=s.height||0,d=s.adId||"",p=s.adId||"",l=ProperMedia.utils.deepAccess(s,"contents[0].body")||"";c.logBidResponse(new adObj({bidder:_,size:a+"x"+n,price:parseFloat(o),gross:parseFloat(o),adcode:l,tag_id:b,crid:d,adid:p,request_url:f,response:e,response_ms:i,received_ts:t,ttl:h.default_bid_ttl,floor:ProperMedia.utils.deepAccess(u,b)||0})),c.incrementBidResponseCount(g)}else c.logNoBidResponse(new adObj({bidder:_,price:0,gross:0,tag_id:"",request_url:f,response:r,response_ms:i,received_ts:t,ttl:0}))}else c.logNoBidResponse(new adObj({bidder:_,price:0,gross:0,tag_id:"",request_url:f,response:e,response_ms:i,received_ts:t,ttl:0}));c.incrementBidResponseCount(g)}catch(e){throw e.bidder=_,e}},error:function(e){try{c.incrementBidResponseCount(g);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(m,t),r={bidder:_,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};c.logBidResponseError(r)}catch(e){throw e.bidder=_,e}}})},bidderInfo:h}}(),bidAdapters.conversant=function(){var m={rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,gvlid:24},h="https://web.hb.ad.cpe.dotomi.com/s2s/header/24",_="conversant",a="propermedia";function r(s){var o={imps:{},data_map:{},request_cnt:0};return ProperMedia.utils.deepAccess(properOps,"bidders.header."+_+".account_overrides.enabled")&&(a=ProperMedia.utils.deepAccess(properOps,"bidders.header."+_+".account_overrides.bidder_ids.displaymanager")||a),0<Object.keys(s).length&&Object.keys(s).forEach(function(e){for(var t=0;t<s[e].length;t++){var i=s[e][t],r=(void 0===o.imps[i]&&(o.imps[i]={id:i.toString(),bidfloor:0,secure:properPage.use_ssl?1:0,displaymanager:a,displaymanagerver:"2.2.4",banner:{format:[],pos:0}}),getBidderFloor(_,e));(!o.imps[i].bidfloor||r<o.imps[i].bidfloor)&&(o.imps[i].bidfloor=r,o.data_map[i]=r),o.imps[i].banner.format.push((r=(r=e).split("x"),{w:parseInt(r[0]),h:parseInt(r[1])})),o.request_cnt++}}),o}return{send:function(u){if(!(i=ProperMedia.utils.deepAccess(properOps,"bidders.header."+_+".site_id")||0))return properLog.mylog("Error: Conversant Site ID is Required."),!1;var e=r(u.requests),t=ProperMedia.utils.objectValues(e.imps)||[],g=e.data_map||{},s=e.request_cnt,t={id:Date.now().toString(),at:1,imp:t,site:{id:i.toString(),mobile:properDevice.isMobile()?1:0,page:properPage.bidder_page_url},device:(e=navigator.language?"language":"userLanguage",{h:screen.height,w:screen.width,dnt:ProperMedia.utils.getDNT()?1:0,language:navigator[e].split("-")[0],make:navigator.vendor||"",ua:navigator.userAgent}),user:{ext:{fpc:properUser.pubcid}}};0<(i=function(){var t=userIds.getEidsArray();if(ProperMedia.utils.isArray(t)&&0<t.length){const i={"adserver.org":1,"liveramp.com":1,"criteo.com":1,"id5-sync.com":1,"parrable.com":1,"digitru.st":1,"liveintent.com":1};t.forEach(function(e){i.hasOwnProperty(e.source)&&t.push(e)})}return t}()).length&&ProperMedia.utils.deepSetValue(t,"user.ext.eids",i);""!=(e=schainCheck(_))&&ProperMedia.utils.deepSetValue(t,"source.ext.schain",e),gdprConsent&&(ProperMedia.utils.deepSetValue(t,"user.ext.consent",gdprConsent.consentString),"boolean"==typeof gdprConsent.gdprApplies)&&(t.regs={ext:{gdpr:Number(gdprConsent.gdprApplies)}}),uspConsent.usPrivacy&&ProperMedia.utils.deepSetValue(t,"regs.ext.us_privacy",uspConsent.usPrivacy),properLog.mylog(h,_),u.incrementRequestsSent(s);var o=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.deepAccess(properOps,"bidders.header."+_+".edge")||!1;$.ajax({url:h,method:"POST",requestType:"cors",bidder:_,edge:i,data:JSON.stringify(t),success:function(p){try{var e,l=ProperMedia.utils.getTimestampMs(),c=ProperMedia.utils.calcResponseMs(o,l);(p=ProperMedia.utils.safeJsonParse(p))&&p.seatbid&&0!=p.seatbid.length&&p.seatbid[0].bid&&p.seatbid[0].bid.length?(properLog.mylog(p,_),Object.keys(p.seatbid).forEach(function(d){Object.keys(p.seatbid[d].bid).forEach(function(e){var e=p.seatbid[d].bid[e],t=(e.id,e.impid||""),i=e.price||0,r=e.w||1,s=e.h||1,o=e.adm||"",a=e.crid||"",n=e.nurl||"",r=(n&&(o+=ProperMedia.utils.createTrackPixel(n),n=""),new adObj({bidder:_,size:r+"x"+s,price:parseFloat(i),gross:parseFloat(i),adcode:o,nurl:n,tag_id:t,crid:a,request_url:h,response:e,response_ms:c,received_ts:l,ttl:m.default_bid_ttl,floor:ProperMedia.utils.deepAccess(g,t)||0}));u.logBidResponse(r)})})):(properLog.mylog("no conversant bids returned"),e=new adObj({bidder:_,price:0,gross:0,tag_id:"",request_url:h,response:p,response_ms:c,received_ts:l,ttl:0}),u.logNoBidResponse(e)),u.incrementBidResponseCount(s)}catch(e){throw e.bidder=_,e}},error:function(e){try{u.incrementBidResponseCount(s);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(o,t),r={bidder:_,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};u.logBidResponseError(r)}catch(e){throw e.bidder=_,e}}})},onBidWon:function(e,t){return e.nurl&&((new Image).src=e.nurl),!0},bidderInfo:m,formatRequest:r}}(),bidAdapters.criteo=function(){var bidderInfo={rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:6e4,acceptable_ads:!0,gvlid:91},bidder="criteo",networkId=8388,ENDPOINT_URL="https://bidder.criteo.com/cdb",FAST_BID_VERSION_CURRENT=134,PUBLISHER_TAG_URL="https://static.criteo.net/js/ld/publishertag.prebid."+FAST_BID_VERSION_CURRENT+".js",FAST_BID_PUBKEY_E=65537,FAST_BID_PUBKEY_N="ztQYwCE5BU7T9CDM5he6rKoabstXRmkzx54zFPZkWbK530dwtLBDeaWBMxHBUT55CYyboR/EZ4efghPi3CoNGfGWezpjko9P6p2EwGArtHEeS4slhu/SpSIFMjG6fdrpRoNuIAMhq1Z+Pr/+HOd1pThFKeGFr2/NhtAg+TXAzaU=",ADAPTER_VERSION=34,PROFILE_ID_INLINE=207,PROFILE_ID_PUBLISHERTAG=185,SID_COOKIE_NAME="cto_sid",IDCPY_COOKIE_NAME="cto_idcpy",LWID_COOKIE_NAME="cto_lwid",OPTOUT_COOKIE_NAME="cto_optout",BUNDLE_COOKIE_NAME="cto_bundle",GUID_RETENTION_TIME_HOUR=9360,OPTOUT_RETENTION_TIME_HOUR=43200,adblock_zones={"160x600":1697406,"728x90":1697405,"300x250":1697404,"320x50":1697453},NATIVE_DEF_REQ={main_image:{required:!0,sizes:[]},icon:{required:!0,sizes:[{width:50,height:50}]},clickUrl:{required:!0},title:{required:!0,len:80},sponsored_by:{required:!0},ctatext:{required:!1}};function parseSize(e){e=e.split("x");return[parseInt(e[0]),parseInt(e[1])]}function formatRequest(a,n,d,p){var l={slots:{},request_cnt:0};return 0<Object.keys(a).length&&Object.keys(a).forEach(function(e){for(var t=0;t<a[e].length;t++){var i=a[e][t],r=parseSize(e),s=i.split("-"),s=properUser.checkAdBlock()?adblock_zones[e]:s[0],o="display"==d.demand_type?"banner":d.demand_type;if(!s)return;void 0===l.slots[i]&&(l.slots[i]={impid:i,auctionId:p,transactionid:ProperMedia.utils.generateUUID()},ProperMedia.utils.deepSetValue(l,"slots."+i+".ext.floors."+o,{}),"display"!=d.demand_type&&"native"!=d.demand_type||(l.slots[i].sizes=[]),"native"==d.demand_type?(l.slots[i].zoneid=s,l.slots[i].native=!0):"video"==d.demand_type&&(l.slots[i].video={playersizes:[r],mimes:["video/mp4","application/javascript"],protocols:[2,3,5,6],maxduration:30,api:[1,2],skip:0,placement:"outstream"==d.video_type?3:1,minduration:5,playbackmethod:[6],startdelay:0},l.slots[i].zoneid=s)),"display"!=d.demand_type&&"native"!=d.demand_type||l.slots[i].sizes.push(r),ProperMedia.utils.deepSetValue(l,"slots."+i+".ext.floors."+o+"."+e,getBidderFloor(n,e)),l.request_cnt++}}),l}function formatCriteoRequest(a,n,d,p,l){var c={bids:{},slots:{},request_cnt:0};return 0<Object.keys(a).length&&Object.keys(a).forEach(function(e){for(var t=0;t<a[e].length;t++){var i,r=a[e][t],s=parseSize(e),o=r.split("-")[0];void 0===c.slots[r]&&(c.bids[r]={bidder:n,params:{}},c.slots[r]={adUnitCode:r.toString(),auctionId:p,bidId:ProperMedia.utils.makeid(14),bidder:"criteo",bidderRequestId:l,userId:userIds.getUIdsObj(),userIdAsEids:userIds.getEidsArray(),schain:{},mediaTypes:{},params:{},src:"client",transactionId:ProperMedia.utils.generateUUID()},c.slots[r].getFloor=function(e={currency:"USD",mediaType:"*",size:"*"}){return getBidderFloor(n,e.size.join("x"))},""!=(i=schainCheck(n))&&ProperMedia.utils.deepSetValue(c,"slots."+r+".schain",i),"display"==d.demand_type&&(c.slots[r].mediaTypes={banner:{sizes:[]}},c.slots[r].params.networkId=networkId,c.bids[r].params.networkId=networkId),"native"==d.demand_type?(c.slots[r].mediaTypes={native:NATIVE_DEF_REQ},c.slots[r].params.zoneId=o,c.bids[r].params.zoneId=o):"video"==d.demand_type&&(c.slots[r].mediaTypes={video:{playerSize:s,mimes:["video/mp4","application/javascript"],protocols:[2,3,5,6],maxduration:30,api:[1,2],skip:0,placement:"outstream"==d.video_type?3:1,minduration:5,playbackmethod:[6],startdelay:0}},c.slots[r].params.zoneId=o,c.bids[r].params.zoneId=o)),"display"==d.demand_type&&c.slots[r].mediaTypes.banner.sizes.push(s),"native"==d.demand_type&&c.slots[r].mediaTypes.native.main_image.sizes.push(s),c.request_cnt++}}),c}function send(u){var e,g=u.bidder,m=properOps.bidder_info[g]||m,h=ENDPOINT_URL,s=0,t=[],i=ProperMedia.utils.deepAccess(u,"auction.id"),r=(ProperMedia.utils.deepAccess(properOps,"bidders.header."+g+".account_overrides.enabled")&&(networkId=ProperMedia.utils.deepAccess(properOps,"bidders.header."+g+".account_overrides.bidder_ids.networkId")||networkId),publisherTagAvailable()||(window.Criteo=window.Criteo||{},window.Criteo.usePrebidEvents=!1,tryGetCriteoFastBid(),setTimeout(function(){var e=document.createElement("script");e.src=PUBLISHER_TAG_URL,e.async=!0,e.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(e)},1200)),[]),o=userIds.getUserIdData();if(ProperMedia.utils.deepAccess(o,"emailHashes.md5")&&r.push({id:ProperMedia.utils.deepAccess(o,"emailHashes.md5"),atype:3,ext:{stype:"hemmd5"}}),ProperMedia.utils.deepAccess(o,"emailHashes.sha256")&&r.push({id:ProperMedia.utils.deepAccess(o,"emailHashes.sha256"),atype:3,ext:{stype:"hemsha256"}}),r.length&&(e={data:{eids:[{source:properPage.domain,uids:r}]}}),publisherTagAvailable()){properLog.mylog("Criteo: Using FastBid");var o=formatCriteoRequest(u.requests,g,m,i,a),t=ProperMedia.utils.objectValues(o.slots)||[],r=ProperMedia.utils.objectValues(o.bids)||[],a=ProperMedia.utils.makeid(14),a={auctionId:i,auctionStart:Date.now(),bidderCode:g,bidderRequestId:a,bids:r,gdprConsent:{consentString:gdprConsent.consentString||"",vendorData:gdprConsent.vendorData||{},gdprApplies:!!gdprConsent.gdprApplies},uspConsent:uspConsent.usPrivacy||"",refererInfo:{canonicalUrl:properPage.canonical_url,numIframes:0,reachedTop:!0,referer:properPage.referrer},userExt:e,coppa:"undefined"!==ProperMedia.utils.deepAccess(properSpecialOps,"coppa")?!!ProperMedia.utils.deepAccess(properSpecialOps,"coppa"):void 0},r=new Criteo.PubTag.Adapters.Prebid(PROFILE_ID_PUBLISHERTAG,ADAPTER_VERSION,t,a,properOps.prebid_version),h=r.buildCdbUrl(),n=r.buildCdbRequest(),s=o.request_cnt}else{properLog.mylog("Criteo: Sovrn Building Request");a=buildContext(),r=(h=buildCdbUrl(a),formatRequest(u.requests,g,m,i)),o=ProperMedia.utils.objectValues(r.slots)||[];if(s=r.request_cnt,0==o.length)return!1;var n={publisher:{url:properPage.bidder_page_url},slots:o,regs:{coppa:"undefined"!==ProperMedia.utils.deepAccess(properSpecialOps,"coppa")?Number(!!ProperMedia.utils.deepAccess(properSpecialOps,"coppa")):void 0}},a=("display"==m.demand_type&&(n.publisher.networkid=parseInt(networkId)),schainCheck(g));""!=a&&ProperMedia.utils.deepSetValue(n,"source.ext.schain",a),e&&ProperMedia.utils.deepSetValue(n,"user.ext",e),gdprConsent&&(n.gdprConsent={},void 0!==gdprConsent.gdprApplies&&(n.gdprConsent.gdprApplies=!!gdprConsent.gdprApplies),n.gdprConsent.version=gdprConsent.apiVersion,void 0!==gdprConsent.consentString)&&(n.gdprConsent.consentData=gdprConsent.consentString),uspConsent.usPrivacy&&ProperMedia.utils.deepSetValue(n,"user.uspIab",uspConsent.usPrivacy)}var d={method:"POST",url:"request_url",data:n,bidRequests:t},_=(properLog.mylog(h,g),u.incrementRequestsSent(s),ProperMedia.utils.getTimestampMs());$.ajax({url:h,requestType:"cors",method:"POST",data:JSON.stringify(n),success:function(e){try{properLog.mylog(e,g);var t,i,r,p=ProperMedia.utils.getTimestampMs(),l=ProperMedia.utils.calcResponseMs(_,p),c=ProperMedia.utils.safeJsonParse(e);publisherTagAvailable()?(t=Criteo.PubTag.Adapters.Prebid.GetAdapter(d))&&(i=t.interpretResponse(c,d))&&0<i.length&&i.forEach(function(e){var t=e.impid||"",i=e.cpm||0,r=e.width||0,s=e.height||0,o=e.ad||"",a=e.dealId||"",n=e.creativeId||"",d=1e3*e.ttl||m.default_bid_ttl,r=new adObj({bidder:g,size:r+"x"+s,price:parseFloat(i),gross:parseFloat(i),tag_id:t,dealid:a,crid:n,request_url:h,response:e,response_ms:l,received_ts:p,ttl:d});"native"==m.demand_type?(r.type="native",s=e.native||{},r.native=buildNative(s),"2x2"==r.size&&(r.size="1x1")):"video"==m.demand_type?(i=e.vastUrl,r.type="video",r.vast_tag=i,t=ProperMedia.utils.parseVastVpaid(r.vast_tag),r.vast_type=t.vast_type,r.vpaid=t.vpaid,r.video_type=m.video_type):r.adcode=o,u.logBidResponse(r)}):c&&c.slots&&0<Object.keys(c.slots).length?Object.keys(c.slots).forEach(function(e){var e=c.slots[e],t=e.impid||"",i=(e.zoneid,e.cpm||0),r=e.width||0,s=e.height||0,o=e.creative||"",a=e.deal||"",n=e.creativecode||"",d=1e3*e.ttl||m.default_bid_ttl,r=new adObj({bidder:g,size:r+"x"+s,price:parseFloat(i),gross:parseFloat(i),tag_id:t,dealid:a,crid:n,request_url:h,response:e,response_ms:l,received_ts:p,ttl:d});"native"==m.demand_type?(r.type="native",s=e.native||{},r.native=buildNative(s),"2x2"==r.size&&(r.size="1x1")):"video"==m.demand_type?(i=e.displayurl,r.type="video",r.vast_tag=i,t=ProperMedia.utils.parseVastVpaid(r.vast_tag),r.vast_type=t.vast_type,r.vpaid=t.vpaid,r.video_type=m.video_type):r.adcode=o,u.logBidResponse(r)}):(r=new adObj({bidder:g,price:0,gross:0,tag_id:"",request_url:h,response:c,response_ms:l,received_ts:p,ttl:0}),u.logNoBidResponse(r)),u.incrementBidResponseCount(s)}catch(e){throw e.bidder=g,e}},error:function(e){try{u.incrementBidResponseCount(s);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(_,t),r={bidder:g,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};u.logBidResponseError(r)}catch(e){throw e.bidder=g,e}}})}function buildNative(e){return{link:{url:ProperMedia.utils.deepAccess(e,"products.0.click_url")||""},assets:[{title:{text:ProperMedia.utils.deepAccess(e,"products.0.title")||""}},{img:{type:1,url:ProperMedia.utils.deepAccess(e,"products.0.image.url")||""}},{img:{type:2,url:ProperMedia.utils.deepAccess(e,"advertiser.logo.url")||""}},{type:1,value:ProperMedia.utils.deepAccess(e,"advertiser.description")||""},{type:2,value:ProperMedia.utils.deepAccess(e,"products.0.description")||""},{type:12,value:ProperMedia.utils.deepAccess(e,"products.0.call_to_action")||""}],imptrackers:(ProperMedia.utils.deepAccess(e,"impression_pixels")||[]).map(function(e){return e.url})}}function buildNativeFromPrebidNativeAd(e){ProperMedia.utils.deepAccess(e,"clickUrl"),ProperMedia.utils.deepAccess(e,"title"),ProperMedia.utils.deepAccess(e,"image"),ProperMedia.utils.deepAccess(e,"icon.url"),ProperMedia.utils.deepAccess(e,"sponsoredBy"),ProperMedia.utils.deepAccess(e,"body"),ProperMedia.utils.deepAccess(e,"cta"),ProperMedia.utils.deepAccess(e,"impressionTrackers")}function publisherTagAvailable(){return"undefined"!=typeof Criteo&&Criteo.PubTag&&Criteo.PubTag.Adapters&&Criteo.PubTag.Adapters.Prebid}function tryGetCriteoFastBid(){try{var fastBidStorageKey="criteo_fast_bid",hashPrefix="// Hash: ",fastBidFromStorage=properStorage.getDataFromLocalStorage(fastBidStorageKey,{bidderCode:bidder,gvlid:bidderInfo.gvlid});if(null!==fastBidFromStorage){var firstLineEndPosition=fastBidFromStorage.indexOf("\n"),firstLine=fastBidFromStorage.substr(0,firstLineEndPosition).trim();if(firstLine.substr(0,hashPrefix.length)!==hashPrefix)properLog.mylog("No hash found in FastBid"),properStorage.removeDataFromLocalStorage(fastBidStorageKey,{bidderCode:bidder,gvlid:bidderInfo.gvlid});else{var publisherTagHash=firstLine.substr(hashPrefix.length),publisherTag=fastBidFromStorage.substr(firstLineEndPosition+1);try{properLog.mylog("Using Criteo FastBid"),eval(publisherTag)}catch(e){console.error(e)}}}}catch(e){properLog.mylog("Criteo: Unable to get fast bid")}}function buildContext(){return{url:properPage.url,debug:"1"===ProperMedia.utils.deepAccess(properPage,"get_vars.pbt_debug"),noLog:"1"===ProperMedia.utils.deepAccess(properPage,"get_vars.pbt_nolog"),amp:!0}}function buildCdbUrl(e){var t=ENDPOINT_URL,e=(t=(t=(t=(t+="?profileId="+PROFILE_ID_INLINE)+("&av="+String(ADAPTER_VERSION)))+("&wv="+encodeURIComponent(properOps.prebid_version)))+("&cb="+String(Math.floor(99999999999*Math.random()))),e.amp&&(t+="&im=1"),e.debug&&(t+="&debug=1"),e.noLog&&(t+="&nolog=1"),readFromAllStorages(BUNDLE_COOKIE_NAME));e&&(t+="&bundle="+e);readFromAllStorages(OPTOUT_COOKIE_NAME)&&(t+="&optout=1");e=readFromAllStorages(SID_COOKIE_NAME),e&&(t+="&sid="+e),e=readFromAllStorages(IDCPY_COOKIE_NAME);return e&&(t+="&idcpy="+e),t}function getUserSyncs(){var e,i,t="criteoPrebidAdapter";return gdprConsent.gdprApplies&&gdprConsentModule.hasPurpose1Consent()&&((e=[]).push("origin="+t),e.push("topUrl="+properPage.domain),gdprConsent&&(gdprConsent.gdprApplies&&e.push("gdpr="+(1==gdprConsent.gdprApplies?1:0)),gdprConsent.consentString)&&e.push("gdpr_consent="+gdprConsent.consentString),uspConsent.ccpaApplies&&uspConsent.usPrivacy&&e.push("us_privacy="+uspConsent.usPrivacy),i=Math.random().toString(),t={bundle:readFromAllStorages(BUNDLE_COOKIE_NAME),cw:properStorage.cookiesAreEnabled({bidderCode:bidder,gvlid:bidderInfo.gvlid}),localWebId:readFromAllStorages(LWID_COOKIE_NAME),lsw:properStorage.localStorageIsEnabled({bidderCode:bidder,gvlid:bidderInfo.gvlid}),optoutCookie:readFromAllStorages(OPTOUT_COOKIE_NAME),origin:t,requestId:i,secureIdCookie:readFromAllStorages(SID_COOKIE_NAME),tld:properPage.domain,topUrl:properPage.domain,uid:readFromAllStorages(IDCPY_COOKIE_NAME),version:"$prebid.version$".replace(/\./g,"_")},window.addEventListener("message",function e(t){t.data&&"https://gum.criteo.com"==t.origin&&t.data.requestId===i&&(this.removeEventListener("message",e),t.stopImmediatePropagation(),(t=t.data).optout?(deleteFromAllStorages(IDCPY_COOKIE_NAME),deleteFromAllStorages(SID_COOKIE_NAME),deleteFromAllStorages(BUNDLE_COOKIE_NAME),deleteFromAllStorages(LWID_COOKIE_NAME),saveOnAllStorages(OPTOUT_COOKIE_NAME,!0,OPTOUT_RETENTION_TIME_HOUR)):(t.uid&&saveOnAllStorages(IDCPY_COOKIE_NAME,t.uid,GUID_RETENTION_TIME_HOUR),t.bundle&&saveOnAllStorages(BUNDLE_COOKIE_NAME,t.bundle,GUID_RETENTION_TIME_HOUR),t.removeSid?deleteFromAllStorages(SID_COOKIE_NAME):t.sid&&saveOnAllStorages(SID_COOKIE_NAME,t.sid,GUID_RETENTION_TIME_HOUR)))},!0),t=JSON.stringify(t).replace(/"/g,"%22"),userSyncs.add({type:"iframe",url:`https://gum.criteo.com/syncframe?${e.join("&")}#`+t,bidder:bidder})),[]}function readFromAllStorages(e){var t=properStorage.getCookie(e,{bidderCode:bidder,gvlid:bidderInfo.gvlid}),e=properStorage.getDataFromLocalStorage(e,{bidderCode:bidder,gvlid:bidderInfo.gvlid});return t||e||void 0}function saveOnAllStorages(e,t,i){var r=new Date,i=(r.setTime(r.getTime()+60*i*60*1e3),"expires="+r.toUTCString());properStorage.setCookie(e,t,i,null,null,{bidderCode:bidder,gvlid:bidderInfo.gvlid}),properStorage.setDataInLocalStorage(e,t,{bidderCode:bidder,gvlid:bidderInfo.gvlid})}function deleteFromAllStorages(e){properStorage.setCookie(e,"",0,null,null,{bidderCode:bidder,gvlid:bidderInfo.gvlid}),properStorage.removeDataFromLocalStorage(e,{bidderCode:bidder,gvlid:bidderInfo.gvlid})}return{send:send,bidderInfo:bidderInfo,getUserSyncs:getUserSyncs,formatRequest:formatRequest}}(),bidAdapters.emx=function(){var i=[{key:"idl_env",source:"liveramp.com",rtiPartner:"idl",queryParam:"idl"},{key:"uid2.id",source:"uidapi.com",rtiPartner:"UID2",queryParam:"uid2"}];function r(o,a,n){var d={imps:{},data_map:{},request_cnt:0};return 0<Object.keys(o).length&&Object.keys(o).forEach(function(e){for(var t=0;t<o[e].length;t++){var i,r=o[e][t],s=(void 0===d.imps[r]&&(s=ProperMedia.utils.deepAccess(properOps,"bidders.header."+a+".site_id")||r,i=e.split("x"),d.imps[r]={id:r.toString(),tid:ProperMedia.utils.generateUUID(),tagid:s.toString(),secure:properPage.use_ssl?1:0,bidfloor:0,bidfloorcur:"USD"},"display"==n.demand_type?d.imps[r].banner={w:parseInt(i[0])||0,h:parseInt(i[1])||0,format:[]}:"video"==n.demand_type&&(d.imps[r].video={topframe:1,skippable:1,linearity:"outstream"==n.video_type?2:1,minduration:10,maxduration:30,playback_methods:["auto_play_sound_off"],api:[1,2],mimes:["video/mp4","application/javascript"],protocols:[2,3,5,6],w:parseInt(i[0])||0,h:parseInt(i[1])||0})),getBidderFloor(a,e));(!d.imps[r].bidfloor||s<d.imps[r].bidfloor)&&(d.imps[r].bidfloor=s,d.data_map[r]=s),"display"==n.demand_type&&d.imps[r].banner.format.push((i=(i=e).split("x"),{w:parseInt(i[0]),h:parseInt(i[1])})),d.request_cnt++}}),d}return{send:function(c){var u=c.bidder,g=properOps.bidder_info[u]||g,e=r(c.requests,u,g),m=ProperMedia.utils.objectValues(e.imps)||[],h=e.data_map||{},s=e.request_cnt,_="https://hb.emxdgt.com?t=1000&ts="+Date.now(),e={id:Date.now().toString(),imp:m,site:{domain:ProperMedia.utils.getPageDomain(),page:properPage.bidder_page_url,ref:properPage.referrer},device:{ua:navigator.userAgent,js:1,dnt:ProperMedia.utils.getDNT()?1:0,h:properPage.height,w:properPage.width,devicetype:properDevice.isMobile()?1:2,language:navigator.language||navigator.browserLanguage||navigator.userLanguage||navigator.systemLanguage},cur:"USD",version:"1.5.1"};t=userIds.getUIdsObj(),0<(t=i.map(function(r){return function({key:e,source:t,rtiPartner:i}){e=r[e];return e?{source:t,uids:[{id:e,ext:{rtiPartner:i}}]}:null}}(t)).filter(function(e){return e})).length&&ProperMedia.utils.deepSetValue(e,"user.ext.eids",t);""!=(t=schainCheck(u))&&ProperMedia.utils.deepSetValue(e,"source.ext.schain",t),ProperMedia.utils.deepSetValue(e,"regs.ext.gdpr",Number(gdprConsent.gdprApplies)),gdprConsent.gdprApplies&&ProperMedia.utils.deepSetValue(e,"user.ext.consent",gdprConsent.consentString),uspConsent.usPrivacy&&(e.us_privacy=uspConsent.usPrivacy),properLog.mylog(_,u),c.incrementRequestsSent(s);var o=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(properOps,"bidders.header."+u+".edge")||!1;$.ajax({url:_,method:"POST",requestType:"cors",bidder:u,edge:t,data:JSON.stringify(e),success:function(d){try{d=ProperMedia.utils.safeJsonParse(d);var e,p=ProperMedia.utils.getTimestampMs(),l=ProperMedia.utils.calcResponseMs(o,p);d&&d.seatbid&&0<d.seatbid.length&&d.seatbid[0].bid&&0<d.seatbid[0].bid.length?(properLog.mylog(d,u),Object.keys(d.seatbid).forEach(function(t){var t=d.seatbid[t].bid[0],e=t.id||"",i=(t.crid||t.id,t.price||0),r=t.w||1,s=t.h||1,o=t.adm||"",a=t.crid||"",n=1e3*t.ttl||g.default_bid_ttl,r=(1==r&&1==s&&("display"==g.demand_type&&ProperMedia.utils.deepAccess(m,"0.banner.w")&&ProperMedia.utils.deepAccess(m,"0.banner.h")?(r=ProperMedia.utils.deepAccess(m,"0.banner.w"),s=ProperMedia.utils.deepAccess(m,"0.banner.h")):"video"==g.demand_type&&ProperMedia.utils.deepAccess(m,"0.video.w")&&ProperMedia.utils.deepAccess(m,"0.videor.h")&&(r=ProperMedia.utils.deepAccess(m,"0.video.w"),s=ProperMedia.utils.deepAccess(m,"0.videor.h"))),new adObj({bidder:u,size:r+"x"+s,price:parseFloat(i),gross:parseFloat(i),tag_id:e,crid:a,request_url:_,response:t,response_ms:l,received_ts:p,ttl:n,floor:ProperMedia.utils.deepAccess(h,e)||0}));if("video"==g.demand_type){s=o,i=(r.type="video",r.vast_tag=s,ProperMedia.utils.parseVastVpaid(r.vast_tag));r.vast_type=i.vast_type,r.vpaid=i.vpaid,r.video_type=g.video_type}else{try{o=decodeURIComponent(o)||""}catch(e){o=t.adm||""}r.adcode=o}c.logBidResponse(r)})):(e=new adObj({bidder:u,price:0,gross:0,tag_id:"",request_url:_,response:d,response_ms:l,received_ts:p,ttl:0}),c.logNoBidResponse(e)),c.incrementBidResponseCount(s)}catch(e){throw e.bidder=u,e}},error:function(e){try{c.incrementBidResponseCount(s);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(o,t),r={bidder:u,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};c.logBidResponseError(r)}catch(e){throw e.bidder=u,e}}})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,gvlid:183},getUserSyncs:function(){var e=[],t="https://biddr.brealtime.com/check.html";gdprConsent&&"string"==typeof gdprConsent.consentString&&("boolean"==typeof gdprConsent.gdprApplies?e.push(["gdpr",Number(gdprConsent.gdprApplies)],["gdpr_consent",gdprConsent.consentString]):e.push(["gdpr_consent",gdprConsent.consentString])),uspConsent&&uspConsent.usPrivacy&&e.push(["us_privacy",uspConsent.usPrivacy]),0<e.length&&(t+="?"+e.map(function(e){e.join("=")}).join("&")),userSyncs.add({type:"iframe",url:t,bidder:"emx"})},formatRequest:r}}(),bidAdapters.gumgum=function(){var d={t:0,rq:8,pbv:properOps.prebid_version},I=null,p=null,l="gumgum";function t(s,o,a){var n={imps:{}};return 0<Object.keys(s).length&&Object.keys(s).forEach(function(e){for(var t=0;t<s[e].length;t++){var i=s[e][t],r=(void 0===n.imps[i]&&(r=i.split("-"),n.imps[i]={bidfloor:0,sizes:[],tag_id:i,native_size:""},ProperMedia.utils.deepAccess(a,"native_sizes."+e)?(n.imps[i].type=2,p||(n.imps[i].zoneId=r[0]||"",n.imps[i].native_size=e)):(n.imps[i].type=3,p?n.imps[i].slotId=r[0]||"":(n.imps[i].zoneId=r[0]||"",n.imps[i].slotId=r[1]||""))),getBidderFloor(o,e));(!n.imps[i].bidfloor||r<n.imps[i].bidfloor)&&(n.imps[i].bidfloor=r),3==n.imps[i].type&&n.imps[i].sizes.push(function(e,t){try{var i=(e=ProperMedia.utils.deepAccess(t,"native_sizes."+e)||e).split("x");return[parseInt(i[0]),parseInt(i[1])]}catch(e){return!1}}(e))}}),n}return{send:function(P){var s,w=P.bidder,M=properOps.bidder_info[w]||M,r=(ProperMedia.utils.deepAccess(properOps,"bidders.header."+w+".site_id")&&(e=(ProperMedia.utils.deepAccess(properOps,"bidders.header."+w+".site_id")||"").split("-"),p=properDevice.isMobile()&&2==e.length?e[1]:e[0]),function(e){function r(e){return new RegExp(`[?#&](${e}=(.*?))($|&)`,"i")}var t,i,s,o={};try{s=window.top,i=s.screen,t=e||""}catch(e){return o}o={vw:s.innerWidth,vh:s.innerHeight,sw:i.width,sh:i.height,pu:function(i){return["ggad","ggdeal"].reduce((e,t)=>{t=i.match(r(t));return e=t&&(t[1]&&(e=e.replace(t[1],"")),t[3])?e.replace(t[3],""):e},i)}(t),ce:properStorage.cookiesAreEnabled({bidderCode:l}),dpr:s.devicePixelRatio||1,jcsi:JSON.stringify(d),ogu:function(){var e=(document&&document.getElementsByTagName("head")[0]).querySelector("meta[property='og:url']");return e?e.content:null}()},(e=function(){var e=window.navigator&&(window.navigator.mozConnection||window.navigator.webkitConnection);return(e=e&&(e.downlink||e.bandwidth))?Math.round(1024*e):null}())&&(o.ns=e);(i=(t.match(r("ggad"))||[0,0,0])[2])&&(o[isNaN(i)?"eAdBuyId":"adBuyId"]=i);(s=(t.match(r("ggdeal"))||[0,0,0])[2])&&(o.ggdeal=s);return o}(properPage.url)),o=(userId=userIds.getUIdsObj(),s=["uid","eid","lipbid"],Object.keys(userId).reduce(function(e,t){var i=userId[t];switch(typeof i){case"string":e[t]=i;break;case"object":var r=s.filter(function(e){return void 0!==i[e]});r.length&&(e[t]=i[r[0]])}return e},{})),a=schainCheck(w),e=t(P.requests,w,M),n=ProperMedia.utils.objectValues(e.imps)||[];0<Object.keys(n).length&&Object.keys(n).forEach(function(e){var t,_=n[e],e=new Date,i={pi:_.type,lt:e.getTime(),to:e.getTimezoneOffset()};for(t in p?i.pubId=p:i.t=_.zoneId,3==_.type&&(e=function(e){var r=0,s=0,o=0;return e.forEach(function(e){var[e,t]=e,i=t<e?e:t;(o<i||i===o&&r<=e&&s<=t)&&(o=i,r=e,s=t)}),[r,s]}(_.sizes),i.maxw=e[0],i.maxh=e[1],i.si=_.slotId||"",i.bf=_.sizes.reduce(function(e,t){return e+((e.length?",":"")+t.join("x"))},"")),I&&(i.pv=I),_.bidfloor&&(i.fp=_.bidfloor||0,i.fpc="USD"),o)i[t]=o[t];gdprConsent&&(i.gdprApplies=gdprConsent.gdprApplies?1:0),i.gdprApplies&&(i.gdprConsent=gdprConsent.consentString),uspConsent.usPrivacy&&(i.uspConsent=uspConsent.usPrivacy),ProperMedia.utils.deepAccess(properSpecialOps,"coppa")&&(i.coppa=1),a&&a.nodes&&(i.schain=function(e){var t=e.ver+","+e.complete;return e.nodes.map(function(e){t=(t=(t=(t=(t=(t+=`!${encodeURIComponent(e.asi||"")},`)+encodeURIComponent(e.sid||"")+",")+encodeURIComponent(e.hp||"")+",")+encodeURIComponent(e.rid||"")+",")+encodeURIComponent(e.name||"")+",")+encodeURIComponent(e.domain||"")}),t}(a)),i=ProperMedia.utils.mergeObject(i,r);var b="https://g2.gumgum.com/hbid/imp?"+ProperMedia.utils.formatQueryString(i),f=_.sizes.length,v={id:ProperMedia.utils.makeid(14),tmax:3e3,tId:ProperMedia.utils.generateUUID(),pi:i.pi,sizes:_.sizes,url:b,method:"GET",data:i},y=(properLog.mylog(b,w),P.incrementRequestsSent(f),ProperMedia.utils.getTimestampMs()),e=ProperMedia.utils.deepAccess(properOps,"bidders.header."+w+".edge")||!1;$.ajax({url:b,method:"GET",bidder:w,edge:e,success:function(e){try{var t,i,r,s,o,a,n,d,p,l,c,u=ProperMedia.utils.getTimestampMs(),g=ProperMedia.utils.calcResponseMs(y,u);e?(e=ProperMedia.utils.safeJsonParse(e))&&Object.keys(e).length&&!e.err?(properLog.mylog(e,w),i=(t=e.ad||{}).price||0,r=t.id||"",s=t.markup||"",o=t.width||0,a=t.height||0,n=e.cw||"",d=ProperMedia.utils.deepAccess(e,"meta.adomain")||[],n&&(s=n?(m=n,h=Object.assign({},e,{bidRequest:v}),m.replace("AD_JSON",ProperMedia.utils.b64EncodeUnicode(JSON.stringify(h)))):s),I=ProperMedia.utils.deepAccess(e,"pag.pvid")||null,p=ProperMedia.utils.deepAccess(_,"native_size")||o+"x"+a,l=new adObj({bidder:w,price:parseFloat(i),gross:parseFloat(i),adcode:s,tag_id:_.tag_id,size:p,crid:r,adomain:d,request_url:b,response:t,response_ms:g,received_ts:u,ttl:M.default_bid_ttl,floor:_.bidfloor||0}),P.logBidResponse(l)):(c="No "+w+" bids returned. "+(ProperMedia.utils.deepAccess(e,"err")?e.err:""),properLog.mylog(c),P.logNoBidResponse(new adObj({bidder:w,price:0,gross:0,tag_id:"",request_url:b,response:e,response_ms:g,received_ts:u,ttl:0}))):P.logNoBidResponse(new adObj({bidder:w,price:0,gross:0,tag_id:"",request_url:b,response:e,response_ms:g,received_ts:u,ttl:0})),P.incrementBidResponseCount(f)}catch(e){throw e.bidder=w,e}var m,h},error:function(e){try{P.incrementBidResponseCount(f);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(y,t),r={bidder:w,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};P.logBidResponseError(r)}catch(e){throw e.bidder=w,e}}})})},bidderInfo:{rev_share:1,bid_grouping:"slot",default_bid_ttl:6e4,native_sizes:{sticky_horizontal:"1x1",native_horizontal:"1x1"},gvlid:61},formatRequest:t,removeCreative:function(e){try{var t,i=window.top.document.getElementById("GG_PXS");i&&(t=i.parentNode)&&t.parentNode.removeChild(t)}catch(e){console.error(e)}}}}(),bidAdapters.ix=function(){var e={rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,gvlid:10},i="ix_features",c=null,a={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID","id5-sync.com":"","crwdcntrl.net":"","epsilon.com":"","audigent.com":"","pubcid.org":"","trustpid.com":""};let n={gvlid:e.gvlid,bidderCode:"ix"};const I={featureToggles:{},isFeatureEnabled:function(e){return ProperMedia.utils.deepAccess(this.featureToggles,`features.${e}.activated`)},getFeatureToggles:function(){var e;properStorage.localStorageIsEnabled(n)&&(e=ProperMedia.utils.safeJsonParse(properStorage.getDataFromLocalStorage(i,n)),ProperMedia.utils.deepAccess(e,"expiry")&&e.expiry>=(new Date).getTime()?this.featureToggles=e:this.clearFeatureToggles())},setFeatureToggles:function(e){var t=new Date,e=ProperMedia.utils.deepAccess(e,"ext.features");e&&(this.featureToggles={expiry:t.setHours(t.getHours()+1),features:e},properStorage.localStorageIsEnabled(n))&&properStorage.setDataInLocalStorage(i,JSON.stringify(this.featureToggles),n)},clearFeatureToggles:function(){this.featureToggles={},properStorage.localStorageIsEnabled(n)&&properStorage.removeDataFromLocalStorage(i,n)}};function d(n,d,p){var l={imps:[],index_bids:{},request_cnt:0};return 0<Object.keys(n).length&&Object.keys(n).forEach(function(e){for(var t=0;t<n[e].length;t++){var i,r,s,o,a=n[e][t];void 0===l.imps[a]&&(i=a+"-"+ProperMedia.utils.makeid(5),r=e.split("x"),s=getBidderFloor(d,e),o={id:String(i),bidfloor:s,bidfloorcur:"USD",ext:{sid:i,siteID:String(c)}},"display"==p.demand_type?o.banner={topframe:1,format:[{w:parseInt(r[0])||0,h:parseInt(r[1])||0,ext:{bidfloor:s}}]}:"video"==p.demand_type&&(o.video={placement:1,topframe:1,skip:1,linearity:1,minduration:10,maxduration:30,playbackmethod:[2],api:[1,2],mimes:["video/mp4","application/javascript"],protocols:[2,3,5,6],w:parseInt(r[0])||0,h:parseInt(r[1])||0}),"outstream"==p.video_type&&(o.video.placement=4),l.imps.push(o),l.index_bids[i]={width:parseInt(r[0]),height:parseInt(r[1]),tag_id:a,floor:s}),l.request_cnt++}}),l}return{send:function(b){var f=b.bidder,v=properOps.bidder_info[f]||v,e=(I.getFeatureToggles(),(ProperMedia.utils.deepAccess(properOps,"bidders.header."+f+".site_id")||"").toString().split("-")||["",""]);if(!(c=properDevice.isMobile()&&2==e.length?e[1]:e[0]))return properLog.mylog("Error: "+f+" Site ID is Required."),!1;var y=d(b.requests,f,v),e=y.imps||[],P=y.request_cnt,e={id:ProperMedia.utils.generateUUID(),site:{ref:properPage.referrer,page:properPage.bidder_page_url},ext:{source:"prebid",ixdiag:{sn:0,ls:properStorage.localStorageIsEnabled(n),imps:e.length||0}},imp:e},t=function(e){var t=[],i={};if(Array.isArray(e))for(var r=0;r<e.length;r++){var s=e[r];void 0!==a[s.source]&&ProperMedia.utils.deepAccess(s,"uids.0")&&(i[s.source]=!0,""!=a[s.source]&&(s.uids[0].ext={rtiPartner:a[s.source]}),delete s.uids[0].atype,t.push(s))}return{toSend:t,seenSources:i}}(userIds.getEidsArray()),i=t.toSend;if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo){var r=window.headertag.getIdentityInfo();if(r&&"object"==typeof r)for(var s in r)void 0!==r[s]&&!(s=r[s]).responsePending&&s.data&&"object"==typeof s.data&&Object.keys(s.data).length&&!t.seenSources[s.data.source]&&i.push(s.data)}0<i.length&&ProperMedia.utils.deepSetValue(e,"user.eids",i),ProperMedia.utils.deepSetValue(e,"source.tid",ProperMedia.utils.deepAccess(b,"auction.id")),""!=(o=schainCheck(f))&&ProperMedia.utils.deepSetValue(e,"source.ext.schain",o),ProperMedia.utils.deepAccess(properSpecialOps,"coppa")&&ProperMedia.utils.deepSetValue(e,"regs.coppa",1),void 0!==gdprConsent.gdprApplies&&ProperMedia.utils.deepSetValue(e,"regs.ext.gdpr",Number(gdprConsent.gdprApplies)),void 0!==gdprConsent.consentString&&ProperMedia.utils.deepSetValue(e,"user.ext.consent",gdprConsent.consentString||""),void 0!==gdprConsent.addtlConsent&&gdprConsent.addtlConsent&&ProperMedia.utils.deepSetValue(e,"user.ext.consented_providers_settings.consented_providers",gdprConsent.addtlConsent),uspConsent.usPrivacy&&ProperMedia.utils.deepSetValue(e,"regs.ext.us_privacy",uspConsent.usPrivacy),gppConsent&&(ProperMedia.utils.deepSetValue(e,"regs.gpp",gppConsent.gppString),ProperMedia.utils.deepSetValue(e,"regs.gpp_sid",gppConsent.applicableSections)),o=c,JSON.stringify(e);let w="https://htlb.casalemedia.com/cygnus?s="+o;properLog.mylog(w,f),b.incrementRequestsSent(P);var M=ProperMedia.utils.getTimestampMs(),o=ProperMedia.utils.deepAccess(properOps,"bidders.header."+f+".edge")||!1;$.ajax({url:w,contentType:"text/plain",method:"POST",bidder:f,edge:o,data:JSON.stringify(e),success:function(e){try{var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(M,t);if(e)if((e=ProperMedia.utils.safeJsonParse(e))&&e.seatbid&&0!=e.seatbid.length&&e.seatbid[0].bid&&e.seatbid[0].bid.length){properLog.mylog(e,f);for(var r=0;r<e.seatbid.length;r++)for(var s=0;s<e.seatbid[r].bid.length;s++){var o,a=e.seatbid[r].bid[s],n=a.impid||"",d=a.cid||"",p=a.crid||"",l=a.adid||"",c=a.adomain||[],u=a.adm||"",g=ProperMedia.utils.isNumber(a.ttl)?1e3*a.ttl:v.default_bid_ttl,m=parseFloat(a.price/100)||0,h=y.index_bids[n],_=new adObj({bidder:f,price:m,gross:m,tag_id:h.tag_id,cid:d,crid:p,adid:l,adomain:c,request_url:w,response:a,response_ms:i,received_ts:t,ttl:g,floor:ProperMedia.utils.deepAccess(h,"floor")||0});"video"==v.demand_type?(_.type="video",_.size=h.width+"x"+h.height,_.vast_tag=ProperMedia.utils.deepAccess(a,"ext.vasturl"),o=ProperMedia.utils.parseVastVpaid(_.vast_tag),_.vast_type=o.vast_type,_.vpaid=o.vpaid,_.video_type=v.video_type):(_.size=a.w+"x"+a.h,_.adcode=u),b.logBidResponse(_)}I.setFeatureToggles(e)}else properLog.mylog("No "+f+" bids returned"),b.logNoBidResponse(new adObj({bidder:f,price:0,gross:0,tag_id:"",request_url:w,response:e,response_ms:i,received_ts:t,ttl:0}));else b.logNoBidResponse(new adObj({bidder:f,price:0,gross:0,tag_id:"",request_url:w,response:e,response_ms:i,received_ts:t,ttl:0}));b.incrementBidResponseCount(P)}catch(e){throw e.bidder=f,e}},error:function(e){try{b.incrementBidResponseCount(P);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(M,t),r={bidder:f,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};b.logBidResponseError(r)}catch(e){throw e.bidder=f,e}}})},bidderInfo:e,getUserSyncs:function(){userSyncs.add({type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html",bidder:"ix"})},formatRequest:d}}(),bidAdapters.justpremium=function(){var v={rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:6e4,dont_refresh:1,gvlid:62,native_sizes:{desktop:{skin:"1x1",sticky_horizontal:"728x90",native_horizontal:"728x90"},mobile:{sticky_horizontal:"320x50",native_horizontal:"320x50"}}},y="justpremium";function a(o){var a={imps:{},JPbids:{},request_cnt:0},n=properDevice.isMobile()?"mobile":"desktop";return 0<Object.keys(o).length&&Object.keys(o).forEach(function(e){for(var t=0;t<o[e].length;t++){var i=o[e][t];void 0===a.imps[i]&&(a.imps[i]={tag_id:parseInt(i),sizes:[],slot_types:[[],{}]}),a.JPbids[i]=e;var r=(ProperMedia.utils.deepAccess(v,"native_sizes."+n+"."+e)||e).split("x").map(function(e){return parseInt(e)});if("728"==r[0]&&"90"==r[1])a.imps[i].slot_types[0]=a.imps[i].slot_types[0].concat(["cf","pu","as"]);else if("160"==r[0]&&"600"==r[1])a.imps[i].slot_types[0]=a.imps[i].slot_types[0].concat(["sa"]);else if("320"==r[0]&&"50"==r[1]){var s=["ms"];"native_horizontal"==e&&properDevice.isMobile()&&s.push("is"),a.imps[i].slot_types[0]=a.imps[i].slot_types[0].concat(s)}else{if("1"!=r[0]||"1"!=r[1])return a;a.imps[i].slot_types[0]=a.imps[i].slot_types[0].concat(["wp"])}a.imps[i].sizes.push([r[0],r[1]]),a.request_cnt++}}),a}return{send:function(m){var h=a(m.requests),_=h.request_cnt;if(0==_)return!1;(e={zone:Object.keys(h.imps).map(function(e){return parseInt(e)}),referer:properPage.url,hostname:window.top.location.hostname,protocol:window.top.location.protocol.replace(":",""),sw:window.top.screen.width,sh:window.top.screen.height,ww:window.top.innerWidth,wh:window.top.innerHeight,c:(r=h.imps,s={},Object.keys(r).forEach(function(e){s[r[e].tag_id]=r[e].slot_types}),s),id:parseInt(Object.keys(h.imps).shift()),sizes:(t=h.imps,i={},Object.keys(t).forEach(function(e){i[t[e].tag_id]=t[e].sizes}),i),version:{prebid:properOps.prebid_version,jp_adapter:"1.8.3"}}).pubcid=properUser.pubcid,e.uids=userIds.getUIdsObj(),properOps.schain&&ProperMedia.utils.deepSetValue(e,"schain",properOps.schain),gdprConsent&&(e.gdpr_consent={consent_string:gdprConsent.consentString,consent_required:"boolean"!=typeof gdprConsent.gdprApplies||gdprConsent.gdprApplies}),uspConsent.usPrivacy&&(e.us_privacy=uspConsent.usPrivacy);var t,i,r,s,e=JSON.stringify(e),b="https://pre.ads.justpremium.com/v/2.0/t/xhr?i="+ +new Date,f=(properLog.mylog(b,y),m.incrementRequestsSent(_),ProperMedia.utils.getTimestampMs()),o=ProperMedia.utils.deepAccess(properOps,"bidders.header."+y+".edge")||!1;$.ajax({method:"POST",url:b,requestType:"cors",bidder:y,edge:o,data:e,success:function(e){try{var t,i,r,s,o,a,n,d,p,l=ProperMedia.utils.getTimestampMs(),c=ProperMedia.utils.calcResponseMs(f,l);if(e=ProperMedia.utils.safeJsonParse(e),properLog.mylog(e,y),e&&e.bid)for(var u in e.bid)e.bid[u]&&0<e.bid[u].length?(t=e.bid[u].pop(),i=u,r=t.price||0,s=t.width||1,o=t.height||1,a=t.adm||"",n=t.id||"",d=1e3*t.ttl||v.default_bid_ttl,p=ProperMedia.utils.deepAccess(h,"JPbids."+i)||s+"x"+o,g=new adObj({bidder:y,size:p,price:parseFloat(r),gross:parseFloat(r),adcode:a,tag_id:i,crid:n,request_url:b,response:t,ttl:d,response_ms:c,received_ts:l}),m.logBidResponse(g)):(g=new adObj({bidder:y,price:0,gross:0,tag_id:"",request_url:b,response:e,response_ms:c,received_ts:l,ttl:0}),m.logNoBidResponse(g));else{var g=new adObj({bidder:y,price:0,gross:0,tag_id:"",request_url:b,response:e,response_ms:c,received_ts:l,ttl:0});m.logNoBidResponse(g)}m.incrementBidResponseCount(_)}catch(e){throw e.bidder=y,e}},error:function(e){try{m.incrementBidResponseCount(_);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(f,t),r={bidder:y,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};m.logBidResponseError(r)}catch(e){throw e.bidder=y,e}}})},bidderInfo:v,getUserSyncs:function(){var e="?_c=a"+Math.random().toString(36).substring(7)+Date.now();"boolean"==typeof gdprConsent.gdprApplies&&gdprConsent.gdprApplies&&gdprConsent.consentString&&(e+="&consentString="+encodeURIComponent(gdprConsent.consentString)),uspConsent.usPrivacy&&(e+="&usPrivacy="+encodeURIComponent(uspConsent.usPrivacy)),userSyncs.add({type:"iframe",url:"https://pre.ads.justpremium.com/v/1.0/t/sync"+e,bidder:y})},formatRequest:a}}(),bidAdapters.kargo=function(){var c={rev_share:1,bid_grouping:"page",default_bid_ttl:3e5,gvlid:972,native_sizes:{native_vertical:"300x250",native_horizontal:"300x250",sticky_horizontal:"300x50"}},u={301:24},g="kargo",m="https://krk.kargo.com/api/v2/bid",h="https://crb.kargo.com/api/v1/initsyncrnd/{UUID}?seed={SEED}&idx={INDEX}",_=5,i="";function r(s){var o={bidIDs:{},bidSizes:{},request_cnt:0,tag_size_map:{},floor:0};return Object.keys(s).forEach(function(e){for(var t=0;t<s[e].length;t++){var i=s[e][t],r=i.split("-")[0],r=(void 0===o.bidIDs[i]&&(o.bidIDs[i]=r,o.bidSizes[i]=[]),o.bidSizes[i].push((r=e,r=(r=ProperMedia.utils.deepAccess(c,"native_sizes."+r)||r).split("x"),[parseInt(r[0]),parseInt(r[1])])),getBidderFloor(g,e));(!o.floor||r<o.floor)&&(o.floor=r),o.request_cnt++,ProperMedia.utils.deepAccess(c,"native_sizes."+e)&&(o.tag_size_map[i]=e)}}),o}function b(){var e=function(){try{return JSON.parse(atob(a("krg_crb")))}catch(e){return{}}}();if(Object.keys(e).length)return e;try{var t=JSON.parse(decodeURIComponent(properStorage.getCookie("krg_crb",{bidderCode:g,gvlid:c.gvlid})));if(t&&t.v){var i=JSON.parse(atob(t.v));if(i)return i}return{}}catch(e){return{}}}function a(e){try{return properStorage.getDataFromLocalStorage(e,{bidderCode:g,gvlid:c.gvlid})}catch(e){return null}}return{send:function(p){if(properPage.isolated)return properLog.mylog("Turn off Kargo bidder for isolated pages"),!0;var l=r(p.requests),s=l.request_cnt,e={sessionId:properSession.sessionData.uuid,requestCount:window.location?i!==window.location.pathname?(i=window.location.pathname,requestCounter=0):++requestCounter:0,timeout:550,currency:"USD",cpmGranularity:1,timestamp:(new Date).getTime(),bidIDs:l.bidIDs,bidSizes:l.bidSizes,cpmRange:{floor:l.floor,ceil:999999},userIDs:{},pageURL:window.location.href},t={userIDs:function(e,t){var i=b(),i={kargoID:i.userId,clientID:i.clientId,crbIDs:i.syncIds||{},optOut:i.optOut,usp:t};gdprConsent&&(i.gdpr={consent:gdprConsent.consentString||"",applies:!!gdprConsent.gdprApplies});e&&(i.tdID=e);return i}(!1,t=uspConsent.usPrivacy||"1---"),pageURL:window.location.href,rawCRB:properStorage.getCookie("krg_crb",{bidderCode:g,gvlid:c.gvlid}),rawCRBLocalStorage:a("krg_crb")},o=(ProperMedia.utils.mergeObject(e,t),properLog.mylog(m,g),p.incrementRequestsSent(s),ProperMedia.utils.getTimestampMs()),t=ProperMedia.utils.deepAccess(properOps,"bidders.header."+g+".edge")||!1;$.ajax({url:m+"?json="+encodeURIComponent(JSON.stringify(e)),method:"GET",bidder:g,edge:t,requestType:"cors",success:function(a){try{a=ProperMedia.utils.safeJsonParse(a);var e,n=ProperMedia.utils.getTimestampMs(),d=ProperMedia.utils.calcResponseMs(o,n),t=(a&&0<Object.keys(a).length?(properLog.mylog(a,g),Object.keys(a).forEach(function(e){var t=a[e],i=t.width+"x"+t.height,r=Number(t.cpm)||0,s=t.adm||"",o=t.id||"",i=(t.metadata&&t.metadata.landingPageDomain&&t.metadata.landingPageDomain,ProperMedia.utils.deepAccess(l,"tag_size_map."+e)&&(i=ProperMedia.utils.deepAccess(l,"tag_size_map."+e)),301==t.targetingCustom&&0==properAdPool.displayed_ads.length&&(properPage.takeover.bidder=g,properPage.takeover.price=u[t.targetingCustom]||r,properPage.isolated=1),new adObj({bidder:g,size:i,price:parseFloat(r),gross:parseFloat(r),adcode:s,tag_id:e,crid:o,request_url:m,response:t,response_ms:d,received_ts:n,ttl:c.default_bid_ttl,floor:ProperMedia.utils.deepAccess(l,"floor")||0}));p.logBidResponse(i)})):(properLog.mylog("no kargo bids returned"),e=new adObj({bidder:g,price:0,gross:0,tag_id:"",request_url:m,response:a,response_ms:d,received_ts:n,ttl:0}),p.logNoBidResponse(e)),ProperMedia.utils.generateUUID()),i=function(){var e=b();if(e)return e.clientId;return null}();if(t&&i)for(var r=0;r<_;r++)userSyncs.add({type:"image",url:h.replace("{UUID}",i).replace("{SEED}",t).replace("{INDEX}",r),bidder:g});p.incrementBidResponseCount(s)}catch(e){throw e.bidder=g,e}},error:function(e){try{p.incrementBidResponseCount(s);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(o,t),r={bidder:g,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};p.logBidResponseError(r)}catch(e){throw e.bidder=g,e}}})},onBidWon:function(e,t){return 0==ProperMedia.utils.deepAccess(properPage,"takeover.logged")&&""!=ProperMedia.utils.deepAccess(properPage,"takeover.bidder")&&ProperMedia.utils.deepAccess(properPage,"takeover.bidder")==e.bidder&&properLog.send_takeover_pixel(t,e),!0},bidderInfo:c,formatRequest:r}}(),bidAdapters.lockerdome=function(){var u="lockerdome",g="https://lockerdome.com/ladbid/prebid";function i(r){var s={bidRequests:{},request_cnt:0};return 0<Object.keys(r).length&&Object.keys(r).forEach(function(e){for(var t=0;t<r[e].length;t++){var i=r[e][t];void 0===s.bidRequests[i]&&(s[i],s.bidRequests[i]={requestId:i,adUnitCode:i,adUnitId:i,sizes:[]}),s.bidRequests[i].sizes.push(e),s.request_cnt++}}),s}return{formatRequest:i,send:function(c){var e=i(c.requests),t=ProperMedia.utils.objectValues(e.bidRequests)||[],s=e.request_cnt;if(0==(e={bidRequests:t,referrer:properPage.referrer,url:properPage.bidder_page_url}).bidRequests.length)return!1;e.gdpr={applies:gdprConsent.gdprApplies,consent:gdprConsent.consentString},uspConsent.usPrivacy&&(e.us_privacy={consent:uspConsent.usPrivacy}),c.incrementRequestsSent(s);var o=ProperMedia.utils.getTimestampMs(),t=(properLog.mylog(g,u),ProperMedia.utils.deepAccess(properOps,"bidders.header."+u+".edge")||!1);$.ajax({method:"POST",url:g,requestType:"cors",bidder:u,edge:t,data:JSON.stringify(e),success:function(d){try{properLog.mylog(d,u);var e,d=ProperMedia.utils.safeJsonParse(d),p=ProperMedia.utils.getTimestampMs(),l=ProperMedia.utils.calcResponseMs(o,p);d&&d.bids&&0<Object.keys(d.bids).length?Object.keys(d.bids).forEach(function(e){var e=d.bids[e],t=e.requestId||"",i=e.cpm||0,r=e.width||1,s=e.height||1,o=(e.creativeId,e.currency,e.netRevenue,e.ad||""),a=e.creativeId||"",n=1e3*e.ttl||12e4,r=new adObj({bidder:u,size:r+"x"+s,price:parseFloat(i),gross:parseFloat(i),adcode:o,tag_id:t,crid:a,request_url:g,response:e,response_ms:l,received_ts:p,ttl:n});c.logBidResponse(r)}):(e=new adObj({bidder:u,price:0,gross:0,tag_id:"",request_url:g,response:d,response_ms:l,received_ts:p,ttl:0}),c.logNoBidResponse(e)),c.incrementBidResponseCount(s)}catch(e){throw e.bidder=u,e}},error:function(e){try{c.incrementBidResponseCount(s);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(o,t),r={bidder:u,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};c.logBidResponseError(r)}catch(e){throw e.bidder=u,e}}})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page"}}}(),bidAdapters.mantis=function(){var t,i,_={rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:18e5},b="mantis",o="https://mantodea.mantisadnetwork.com";function r(r){var s={bids:{},request_cnt:0};return 0<Object.keys(r).length&&Object.keys(r).forEach(function(e){for(var t=0;t<r[e].length;t++){var i=r[e][t];void 0===s.bids[i]&&(s.bids[i]={bidId:i,sizes:[]}),s.bids[i].sizes.push((i=(i=e).split("x"),{width:parseInt(i[0]),height:parseInt(i[1])})),s.request_cnt++}}),s}function s(e,t,i){var r={referrer:document.referrer,tz:(new Date).getTimezoneOffset(),buster:(new Date).getTime(),secure:"https:"===document.location.protocol,version:9};if(a()&&!m()||(r.mobile=!m()&&function(e){e=!e&&("ontouchstart"in window||navigator.msMaxTouchPoints);if(a())return!e;var t=window.innerWidth||window.document.documentElement.clientWidth||window.document.body.clientWidth;return!e&&(!t||t>=(window.mantis_breakpoint||768))}(!0)?"false":"true"),window.mantis_uuid?r.uuid=window.mantis_uuid:window.localStorage&&(s=window.localStorage.getItem("mantis:uuid"))&&(r.uuid=s),a())r.iframe=!0;else try{r.title=window.top.document.title,r.referrer=window.top.document.referrer,r.url=window.top.document.location.href}catch(e){}m()&&(r.amp=!0,!r.url&&window.context.canonicalUrl&&(r.url=window.context.canonicalUrl),!r.url&&window.context.location&&(r.url=window.context.location.href),!r.referrer)&&window.context.referrer&&(r.referrer=window.context.referrer),Object.keys(t||{}).forEach(function(e){r[e]=t[e]});var s=function e(t,i,r){if(!t)return null;var s=r||[];for(var o in t){var a=o,n=(i&&(a=i+"["+o+"]"),t[o]);if(u(n))for(var d=0;d<n.length;d++){var p=a+"["+d+"]",l=n[d];g(l)?e(l,p,s):c(l)&&s.push(p+"="+encodeURIComponent(l))}else g(n)?e(n,a,s):c(n)&&s.push(a+"="+encodeURIComponent(n))}return s.join("&")}(r);return(void 0===window.mantis_domain?i||o:window.mantis_domain)+e+"?"+s}function a(){try{return window.self!==window.top&&!window.mantis_link}catch(e){return 1}}function c(e){return!(null==e||("string"==typeof e?!e||/^\s*$/.test(e):"number"==typeof e&&isNaN(e)))}function m(){return"object"==typeof window.context&&("AMP-AD"===window.context.tagName||"AMP-EMBED"===window.context.tagName)}function u(e){return"[object Array]"===Object.prototype.toString.call(e)}function g(e){return"[object Object]"===Object.prototype.toString.call(e)}function n(i,o,a,n){function d(){u&&g&&g(),u=!1}function r(e,t,i){var r,s=void 0!==document.hidden&&document.hidden;0!=i.width&&0!=i.height&&!s&&(s=i.height*n,r=i.width*n,i.top<0&&i.bottom>=s||0<i.top&&t-i.top>=s)&&(i.left<0&&i.right>=r||0<i.left&&e-i.left>=r)?!c&&a?(c=Date.now(),d()):a&&Date.now()-c<a?d():u||o(function(e){e?u=!0:(p&&clearInterval(p),l&&l())},function(e){g=e}):d()}var p,l,c=null,u=!1,g=null;m()&&(l=window.context.observeIntersection(function(e){e.forEach(function(e){r(e.rootBounds.width,e.rootBounds.height,e.boundingClientRect)})})),p=setInterval(function(){var e=window.innerHeight||document.documentElement.clientHeight,t=window.innerWidth||document.documentElement.clientWidth;r(t,e,i.getBoundingClientRect())},100)}function d(e,t){var i=document.createElement("img");i.src=e,i.style.cssText="display:none !important;",(t||document.body).appendChild(i)}return t="iframe",i=function(t){if(window.$sf){var e=!1;$sf.ext.register(t.width,t.height,function(){$sf.ext.inViewPercentage()<50||e||(e=!0,d(t.pixel))})}else for(var i=document.getElementsByTagName("iframe"),r=0;r<i.length;r++){var s=i[r];s.name==t.frame&&n(s,function(e){d(t.pixel),e()},1e3,.5)}},window.addEventListener("message",TraceKit.wrap(function(e){e.data.mantis&&e.data.type==t&&i(e.data.data)}),!1),{send:function(u){var e=r(u.requests),t=ProperMedia.utils.objectValues(e.bids)||[],g=e.request_cnt,e=ProperMedia.utils.deepAccess(properOps,"bidders.header.mantis.site_id")||"5b32cf14d866814de2efe8c2",e={measurable:!0,property:e=1==properOps.testing_mode.ids?"demo":e,bids:t};if(0==g.total)return!1;var m=s("/prebid/display",e)+"&foo",h=(properLog.mylog(m,b),u.incrementRequestsSent(g),ProperMedia.utils.getTimestampMs()),t=ProperMedia.utils.deepAccess(properOps,"bidders.header.mantis.edge")||!1;$.ajax({url:m,requestType:"cors",bidder:b,edge:t,success:function(e){try{properLog.mylog(e,b);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(h,t);if((e=ProperMedia.utils.safeJsonParse(e))&&e.ads&&0<e.ads.length){void 0!==e.uuid&&!function(e){if(window.mantis_uuid)return;if(window.mantis_uuid=e,window.localStorage)try{window.localStorage.setItem("mantis:uuid",e)}catch(e){}}(e.uuid);for(var r=0;r<e.ads.length;r++){var s=e.ads[r],o=s.bid||"",a=s.view||"",n=s.cpm||0,d=s.width||0,p=s.height||0,l=s.html||"",c=new adObj({bidder:b,size:d+"x"+p,price:parseFloat(n),gross:parseFloat(n),adcode:l,tag_id:o,crid:a,request_url:m,response:s,response_ms:i,received_ts:t,ttl:_.default_bid_ttl});u.logBidResponse(c)}}else{c=new adObj({bidder:b,price:0,gross:0,tag_id:"",request_url:m,response:e,response_ms:i,received_ts:t,ttl:0});u.logNoBidResponse(c)}u.incrementBidResponseCount(g)}catch(e){throw e.bidder=b,e}},error:function(e){try{u.incrementBidResponseCount(g);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(h,t),r={bidder:b,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};u.logBidResponseError(r)}catch(e){throw e.bidder=b,e}}})},bidderInfo:_,getUserSyncs:function(){userSyncs.add({type:"iframe",url:s("/prebid/iframe"),bidder:b})},formatRequest:r}}(),bidAdapters.medianet=function(){var i="8CUW4K2MG";function r(o,a,n){var d={imps:{},data_map:{},request_cnt:0};return 0<Object.keys(o).length&&Object.keys(o).forEach(function(e){for(var t=0;t<o[e].length;t++){var i,r=o[e][t],s=e.split("x"),s=(void 0===d.imps[r]&&(i="display"==n.demand_type?properDevice.isMobile()?"506882127":"515514711":"677195738",d.imps[r]={id:r.toString(),tagid:i,bidfloor:0,ext:{visibility:0}},"display"==n.demand_type?d.imps[r].banner=[]:"video"==n.demand_type?d.imps[r].video={protocols:[1,2,3,4,5,6],pos:0,topframe:1,minduration:10,maxduration:30,mimes:["video/mp4","application/javascript"],api:[1,2],playbackmethod:[6],placement:"outstream"==n.video_type?3:1,context:n.video_type,playerSize:[e.split("x").map(function(e){return parseInt(e)})]}:"native"==n.demand_type&&(d.imps[r].native=JSON.stringify({request:{ver:"1.2",context:1,plcmttype:1,privacy:1,assets:[{id:1,required:1,title:{len:80}},{id:2,required:1,img:{type:3,w:parseInt(s[0]),h:parseInt(s[1])}},{id:3,required:0,img:{type:1,w:50,h:50}},{id:4,required:1,data:{type:1}},{id:5,required:0,data:{type:2}},{id:6,required:1,data:{type:0}},{id:10,required:0,img:{type:0,w:50,h:50}},{id:11,required:0,data:{type:1}},{id:12,required:0,data:{type:2}},{id:21,required:0,data:{type:11}},{id:22,required:0,data:{type:12}}]}}))),"display"==n.demand_type&&d.imps[r].banner.push((i=(i=e).split("x"),{w:parseInt(i[0]),h:parseInt(i[1])})),getBidderFloor(a,e));(!d.imps[r].bidfloor||s<d.imps[r].bidfloor)&&(d.imps[r].bidfloor=s,d.data_map[r]=s),d.request_cnt++}}),d}function a(e,t){var e=function(e,t){try{var i=window.top.document.querySelector(e);if(null!==i&&i[t])return i[t]}catch(e){}}(e,t);return e&&(t=e,(e=window.top.document.createElement("a")).href=t,e.href)}return{send:function(c){var u="https://prebid.media.net/rtb/prebid?cid="+(i=ProperMedia.utils.deepAccess(properOps,"bidders.header.undefined.site_id")||i),g=c.bidder,m=properOps.bidder_info[g]||m,e=r(c.requests,g,m),t=ProperMedia.utils.objectValues(e.imps)||[],h=e.data_map||{},s=e.request_cnt,e={canonicalUrl:a('link[rel="canonical"]',"href"),twitterUrl:a('meta[property="og:url"]',"content"),ogUrl:a('meta[name="twitter:url"]',"content")},e=ProperMedia.utils.mergeObject({domain:properPage.domain,page:properPage.bidder_page_url,ref:properPage.referrer,canonical_url:properPage.canonical_url,isTop:!0},e),e={id:Date.now().toString(),site:e,imp:t,ext:{customer_id:i.toString(),prebid_version:properOps.prebid_version,screen:{w:window.innerWidth,h:window.innerHeight}},tmax:550};""!=(t=schainCheck(g))&&ProperMedia.utils.deepSetValue(e,"ext.schain",t);(t=userIds.getUIdsObj())&&Object.keys(t).length&&ProperMedia.utils.deepSetValue(e,"ext.user_id",t),ProperMedia.utils.deepSetValue(e,"ext.coppa_applies",!!ProperMedia.utils.deepAccess(properSpecialOps,"coppa")),gdprConsent&&"boolean"==typeof gdprConsent.gdprApplies&&(ProperMedia.utils.deepSetValue(e,"ext.gdpr_applies",!!gdprConsent.gdprApplies),gdprConsent.gdprApplies)&&ProperMedia.utils.deepSetValue(e,"ext.gdpr_consent_string",gdprConsent.consentString||""),ProperMedia.utils.deepSetValue(e,"ext.usp_applies",!!uspConsent),uspConsent.usPrivacy&&ProperMedia.utils.deepSetValue(e,"ext.usp_consent_string",uspConsent.usPrivacy),properLog.mylog(u,g),c.incrementRequestsSent(s);var o=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(properOps,"bidders.header."+g+".edge")||!1;$.ajax({url:u,method:"POST",requestType:"cors",bidder:g,edge:t,data:JSON.stringify(e),success:function(e){try{var t,p=ProperMedia.utils.getTimestampMs(),l=ProperMedia.utils.calcResponseMs(o,p);(e=ProperMedia.utils.safeJsonParse(e))&&e.bidList&&0!=e.bidList.length?(properLog.mylog(e,g),e.bidList.map(function(e){var t=e.requestId||"",i=e.cpm||0,r=e.width||1,s=e.height||1,o=e.ad||"",a=e.creativeId||"",n=e.nurl||!1,d=1e3*e.ttl||m.default_bid_ttl,r=(n&&"video"!==m.demand_type&&(o+=ProperMedia.utils.createTrackPixel(n),n=""),new adObj({bidder:g,size:r+"x"+s,price:parseFloat(i),gross:parseFloat(i),adcode:o,nurl:n,tag_id:t,crid:a,request_url:u,response:e,response_ms:l,received_ts:p,ttl:d,floor:ProperMedia.utils.deepAccess(h,t)||0}));"video"==m.demand_type?(s=e.vastUrl||e.vastXml||o,r.type="video",r.vast_tag=s,i=ProperMedia.utils.parseVastVpaid(r.vast_tag),r.vast_type=i.vast_type,r.vpaid=i.vpaid,r.video_type=m.video_type):"native"==m.demand_type?(r.type="native",(n=e.native).clickTrackers=ProperMedia.utils.deepAccess(n,"link.clicktrackers")||[],r.native=n):r.adcode=o,e.no_bid?c.logNoBidResponse(r):c.logBidResponse(r)})):(properLog.mylog("no medianet bids returned"),t=new adObj({bidder:g,price:0,gross:0,tag_id:"",request_url:u,response:e,response_ms:l,received_ts:p,ttl:0}),c.logNoBidResponse(t)),c.incrementBidResponseCount(s)}catch(e){throw e.bidder=g,e}},error:function(e){try{c.incrementBidResponseCount(s);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(o,t),r={bidder:g,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};c.logBidResponseError(r)}catch(e){throw e.bidder=g,e}}})},onBidWon:function(e,t){return e.nurl&&((new Image).src=e.nurl),!0},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,gvlid:142},formatRequest:r}}(),bidAdapters.nativo=function(){var a={rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:36e4,gvlid:263,native_sizes:{native_vertical:"300x250",native_horizontal:"300x250"}},x="nativo";function r(r,s,e){var o={adUnits:{},data_map:{},placementIds:[],floors:{},request_cnt:0,request_counts:{}};return 0<Object.keys(r).length&&Object.keys(r).forEach(function(e){for(var t=0;t<r[e].length;t++){var i=r[e][t];void 0===o.adUnits[i]&&(o.placementIds.push(i),o.request_counts[i]=1,o.adUnits[i]={adUnitCode:i,mediaTypes:{banner:{sizes:[]}}},o.data_map[i]={tag_id:i,tag_sizes:[]},o.floors[i]={banner:{},"*":{}}),o.data_map[i].tag_sizes.push(e),o.floors[i]["*"][e]=getBidderFloor(s,e),o.floors[i].banner[e]=getBidderFloor(s,e),o.adUnits[i].mediaTypes.banner.sizes.push((i=e,i=(i=ProperMedia.utils.deepAccess(a,"native_sizes."+i)||i).split("x"),[parseInt(i[0]),parseInt(i[1])])),o.request_cnt++}}),o}return{formatRequest:r,send:function(f){var v=f.bidder,y=properOps.bidder_info[v]||y,e=r(f.requests,v),P=e.data_map||{},w=e.request_cnt,t=e.floors,i={adUnits:ProperMedia.utils.objectValues(e.adUnits)},i=[{key:"ntv_pb_rid",value:ProperMedia.utils.generateUUID()},{key:"ntv_ppc",value:btoa(JSON.stringify(i))},{key:"ntv_dbr",value:btoa(JSON.stringify(e.request_counts))},{key:"ntv_url",value:encodeURIComponent(properPage.bidder_page_url)}],M=(Object.keys(t).length&&i.unshift({key:"ntv_ppf",value:btoa(JSON.stringify(t))}),i.unshift({key:"ntv_ptd",value:e.placementIds.join(",")}),gdprConsent&&i.unshift({key:"ntv_gdpr_consent",value:gdprConsent.consentString}),uspConsent.usPrivacy&&i.unshift({key:"us_privacy",value:uspConsent.usPrivacy}),"https://exchange.postrelease.com/prebid"+("?"+i.reduce(function(e,t){return i=t.key,t=t.value,e+(e.length?"&":"")+i+"="+t;var i},""))),I=(properLog.mylog(M,v),f.incrementRequestsSent(w),ProperMedia.utils.getTimestampMs()),t=ProperMedia.utils.deepAccess(properOps,"bidders.header."+v+".edge")||!1;$.ajax({url:M,method:"GET",bidder:v,edge:t,success:function(e){try{var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(I,t);if(e)if((e=ProperMedia.utils.safeJsonParse(e))&&e.seatbid&&0!=e.seatbid.length&&e.seatbid[0].bid&&e.seatbid[0].bid.length){properLog.mylog(e,v);for(var r=0;r<e.seatbid.length;r++)for(var s=0;s<e.seatbid[r].bid.length;s++){var o=e.seatbid[r].bid[s],a=o.w||1,n=o.h||1,d=o.impid||"",p=o.adm||"",l=o.crid||"",c=o.adomain||[],u=o.id||"",g=a+"x"+n,m=parseFloat(o.price)||0;(ProperMedia.utils.deepAccess(P,d+".tag_sizes")||[]).length&&(g=ProperMedia.utils.deepAccess(P,d+".tag_sizes.0")||g),f.logBidResponse(new adObj({bidder:v,price:m,gross:m,adcode:p,size:g,tag_id:d,crid:l,dealid:u,adomain:c,request_url:M,response:o,response_ms:i,received_ts:t,ttl:o.ttl||y.default_bid_ttl}))}h=e,(_={}).gdpr=gdprConsent.gdprApplies?1:0,_.gdpr_consent=gdprConsent.consentString||"",_.us_privacy=encodeURIComponent(uspConsent.usPrivacy),b=ProperMedia.utils.formatQueryString(_,!0),h.seatbid.forEach(function(e){e.syncUrls.forEach(function(e){""!==e.url.trim()&&userSyncs.add({type:e.type,url:e.url.replace("{GDPR_params}",b),bidder:x})})})}else properLog.mylog("No "+v+" bids returned"),f.logNoBidResponse(new adObj({bidder:v,price:0,gross:0,tag_id:"",request_url:M,response:e,response_ms:i,received_ts:t,ttl:0}));else f.logNoBidResponse(new adObj({bidder:v,price:0,gross:0,tag_id:"",request_url:M,response:e,response_ms:i,received_ts:t}));f.incrementBidResponseCount(w)}catch(e){throw e.bidder=v,e}var h,_,b},error:function(e){try{f.incrementBidResponseCount(w);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(I,t),r={bidder:v,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};f.logBidResponseError(r)}catch(e){throw e.bidder=v,e}}})},bidderInfo:a}}(),bidAdapters.nobid=function(){var f,p,v;function l(s,e,o){const a={imps:[],request_count:0};return 0<Object.keys(s).length&&Object.keys(s).forEach(function(t){var i=t.split("x").map(Number);for(let e=0;e<s[t].length;e++){var r=s[t][e];a.imps[r]||(a.imps[r]={d:ProperMedia.utils.generateUUID(),sid:p,pid:r,at:"display"==o.demand_type?"banner":"video",params:{siteId:p,placementId:r},z:[],g:{}}),a.request_count++,a.imps[r].z.push(i)}}),a}return window.nobidVersion="1.3.2",window.nobid=window.nobid||{},window.nobid.bidResponses=window.nobid.bidResponses||{},window.nobid.timeoutTotal=0,window.nobid.bidWonTotal=0,window.nobid.refreshCount=0,window.nobid.renderTag=function(e,t){var t=window.nobid.bidResponses[t.toString()];t&&t.adm2&&(t=t.adm2,e.write(t),e.close())},window.addEventListener("message",function(e){var t,i=e[e.message?"message":"data"].toString();"nbTagRenderer.requestAdMarkup|"===i.substring(0,"nbTagRenderer.requestAdMarkup|".length)&&(i=i.substring(i.indexOf("|")+1),window.nobid)&&window.nobid.bidResponses&&(i=window.nobid.bidResponses[i.toString()])&&i.adm2&&(t=i.adm2)&&e.source.postMessage("nbTagRenderer.renderAdInSafeFrame|"+t,"*")},!1),{send:function(m){f=m.bidder;var h=properOps.bidder_info[f]||h;if(v={gvlid:h.gvlid,bidderCode:f},!(p=Number(ProperMedia.utils.deepAccess(properOps,"bidders.header."+f+".site_id"))))return properLog.mylog("No_Bid: Error Site ID is Required."),!1;if(void 0!==window.nobid.refreshLimit&&window.nobid.refreshLimit<window.nobid.refreshCount)return properLog.mylog("No_Bid: refreshLimit met: "+window.nobid.refreshCount),!1;var e=properStorage.getCookie("_ublock",v);if(e)return properLog.mylog("No_Bid: Request blocked for user. hours: "+e),!1;var t=l(m.requests,0,h);const s=t.request_count;var i,r,o={sid:p,l:properPage.url,tt:encodeURIComponent(document.title).replace(/'|;|quot;|39;|&amp;|&|#|\r\n|\r|\n|\t|\f|%0A|"|%22|%5C|%23|%26|%26|%09/gm,""),a:Object.keys(t.imps).map(e=>t.imps[e]),t:(e=new Date,d=e.getDate(),o=e.getFullYear(),n=e.getMonth()+1,i=e.getHours(),r=e.getMinutes(),e=e.getSeconds(),o+"-"+a(n)+"-"+a(d)+" "+a(i)+":"+a(r)+":"+a(e)),tz:Math.round((new Date).getTimezoneOffset()),r:function(){try{var e=Math.max(document.documentElement.clientWidth,window.innerWidth||0),t=Math.max(document.documentElement.clientHeight,window.innerHeight||0);return e+"x"+t}catch(e){}}(),lang:navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage,ref:properPage.referrer,gdpr:{},usp:uspConsent.usPrivacy||"",pjbdr:"nobid",schain:schainCheck(f)||null,eids:ProperMedia.utils.deepCopy(userIds.getEidsArray())||[],coppa:ProperMedia.utils.deepAccess(properSpecialOps,"coppa")?{coppa:!0}:null,ortb2:{site:{domain:properPage.domain,page:properPage.url,referrer:properPage.referrer}}};function a(e){return e.toString().padStart(2,"0")}"boolean"==typeof gdprConsent.gdprApplies&&(ProperMedia.utils.deepSetValue(o,"gdpr.consentRequired",gdprConsent.gdprApplies),gdprConsent.consentString)&&ProperMedia.utils.deepSetValue(o,"gdpr.consentString",gdprConsent.consentString);let _=1==properOps.testing_mode.ids?"https://qa-ads.nobid.com/adreq":"https://ads.servenobid.com/adreq";properLog.mylog(_,f),m.incrementRequestsSent(s),window.nobid.refreshCount++;var n=!(!gdprConsent.gdprApplies||!gdprConsentModule.hasPurpose1Consent());const b=ProperMedia.utils.getTimestampMs();var d=ProperMedia.utils.deepAccess(properOps,"bidders.header."+f+".edge")||!1;$.ajax({url:_+"?cb="+Math.floor(11e3*Math.random()),method:"POST",requestType:"cors",bidder:f,edge:d,withCredentials:n,data:JSON.stringify(o).replace(/'|&|#/g,""),success:function(e){try{var t,i,r,s,o=ProperMedia.utils.getTimestampMs(),a=ProperMedia.utils.calcResponseMs(b,o);if((u=e)&&void 0!==u.rlimit&&(window.nobid.refreshLimit=u.rlimit),(c=e)&&void 0!==c.ublock){var n="_ublock";var d="1";var p=c.ublock;var l=new Date,p=(l.setTime(l.getTime()+60*p*60*1e3),"expires="+l.toUTCString());properStorage.setCookie(n,d,p,v)}if(e&&"object"==typeof e&&e.bids&&0!==e.bids.length){properLog.mylog(e,f);for(const g of e.bids)g.bdrid<100||({h:t,w:i}=(window.nobid.bidResponses[g.id?.toString()]=g).size,r=new adObj({bidder:f,size:(i??1)+"x"+(t??1),price:parseFloat(g.price??g.bucket??0),gross:parseFloat(g.price??g.bucket??0),adcode:g.adm,tag_id:g.divid,crid:g.creativeid,dealid:g.dealid,request_url:_,response:g,ttl:3e5}),"video"!=h.demand_type&&"video"!=g.atype||(s=ProperMedia.utils.parseVastVpaid(g.vastXml)?.vast_type,g.vastUrl&&(r.vast_tag=g.vastUrl,r.vast_type=s),g.vastXml&&(r.vast_tag=g.vastXml,r.vast_type=s)),m.logBidResponse(r))}else properLog.mylog("no no-bid bids returned"),m.logNoBidResponse(new adObj({bidder:f,price:0,gross:0,tag_id:"",request_url:_,response:e,response_ms:a,received_ts:o,ttl:0}))}catch(e){throw e.bidder=f,e}var c,u},error:function(e){try{m.incrementBidResponseCount(s);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(b,t),r={bidder:f,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};m.logBidResponseError(r)}catch(e){throw e.bidder=f,e}}})},onBidWon:function(e,t){return window.nobid.bidWonTotal++,!0},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,gvlid:816},getUserSyncs:function(){let e="";return gdprConsent&&"string"==typeof gdprConsent.consentString&&("boolean"==typeof gdprConsent.gdprApplies?e+=`?gdpr=${Number(gdprConsent.gdprApplies)}&gdpr_consent=`+gdprConsent.consentString:e+="?gdpr_consent="+gdprConsent.consentString),uspConsent.usPrivacy&&(0<e.length?e+="&":e+="?",e+="usp_consent="+uspConsent.usPrivacy),[{type:"iframe",url:"https://public.servenobid.com/sync.html"+e}]},formatRequest:l}}(),bidAdapters.ogury=function(){var a,_={rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:6e4,gvlid:31,native_sizes:{sticky_horizontal:"1x1"}},b="ogury",t="https://ms-cookie-sync.presage.io",f="https://mweb-hb.presage.io/api/header-bidding-request";function i(s){var o={imps:{},data_map:{},request_cnt:0};return 0<Object.keys(s).length&&Object.keys(s).forEach(function(e){for(var t=0;t<s[e].length;t++){var i=s[e][t],r=(void 0===o.imps[i]&&(o.imps[i]={id:i,tagid:i,bidfloor:0,banner:{format:[]},ext:{assetKey:a,adUnitId:i}},o.data_map[i]={floor:0,tag_sizes:[]}),getBidderFloor(b,e));(!o.imps[i].bidfloor||r<o.imps[i].bidfloor)&&(o.imps[i].bidfloor=r,o.data_map[i].floor=r),o.data_map[i].tag_sizes.push(e),o.imps[i].banner.format.push((r=e,r=(r=ProperMedia.utils.deepAccess(_,"native_sizes."+r)||r).split("x"),{w:parseInt(r[0]),h:parseInt(r[1])})),o.imps[i].banner.format.some(e=>1===e.w&&1===e.h)||(o.imps[i].ext.skipSizeCheck=!0),o.request_cnt++}}),o}return{send:function(m){var h,s,e,o,t;return(a=ProperMedia.utils.deepAccess(properOps,"bidders.header."+b+".site_id")||0)?function(){try{if("mobile"!=properDevice.device_type)properLog.mylog("Ogury: Not a correct device, Ogury is mobile only");else{var e=(properDevice.browser_version||"0").toString().split(".")[0];if(properDevice.os_group.includes("iOS")){if(properDevice.browser.includes("Safari"))return!(Number(e)<10)||void properLog.mylog("Ogury: Not a correct Safari version");if(properDevice.browser.includes("Chrome"))return!(Number(e)<83)||void properLog.mylog("Ogury: Not a correct Chrome version");if(properDevice.browser.includes("Facebook"))return 1}if(properDevice.os_group.includes("Android")){if(properDevice.browser.includes("Samsung"))return 1;if(properDevice.browser.includes("Chrome"))return!(Number(e)<83)||void properLog.mylog("Ogury: Not a correct Chrome version");if(properDevice.browser.includes("Facebook"))return 1}properLog.mylog("Ogury: Not a correct OS/Browser/Version")}}catch(e){}}()?(e=i(m.requests),t=ProperMedia.utils.objectValues(e.imps)||[],h=e.data_map||{},s=e.request_cnt,0!=t.length&&(e={id:ProperMedia.utils.generateUUID(),tmax:550,at:1,regs:{ext:{gdpr:Number(gdprConsent.gdprApplies)}},site:{id:a,domain:ProperMedia.utils.getPageDomain(),page:properPage.bidder_page_url},user:{ext:{consent:""}},imp:t,ext:{adapterversion:"1.3.0",prebidversion:properOps.prebid_version}},"boolean"==typeof gdprConsent.gdprApplies&&ProperMedia.utils.deepSetValue(e,"regs.ext.gdpr",Number(gdprConsent.gdprApplies)),gdprConsent.consentString&&ProperMedia.utils.deepSetValue(e,"user.ext.consent",gdprConsent.consentString),m.incrementRequestsSent(s),o=ProperMedia.utils.getTimestampMs(),properLog.mylog(f,b),t=ProperMedia.utils.deepAccess(properOps,"bidders.header."+b+".edge")||!1,void $.ajax({method:"POST",url:f,requestType:"cors",bidder:b,edge:t,headers:{"Content-Type":"application/json"},data:JSON.stringify(e),success:function(e){try{properLog.mylog(e,b),e=ProperMedia.utils.safeJsonParse(e);var t,u=ProperMedia.utils.getTimestampMs(),g=ProperMedia.utils.calcResponseMs(o,u);e&&e.seatbid&&0<e.seatbid.length?e.seatbid.forEach(function(e){e.bid.forEach(function(e){var t=e.impid||"",i=e.price||0,r=e.w||1,s=e.h||1,o=e.adm||"",a=e.id||"",n=e.adomain||[],d=e.nurl||"",p=e.ext||{},l=r+"x"+s,c=ProperMedia.utils.deepAccess(e,"ext.campaignid"),p={ext:p,size:l,width:r,height:s},r=((ProperMedia.utils.deepAccess(h,t+".tag_sizes")||[]).length&&(l=ProperMedia.utils.deepAccess(h,t+".tag_sizes.0")||l),new adObj({bidder:b,size:l,price:parseFloat(i),gross:parseFloat(i),adcode:o,ad_details:p,nurl:d,tag_id:t,crid:a,cid:c,adomain:n,request_url:f,response:e,response_ms:g,received_ts:u,ttl:_.default_bid_ttl,floor:ProperMedia.utils.deepAccess(h,t+".floor")||0}));m.logBidResponse(r)})}):(t=new adObj({bidder:b,price:0,gross:0,tag_id:"",request_url:f,response:e,response_ms:g,received_ts:u,ttl:0}),m.logNoBidResponse(t)),m.incrementBidResponseCount(s)}catch(e){throw e.bidder=b,e}},error:function(e){try{m.incrementBidResponseCount(s);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(o,t),r={bidder:b,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};m.logBidResponseError(r)}catch(e){throw e.bidder=b,e}}}))):(properLog.mylog("Ogury: Not a correct device"),!1):(properLog.mylog("Ogury: Error Site ID is Required."),!1)},onBidWon:function(e,t){var i="display"==e.type?"banner":e.type,i={assetKey:a||"",adUnitId:e.tag_id||"",adUnitCode:t.div_id||"",creativeId:e.crid||"",campaignId:e.cid||"",requestId:e.tag_id||"",bidder:e.bidder||"",width:ProperMedia.utils.deepAccess(e,"ad_details.width")||1,height:ProperMedia.utils.deepAccess(e,"ad_details.height")||1,size:ProperMedia.utils.deepAccess(e,"ad_details.size")||"1x1",mediaType:i||"",cpm:e.price||0,ad:e.adcode||"",nurl:e.nurl||"",meta:{advertiserDomains:e.adomain},currency:"USD",netRevenue:!0,ttl:60,adapterVersion:"1.3.0",prebidVersion:properOps.prebid_version,params:[{assetKey:a||"",adUnitId:e.tag_id||"",adUnitCode:t.div_id||"",creativeId:e.crid||"",campaignId:e.cid||""}],ext:ProperMedia.utils.deepAccess(e,"ad_details.ext")||{}};return window.OG_PREBID_BID_OBJECT=i,e.nurl&&((new Image).src=e.nurl),!0},bidderInfo:_,getUserSyncs:function(){var e=gdprConsent.consentString||"";userSyncs.add({type:"image",url:t+"/v1/init-sync/bid-switch?iab_string="+e+"&source=prebid",bidder:b}),userSyncs.add({type:"image",url:t+"/ttd/init-sync?iab_string="+e+"&source=prebid",bidder:b}),userSyncs.add({type:"image",url:t+"/xandr/init-sync?iab_string="+e+"&source=prebid",bidder:b})},formatRequest:i}}(),bidAdapters.openx=function(){var j="openx",p=null,E=!0,l="https://propermedia-d.openx.net/w/1.0/arj",c={britepoolid:"britepoolid",criteoId:"criteoid",fabrickId:"nuestarid",hadronId:"audigentid",id5id:"id5id",idl_env:"lre",IDP:"zeotapid",idxId:"idxid",intentIqId:"intentiqid",lipb:"lipbid",lotamePanoramaId:"lotameid",merkleId:"merkleid",netId:"netid",parrableId:"parrableid",pubcid:"pubcid",quantcastId:"quantcastid",tapadId:"tapadid",tdid:"ttduuid",uid2:"uid2",admixerId:"admixerid",deepintentId:"deepintentid",dmdId:"dmdid",nextrollId:"nextrollid",novatiq:"novatiqid",mwOpenLinkId:"mwopenlinkid",dapId:"dapid",amxId:"amxid",kpuid:"kpuid",publinkId:"publinkid",naveggId:"naveggid",imuid:"imuid",adtelligentId:"adtelligentid"};function u(o,a,e){var n={data:{},request_cnt:0};return 0<Object.keys(o).length&&Object.keys(o).forEach(function(e){for(var t=0;t<o[e].length;t++){var i=o[e][t],r=p||i.split("-")[0]||i,s=(void 0===n.data[i]&&(s="openx-"+ProperMedia.utils.generateUUID(),n.data[i]={price_floor:0,slot_div:s,tag_id:r,sizes:[]}),getBidderFloor(a,e));(!n.data[i].price_floor||s<n.data[i].price_floor)&&(n.data[i].price_floor=s),n.data[i].sizes.push(e),n.request_cnt++}}),n}return{formatRequest:u,send:function(I){var s,o,x=I.bidder,S=properOps.bidder_info[x]||S,e=(ProperMedia.utils.deepAccess(properOps,"bidders.header."+x+".site_id")||"").split("-"),e=(p=properDevice.isMobile()&&2==e.length?e[1]:e[0],u(I.requests,x)),k=ProperMedia.utils.objectValues(e.data)||[],A=e.request_cnt,e={ju:properPage.bidder_page_url,jr:properPage.referrer,ch:document.charSet||document.characterSet,res:screen.width+"x"+screen.height+"x"+screen.colorDepth,ifr:!0,tz:(new Date).getTimezoneOffset(),tws:function(e){var t,i,r=window,s=document,o=s.documentElement;if(e){try{r=window.top,s=window.top.document}catch(e){return}o=s.documentElement,e=s.body,t=r.innerWidth||o.clientWidth||e.clientWidth,i=r.innerHeight||o.clientHeight||e.clientHeight}else o=s.documentElement,t=r.innerWidth||o.clientWidth,i=r.innerHeight||o.clientHeight;return t+"x"+i}(!0),aus:"",auid:"",aumfs:"",dddid:"",divIds:"",be:1,bc:"hb_pb_3.0.1",nocache:(new Date).getTime()},t=[],i=[],r=[],a=[],n=[];k.forEach(function(e){t.push(e.sizes.join(",")),i.push(e.tag_id),r.push(1e3*e.price_floor),a.push(ProperMedia.utils.generateUUID()),n.push(encodeURIComponent(e.slot_div))}),e.aus=t.join("|"),e.auid=i.join(","),e.aumfs=r.join(","),e.dddid=a.join(","),e.divIds=n.join(","),ProperMedia.utils.getDNT()&&(e.ns=1),ProperMedia.utils.deepAccess(properSpecialOps,"coppa")&&(e.tfcd=1);""!=(d=schainCheck(x))&&(e.schain=ProperMedia.utils.formatSupplyChainString(d)),void 0!==gdprConsent.consentString&&(e.gdpr_consent=gdprConsent.consentString),void 0!==gdprConsent.gdprApplies&&(e.gdpr=Number(gdprConsent.gdprApplies)),e.x_gdpr_f=1,uspConsent.usPrivacy&&(e.us_privacy=uspConsent.usPrivacy);var d=userIds.getUIdsObj(),d=(s=e,o=d,Object.keys(o).forEach(function(e){var t,i=o[e],r=c[e];if(c.hasOwnProperty(e))switch(e){case"merkleId":case"uid2":s[r]=i.id;break;case"lipb":s[r]=i.lipbid,Array.isArray(i.segments)&&0<i.segments.length&&(t="liveintent:"+i.segments.join("|"),s.sm=(s.sm?s.sm+",":"")+t);break;case"parrableId":s[r]=i.eid;break;case"novatiq":s[r]=i.snowflake;break;case"id5id":s[r]=i.uid;break;default:s[r]=i}}),e=s,ProperMedia.utils.formatQueryString(e,!0)),C=(l=S.alias?"https://onscroll-d.openx.net/v/1.0/avjp":l,(l=ProperMedia.utils.deepAccess(properOps,"bidders.header."+x+".account_overrides.enabled")?ProperMedia.utils.deepAccess(properOps,"bidders.header."+x+".account_overrides.bidder_ids.endpoint_url")||l:l)+"?"+d),O=(properLog.mylog(C,x),I.incrementRequestsSent(A),ProperMedia.utils.getTimestampMs()),T=new Date,d=ProperMedia.utils.deepAccess(properOps,"bidders.header."+x+".edge")||!1;$.ajax({url:C,requestType:"cors",bidder:x,edge:d,cache:!0,data:e,success:function(e){try{properLog.mylog(e,x);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(O,t),r=ProperMedia.utils.safeJsonParse(e)||{};if(r&&r.ads&&r.ads.ad&&0<Object.keys(r.ads.ad).length)for(var s=r.ads.ad||[],o=0;o<s.length;o++){var a=s[o]||{},n=a.creative[0]||{},d=Number(a.pub_rev)/1e3||0,p=a.html||"",l=n.width||1,c=n.height||1,u=a.adunitid||0,g=n.id||"",m=a.adid||"",h=a.idx||0,_=(P=a,w=T,M=void 0,E&&(E=!1,(w={bd:+new Date-w,bp:P.pub_rev,br:"0",bs:ProperMedia.utils.getPageDomain(),bt:3e3,ts:P.ts}).br=w.bt<w.bd?"t":"p",P=(P&&P.creative&&P.creative[0]&&P.creative[0].tracking&&P.creative[0].tracking.impression||"").match(/([^?]+\/)ri\?/),M=P&&1<P.length?P[1]+"bo?"+ProperMedia.utils.formatQueryString(w,!0):M)&&userSyncs.add({type:"image",url:M,bidder:j+"_registerBeacon"}),ProperMedia.utils.deepAccess(k,h+".price_floor")||0),b='<div id="'+(ProperMedia.utils.deepAccess(k,h+".slot_div")||"")+'"></div>',f=new adObj({bidder:x,size:l+"x"+c,price:d,gross:d,adcode:b+p,tag_id:u,crid:g,adid:m,request_url:C,response:a,response_ms:i,received_ts:t,ttl:S.default_bid_ttl,floor:_});I.logBidResponse(f)}else{f=new adObj({bidder:x,price:0,gross:0,tag_id:"",request_url:C,response:e,response_ms:i,received_ts:t,ttl:0});I.logNoBidResponse(f)}var v=r,y="//u.openx.net/w/1.0/pd";v&&(v.ads&&v.ads.pixels?y=v.ads.pixels:v.pixels&&(y=v.pixels)),v="",gdprConsent&&(v=(v+="?gdpr="+(gdprConsent.gdprApplies?1:0))+"&gdpr_consent="+encodeURIComponent(gdprConsent.consentString||"")),uspConsent&&uspConsent.usPrivacy&&(v+=(0<v.length?"&":"?")+"us_privacy="+encodeURIComponent(uspConsent.usPrivacy)),userSyncs.add({type:"iframe",url:y+v,bidder:j}),I.incrementBidResponseCount(A)}catch(e){throw e.bidder=x,e}var P,w,M},error:function(e){try{I.incrementBidResponseCount(A);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(O,t),r={bidder:x,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};I.logBidResponseError(r)}catch(e){throw e.bidder=x,e}}})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,gvlid:69}}}(),bidAdapters.pubmatic=function(){var w="https://hbopenbid.pubmatic.com/translator?source=prebid-client",i=109126;function r(o,a,n){var d={imps:{},data_map:{},request_cnt:0};return 0<Object.keys(o).length&&Object.keys(o).forEach(function(e){for(var t=0;t<o[e].length;t++){var i,r=o[e][t],s=(1==r&&(r=ProperMedia.utils.makeid(10)),void 0===d.imps[r]&&(i=r.split("-")[0],s=e.split("x"),d.imps[r]={id:r.toString(),tagid:i.toString(),bidfloor:0,bidfloorcur:"USD",secure:1,ext:{}},"display"==n.demand_type?d.imps[r].banner={w:parseInt(s[0]),h:parseInt(s[1]),pos:0,format:[],topframe:1}:"native"==n.demand_type&&(d.imps[r].native=JSON.stringify({request:{ver:"1.2",context:1,plcmttype:1,privacy:1,assets:[{id:1,required:1,title:{len:80}},{id:2,required:1,img:{type:3,w:parseInt(s[0]),h:parseInt(s[1])}},{id:3,required:0,img:{type:1,w:50,h:50}},{id:4,required:1,data:{type:1}},{id:5,required:0,data:{type:2}},{id:6,required:1,data:{type:0}},{id:10,required:0,img:{type:0,w:50,h:50}},{id:11,required:0,data:{type:1}},{id:12,required:0,data:{type:2}},{id:21,required:0,data:{type:11}},{id:22,required:0,data:{type:12}}]}}))),"display"==n.demand_type&&d.imps[r].banner.format.push((i=(i=e).split("x"),{w:parseInt(i[0]),h:parseInt(i[1])})),getBidderFloor(a,e));(!d.imps[r].bidfloor||s<d.imps[r].bidfloor)&&(d.imps[r].bidfloor=s,d.data_map[r]=s),d.request_cnt++}}),d}return{send:function(_){var b=_.bidder,f=properOps.bidder_info[b]||f,e=r(_.requests,b,f),t=ProperMedia.utils.objectValues(e.imps)||[],v=e.data_map||{},y=e.request_cnt;if(i=f.alias?159475:i,properUser.checkAdBlockDetected()&&properUser.adblock.acceptable_ads&&properUser.adblock.deliver_to_adblock?i=161355:ProperMedia.utils.deepAccess(properOps,"bidders.header."+b+".account_overrides.enabled")&&(i=ProperMedia.utils.deepAccess(properOps,"bidders.header."+b+".account_overrides.bidder_ids.pubId")||i),0==t.length)return!1;e={id:""+(new Date).getTime(),at:1,cur:["USD"],imp:t,site:{page:properPage.bidder_page_url,domain:properPage.domain,ref:properPage.referrer,publisher:{id:i.toString()}},device:{ua:navigator.userAgent,js:1,h:parseInt(properPage.height),w:parseInt(properPage.width),dnt:0,language:navigator.language,geo:{}},user:{geo:{}},ext:{wrapper:{wp:"pbjs",wv:"prebid_prebid_"+properOps.prebid_version,transactionId:ProperMedia.utils.generateUUID()}},tmax:550};1==properOps.testing_mode.ids&&(e.test=1),e.device.language=e.device.language&&e.device.language.split("-")[0],(t=userIds.getEidsArray())&&t.length&&ProperMedia.utils.deepSetValue(e,"user.eids",t);""!=(t=schainCheck(b))&&ProperMedia.utils.deepSetValue(e,"source.ext.schain",t),ProperMedia.utils.deepAccess(properSpecialOps,"coppa")&&ProperMedia.utils.deepSetValue(e,"regs.coppa",1),ProperMedia.utils.deepSetValue(e,"user.ext.consent",gdprConsent.consentString||""),ProperMedia.utils.deepSetValue(e,"regs.ext.gdpr",gdprConsent.gdprApplies?1:0),uspConsent.usPrivacy&&ProperMedia.utils.deepSetValue(e,"regs.ext.us_privacy",uspConsent.usPrivacy),properLog.mylog(w,b),_.incrementRequestsSent(y);var P=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(properOps,"bidders.header."+b+".edge")||!1;$.ajax({method:"POST",url:w,requestType:"cors",bidder:b,edge:t,data:JSON.stringify(e),success:function(e){try{e=ProperMedia.utils.safeJsonParse(e);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(P,t);if(e&&e.seatbid&&0<e.seatbid.length&&e.seatbid[0].bid&&0<e.seatbid[0].bid.length)for(var r=0;r<e.seatbid.length;r++)if(e.seatbid[r].bid)for(var s=0;s<e.seatbid[r].bid.length;s++){var o,a=e.seatbid[r].bid[s],n=a.impid,d=a.price||0,p=a.w||0,l=a.h||0,c=a.cid||"",u=a.crid||"",g=a.adm||"",m=a.adomain||[],h=new adObj({bidder:b,size:p+"x"+l,price:parseFloat(d),gross:parseFloat(d),tag_id:n,cid:c,crid:u,adomain:m,request_url:w,response:a,response_ms:i,received_ts:t,ttl:f.default_bid_ttl,floor:ProperMedia.utils.deepAccess(v,n)||0});"native"==f.demand_type?(h.type="native",(o=(g=JSON.parse(g.replace(/\\/g,""))).native).clickTrackers=ProperMedia.utils.deepAccess(o,"link.clicktrackers")||[],h.native=o):h.adcode=g,_.logBidResponse(h)}else _.logNoBidResponse(new adObj({bidder:b,price:0,gross:0,tag_id:"",request_url:w,response:e.seatbid[r],response_ms:i,received_ts:t,ttl:0}));else _.logNoBidResponse(new adObj({bidder:b,price:0,gross:0,tag_id:"",request_url:w,response:e,response_ms:i,received_ts:t,ttl:0}));_.incrementBidResponseCount(y)}catch(e){throw e.bidder=b,e}},error:function(e){try{_.incrementBidResponseCount(y);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(P,t),r={bidder:b,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};_.logBidResponseError(r)}catch(e){throw e.bidder=b,e}}})},bidderInfo:{rev_share:.81,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,acceptable_ads:!0,gvlid:76},getUserSyncs:function(){var e="https://ads.pubmatic.com/AdServer/js/showad.js#PIX&kdntuid=1&p="+i;gdprConsent&&(e=(e+="&gdpr="+(gdprConsent.gdprApplies?1:0))+"&gdpr_consent="+encodeURIComponent(gdprConsent.consentString||"")),uspConsent.usPrivacy&&(e+="&us_privacy="+encodeURIComponent(uspConsent.usPrivacy)),userSyncs.add({type:"iframe",url:e,bidder:"pubmatic"})},formatRequest:r}}(),bidAdapters.rhythmone=function(){var E="2.1",D=Date.now(),l=null,L="https://hbevents.1rx.io/audit",c=[2,3,5,6],u=["video/mp4","application/javascript"],g=[1,2,3,4],m=[1,2],h=[1,2];function i(a,n,d){var p={imps:[],data_map:{}};return 0<Object.keys(a).length&&Object.keys(a).forEach(function(e){for(var t=0;t<a[e].length;t++){var i=e.split("x"),r=ProperMedia.utils.makeid(10),s=getBidderFloor(n,e),o={id:r,bidfloor:s,secure:properPage.use_ssl?1:0,ext:{bidder:{placementId:l,zone:"1r",path:"mvo"}}};"display"==d.demand_type?o.banner={format:[{w:i[0],h:i[1]}]}:"video"==d.demand_type&&(o.video={mimes:u,protocols:c,w:parseInt(i[0]),h:parseInt(i[1]),startdelay:0,skip:0,playbackmethod:g,delivery:m,api:h}),p.imps.push(o),p.data_map[r]=s}}),p}return{formatRequest:i,send:function(I){var x=I.bidder,S=properOps.bidder_info[x]||S,e=(ProperMedia.utils.deepAccess(properOps,"bidders.header."+x+".site_id")||"").toString().split("-")||["",""];if(!(l=properDevice.isMobile()&&2==e.length?e[1]:e[0]))return properLog.mylog("Error: RhythmOne Site ID is Required."),!1;var k=i(I.requests,x,S),A=k.imps||[],C=k.data_map||{},O=k.imps.length,e=/(^v|(\.0)+$)/gi,T="https://tag.1rx.io/rmp/{placementId}/0/{path}?z={zone}",e=(T=(T=(T=T.replace(/\{placementId\}/i,l)).replace(/\{zone\}/i,"1r")).replace(/\{path\}/i,"mvo"),T+="&hbv="+properOps.prebid_version.replace(e,"")+","+E.replace(e,""),{id:ProperMedia.utils.generateUUID(),imp:A,site:{domain:properPage.domain,page:properPage.bidder_page_url,ref:properPage.referrer},device:{ua:navigator.userAgent,ip:"",dnt:ProperMedia.utils.getDNT()?1:0},at:1,tmax:550}),j=(""!=(t=schainCheck(x))&&ProperMedia.utils.deepSetValue(e,"source.ext.schain",t),e.user={ext:{consent:gdprConsent.gdprApplies?gdprConsent.consentString:""}},e.regs={ext:{gdpr:!!gdprConsent.gdprApplies&&Boolean(1&gdprConsent.gdprApplies)}},properLog.mylog(T,x),I.incrementRequestsSent(O),D=Date.now(),ProperMedia.utils.getTimestampMs()),t=ProperMedia.utils.deepAccess(properOps,"bidders.header."+x+".edge")||!1;$.ajax({url:T,method:"POST",requestType:"cors",bidder:x,edge:t,data:JSON.stringify(e),success:function(e){try{properLog.mylog(e,x),e=ProperMedia.utils.safeJsonParse(e);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(j,t);if(e&&e.seatbid&&0<e.seatbid.length&&e.seatbid[0].bid&&0<e.seatbid[0].bid.length)for(var r=0;r<e.seatbid.length;r++)for(var s=0;s<e.seatbid[r].bid.length;s++){var o=e.seatbid[r].bid[s],a=o.impid||"",n=o.w||1,d=o.h||1,p=o.price||0,l=o.adm||"",c=o.crid||"",u=o.adomain||[];if(1==n&&1==d)try{n=("display"==S.demand_type?A[0].banner.format[0]:A[0].video).w,d=("display"==S.demand_type?A[0].banner.format[0]:A[0].video).h}catch(e){}else 1280==parseInt(n)&&760==parseInt(d)&&(n=properDevice.isMobile()?400:640,d=properDevice.isMobile()?300:480);var g,m=new adObj({bidder:x,size:n+"x"+d,price:parseFloat(p),gross:parseFloat(p),tag_id:n+"x"+d,crid:c,adomain:u,request_url:T,response:o,response_ms:i,received_ts:t,ttl:S.default_bid_ttl,floor:ProperMedia.utils.deepAccess(C,a)||0});"video"==S.demand_type?(m.type="video",m.vast_tag=o.nurl||"",g=ProperMedia.utils.parseVastVpaid(m.vast_tag),m.vast_type=g.vast_type,m.vpaid=g.vpaid,m.video_type=S.video_type):m.adcode=l,I.logBidResponse(m)}else{m=new adObj({bidder:x,price:0,gross:0,tag_id:"",request_url:T,response:e,response_ms:i,received_ts:t,ttl:0});I.logNoBidResponse(m)}var h=k,_=x,b=[],f=[],v=(ProperMedia.utils.deepAccess(properOps,"bidders.header."+_+".site_id")||"").toString().split("-")||["",""],y=properDevice.isMobile()&&2==v.length?v[1]:v[0],P=(Object.keys(h).forEach(function(e){b.push(e),f.push(y)}),{doc_version:1,doc_type:"Prebid Audit",placement_id:f.join(",").replace(/[,]+/g,",").replace(/^,|,$/g,"")}),h=(v="undefined"!=typeof window?window:{document:{location:{href:""}}}).document.location.ancestorOrigins,w=[],M=L+"?";h&&0<h.length&&(P.ancestor_origins=h[h.length-1]),P.popped=null!==v.opener?1:0,P.framed=v.top===v?0:1;try{P.url=v.top.document.location.href.toString()}catch(e){P.url=v.document.location.href.toString()}try{P.prebid_version=properOps.prebid_version.toString(),P.prebid_timeout=1200}catch(e){}P.response_ms=Date.now()-D,P.placement_codes=b.join(","),P.bidder_version=E,P.gdpr_consent=gdprConsent.consentString,P.gdpr="boolean"==typeof gdprConsent.gdprApplies&&gdprConsent.gdprApplies,Object.keys(P).forEach(function(e){w.push(encodeURIComponent(e)+"="+encodeURIComponent("object"==typeof P[e]?JSON.stringify(P[e]):P[e]))}),w.sort(),userSyncs.add({type:"image",url:M+w.join("&"),bidder:_}),I.incrementBidResponseCount(O)}catch(e){throw e.bidder=x,e}},error:function(e){try{I.incrementBidResponseCount(O);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(j,t),r={bidder:x,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};I.logBidResponseError(r)}catch(e){throw e.bidder=x,e}}})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:35e4,gvlid:36}}}(),bidAdapters.rubicon=function(){var p=8777,t=15380,S={"468x60":1,"728x90":2,"120x90":5,"120x600":8,"160x600":9,"300x600":10,"200x200":13,"250x250":14,"300x250":15,"336x280":16,"300x100":19,"980x120":31,"250x360":32,"180x500":33,"980x150":145,"468x400":37,"930x180":38,"750x100":39,"750x200":40,"750x300":41,"320x50":43,"300x50":44,"300x300":48,"1024x768":53,"300x1050":54,"970x90":55,"970x250":57,"1000x90":58,"320x80":59,"320x150":60,"1000x1000":61,"580x500":64,"640x480":65,"930x600":66,"320x480":67,"1800x1000":68,"320x320":72,"320x160":73,"980x240":78,"980x300":79,"980x400":80,"480x300":83,"970x310":94,"970x210":96,"480x320":101,"768x1024":102,"480x280":103,"250x800":105,"320x240":108,"1000x300":113,"320x100":117,"800x250":125,"200x600":126,"980x600":144,"320x250":159,"250x600":179,"600x300":195,"640x360":198,"640x200":199,"1030x590":213,"980x360":214,"320x180":229,"580x400":232,"400x600":257};function o(s,o,e){var a={imps:{},request_cnt:0},n={},d=ProperMedia.utils.deepAccess(properOps,"bidders.header."+o+".site_id")||0;return p=e.alias?t:p,ProperMedia.utils.deepAccess(properOps,"bidders.header."+o+".account_overrides.enabled")&&(p=ProperMedia.utils.deepAccess(properOps,"bidders.header."+o+".account_overrides.bidder_ids.accountId")||p),d?0<Object.keys(s).length&&Object.keys(s).forEach(function(e){for(var t=0;t<s[e].length;t++){var i,r=s[e][t];void 0===a.imps[r]&&(i=r.split("-")[0],n[r]=[],a.imps[r]={account_id:parseInt(p),site_id:parseInt(d),zone_id:parseInt(i),size_id:void 0,alt_size_ids:"",rp_floor:getBidderFloor(o,e),rp_secure:1==properPage.use_ssl?"1":"0",tk_flint:"pbjs_lite_v3.2.0","x_source.tid":ProperMedia.utils.generateUUID(),p_screen_res:properPage.width+"x"+properPage.height,kw:"",tk_user_key:"","p_geo.latitude":void 0,"p_geo.longitude":void 0,"tg_fl.eid":r,rf:properPage.bidder_page_url},""!=schainCheck(o))&&properOps.schain.nodes&&properOps.schain.nodes[0]&&properOps.schain.nodes[0].sid&&(a.imps[r]["x_source.pchain"]="proper.io:"+properOps.schain.nodes[0].sid),void 0!==S[e]&&(i=getBidderFloor(o,e),(!a.imps[r].rp_floor||i<a.imps[r].rp_floor)&&(a.imps[r].rp_floor=i),n[r].push(S[e]),n[r]=function(e){var s=[15,2,9];return e.sort(function(e,t){var i=s.indexOf(e),r=s.indexOf(t);return-1<i||-1<r?-1===i?1:-1===r?-1:i-r:e-t})}(n[r]),a.imps[r].size_id=n[r][0],a.imps[r].alt_size_ids=n[r].slice(1).join(","),a.request_cnt++)}}):properLog.mylog("Error: Rubicon Site ID is Required."),a}return Object.keys(S).forEach(function(e){S[S[e]]=e}),{send:function(v){var y=v.bidder,P=properOps.bidder_info[y]||P,e=o(v.requests,y,P),w=ProperMedia.utils.objectValues(e.imps)||[],M=e.request_cnt;if(0==M)return!1;var t,i,r,s=function(s){if(1===s.length)return s[0];var r=s.reduce(function(t,i,r){return Object.keys(i).forEach(function(e){t.hasOwnProperty(e)||(t[e]=new Array(s.length)),t[e].splice(r,1,i[e])}),t},{}),o=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(r).forEach(function(e){var t=r[e].join(";"),i=t.match(o);r[e]=i?i[1]:t}),r}(w);properUser.pubcid&&(s.ppuid=properUser.pubcid),(e=userIds.getEidsArray())&&e.length&&e.forEach(function(t){try{"adserver.org"===t.source?(s.tpid_tdid=t.uids[0].id,s["eid_adserver.org"]=t.uids[0].id):"liveintent.com"===t.source?(s["tpid_liveintent.com"]=t.uids[0].id,s["eid_liveintent.com"]=t.uids[0].id,t.ext&&Array.isArray(t.ext.segments)&&t.ext.segments.length&&(s["tg_v.LIseg"]=t.ext.segments.join(","))):"liveramp.com"===t.source?s.x_liverampidl=t.uids[0].id:"id5-sync.com"===t.source?s["eid_id5-sync.com"]=t.uids[0].id+"^"+t.uids[0].atype+"^"+(t.uids[0].ext&&t.uids[0].ext.linkType||""):s["eid_"+t.source]=t.uids[0].id+"^"+(t.uids[0].atype||"")}catch(e){properLog.mylog("Rubicon: error reading eid:"+t+". "+JSON.stringify(e))}}),ProperMedia.utils.deepAccess(properSpecialOps,"coppa")&&(s.coppa=1),"boolean"==typeof gdprConsent.gdprApplies&&(s.gdpr=Number(gdprConsent.gdprApplies)),s.gdpr_consent=gdprConsent.consentString,uspConsent.usPrivacy&&(s.us_privacy=encodeURIComponent(uspConsent.usPrivacy));""!=(e=schainCheck(y))&&(s.rp_schain=ProperMedia.utils.formatSupplyChainString(e)),s.slots=w.length,s.rand=Math.random(),e=s,t=/^tg_v/,i=/^tg_i/,(r=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","rf","dt.id","dt.keyv","dt.pref","p_geo.latitude","p_geo.longitude","kw"].concat(Object.keys(e).filter(function(e){return t.test(e)})).concat(Object.keys(e).filter(function(e){return i.test(e)})).concat(["tk_flint","x_source.tid","p_screen_res","rp_floor","rp_secure","tk_user_key"])).concat(Object.keys(e).filter(function(e){return-1===r.indexOf(e)}));var I="https://fastlane.rubiconproject.com/a/api/fastlane.json?"+ProperMedia.utils.formatQueryString(s,!0),x=(properLog.mylog(I,y),v.incrementRequestsSent(M),ProperMedia.utils.getTimestampMs()),e=ProperMedia.utils.deepAccess(properOps,"bidders.header."+y+".edge")||!1;$.ajax({url:I,requestType:"cors",bidder:y,edge:e,success:function(e){try{properLog.mylog(e,y);var t=ProperMedia.utils.safeJsonParse(e)||{};if(t&&"object"==typeof t){var i=ProperMedia.utils.getTimestampMs(),r=ProperMedia.utils.calcResponseMs(x,i),s=t.ads||[];if(Array.isArray(s)&&0<s.length)for(var o=0;o<s.length;o++){var a,n,d,p,l,c,u,g,m,h,_,b=s[o],f=w&&w[o]&&w[o]["tg_fl.eid"]?w[o]["tg_fl.eid"]:"";"ok"!==b.status?void 0!==b.reason&&properLog.mylog("rubicon resposne status: "+b.reason):(a=b.cpm||0,n=b.status||"",d=b.script||"",p=b.type||"",l=b.size_id||"",c=b.dealid||"",u=b.adomain||[],t.zoneId,g=b.creative_id||b.crid||(b.network||"")+"-"+(b.advertiser||""),m=ProperMedia.utils.deepAccess(b,"ext.bidder.rp.advid")||"",h=S[l]||"unknown",_=("script"==p&&(d=d&&"<script>"+d+"<\/script>"),ProperMedia.utils.deepAccess(w,o+".rp_floor")||getBidderFloor(y,h)),b=(void 0!==b.advertiser&&b.advertiser,void 0!==b.seat&&b.seat,void 0!==b.creative_id&&b.creative_id,void 0!==b.campaign_id&&b.campaign_id,void 0!==b.ad_id&&b.ad_id,new adObj({bidder:y,size:h,price:parseFloat(a),gross:parseFloat(a),adcode:d,tag_id:f,adid:m,dealid:c,crid:g,adomain:u,request_url:I,response:b,response_ms:r,received_ts:i,ttl:P.default_bid_ttl,floor:_})),"no-ads"!==n?v.logBidResponse(b):v.logNoBidResponse(b))}else{b=new adObj({bidder:y,price:0,gross:0,tag_id:"",request_url:I,response:t,response_ms:r,received_ts:i,ttl:0});v.logNoBidResponse(b)}}else{b=new adObj({bidder:y,price:0,gross:0,tag_id:"",request_url:I,response:t,response_ms:r,received_ts:i,ttl:0});v.logNoBidResponse(b)}v.incrementBidResponseCount(M)}catch(e){throw e.bidder=y,e}},error:function(e){try{v.incrementBidResponseCount(M);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(x,t),r={bidder:y,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};v.logBidResponseError(r)}catch(e){throw e.bidder=y,e}}})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,gvlid:52},getUserSyncs:function(){var e="";"boolean"==typeof gdprConsent.gdprApplies?e+="?gdpr="+Number(gdprConsent.gdprApplies)+"&gdpr_consent="+gdprConsent.consentString:e+="?gdpr_consent="+gdprConsent.consentString,uspConsent.usPrivacy&&(e+=(0<e.length?"&":"?")+"us_privacy="+encodeURIComponent(uspConsent.usPrivacy)),userSyncs.add({type:"iframe",url:"https://eus.rubiconproject.com/usync.html"+e,bidder:"rubicon"})},formatRequest:o}}(),bidAdapters.sharethrough=function(){var v={rev_share:1,demand_type:"display",bid_grouping:"slot",default_bid_ttl:36e4,gvlid:80},y="sharethrough";function e(e){var o={};if(e.requests&&i(e.requests,""),e.slot_requests)for(var t in e.slot_requests)i(e.slot_requests[t],t);function i(r,s){0<Object.keys(r).length&&Object.keys(r).forEach(function(e){for(var t=0;t<r[e].length;t++){var i=r[e][t];void 0===o[i]&&(o[i]={tag_id:i,pkey:i,size:e,slot_name:s})}})}return o}return{formatRequest:e,send:function(f){var t=e(f);Object.keys(t).forEach(function(e){var u=t[e],g=u.pkey,m=u.size,h=getBidderFloor(y,m),e={placement_key:g,bidId:g,bidfloor:h,consent_required:!1,instant_play_capable:function(){var e=navigator.userAgent;if(!e)return!1;var t=/Android/i.test(e),i=/iPhone|iPad|iPod/i.test(e),r=parseInt((/Chrome\/([0-9]+)/.exec(e)||[0,0])[1]),s=parseInt((/CriOS\/([0-9]+)/.exec(e)||[0,0])[1]),e=parseInt((/Version\/([0-9]+)/.exec(e)||[0,0])[1]);return!!(t&&53<=r||i&&(10<=e||53<=s)||!t&&!i)}(),hbSource:"prebid",hbVersion:"3.0.0",strVersion:"3.2.0"};ProperMedia.utils.mergeObject(e,function(){var e={},t=userIdAdapters.identityLink.getValue();t&&(e.idluid=t);t=userIdAdapters.pubCommonId.getValue();t&&(e.shduid=t);t=userIdAdapters.id5Id.getValue();t&&(e.id5uid={id:t},t=ProperMedia.utils.deepAccess(userIdAdapters.identityLink,"idObj.id5id.ext.linkType"))&&(e.id5uid.linkType=t);t=properUser.pubcid;t&&(e.pubcid=t);return e}()),gdprConsent.consentString&&(e.consent_string=gdprConsent.consentString),e.consent_required=!!gdprConsent.gdprApplies,uspConsent.usPrivacy&&(e.us_privacy=uspConsent.usPrivacy),properOps.schain&&(e.schain=JSON.stringify(properOps.schain));var _="https://btlr.sharethrough.com/WYu2BXv1/v1?"+(e=ProperMedia.utils.formatQueryString(e,!0)),b=(properLog.mylog(_,y),f.incrementRequestsSent(1),ProperMedia.utils.getTimestampMs()),e=ProperMedia.utils.deepAccess(properOps,"bidders.header."+y+".edge")||!1;$.ajax({url:_,method:"GET",requestType:"cors",bidder:y,edge:e,success:function(e){try{properLog.mylog(e,y);var t,i,r,s,o,a,n,d=ProperMedia.utils.getTimestampMs(),p=ProperMedia.utils.calcResponseMs(b,d),l=ProperMedia.utils.safeJsonParse(e);l&&0<l.creatives.length?(t=l.creatives[0],i=l.bidId||"",r=t.cpm||0,s="str_response_"+i,o=ProperMedia.utils.b64EncodeUnicode(JSON.stringify(l)),a=(a='<div data-str-native-key="'+g+'" data-stx-response-name="'+s+'"></div>')+"<script>var "+s+' = "'+o+'"<\/script><script src="//native.sharethrough.com/assets/sfp.js"><\/script>',n=new adObj({bidder:y,size:m,price:parseFloat(r),gross:parseFloat(r),adcode:a,tag_id:i,request_url:_,response:l,response_ms:p,received_ts:d,ttl:v.default_bid_ttl,floor:h,target_slot:u.slot_name||""}),f.logBidResponse(n)):(n=new adObj({bidder:y,price:0,gross:0,tag_id:"",request_url:_,response:l,response_ms:p,received_ts:d,ttl:0}),f.logNoBidResponse(n)),(c=l)&&c.cookieSyncUrls&&(c=c.cookieSyncUrls.map(function(e){return{type:"image",url:e,bidder:y}}),userSyncs.add(c)),f.incrementBidResponseCount(1)}catch(e){throw e.bidder=y,e}var c},error:function(e){try{f.incrementBidResponseCount(1);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(b,t),r={bidder:y,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};f.logBidResponseError(r)}catch(e){throw e.bidder=y,e}}})})},bidderInfo:v}}(),bidAdapters.smart_adserver=function(){var v="https://prg.smartadserver.com/prebid/v1";function t(o,a,n){var d={},p=ProperMedia.utils.deepAccess(properOps,"bidders.header."+a+".account_overrides.enabled")?ProperMedia.utils.deepAccess(properOps,"bidders.header."+a+".account_overrides.bidder_ids.page_id"):"";return!p&&n.alias&&(p="1284312"),0<Object.keys(o).length&&Object.keys(o).forEach(function(e){for(var t=0;t<o[e].length;t++){var i,r=o[e][t],s=(void 0===d[r]&&(s=r.split("-"),!p&&(p=s[0]||p,s.length<2||!s[1]||!s[0])&&properLog.mylog("Error: Smart Ad Server missing id for tag_id. Tag ID needs to be in format: {pageid}-{formatid} or page_id must be filled out"),d[r]={pageid:p,formatid:s[1],sizes:[],bidfloor:0,tagId:ProperMedia.utils.generateUUID(),transactionId:ProperMedia.utils.generateUUID(),bidId:ProperMedia.utils.generateUUID()}),getBidderFloor(a,e));(!d[r].bidfloor||s<d[r].bidfloor)&&(d[r].bidfloor=s),"video"==n.demand_type?(i=e.split("x"),d[r].isVideo="outstream"!=n.video_type,d[r].videoData={videoProtocol:6,playerWidth:i[0],playerHeight:i[1],adBreak:1}):d[r].sizes.push((i=(i=e).split("x"),{w:parseInt(i[0]),h:parseInt(i[1])}))}}),d}return{formatRequest:t,send:function(_){var b=_.bidder,f=properOps.bidder_info[b]||f;if(!(e=ProperMedia.utils.deepAccess(properOps,"bidders.header."+b+".site_id")||"")&&f.alias&&(page_id="2923"),!e)return properLog.mylog("Error: Smart Ad Server site is required."),!1;var i={siteid:e,currencyCode:"USD",ckid:0,pageDomain:properPage.domain,prebidVersion:properOps.prebid_version,timeout:1e3};""!=(e=schainCheck(b))&&(i.schain=ProperMedia.utils.formatSupplyChainString(e));(e=userIds.getEidsArray())&&e.length&&(i.eids=e),i.addtl_consent=gdprConsent.addtlConsent,i.gdpr_consent=gdprConsent.consentString,i.gdpr=gdprConsent.gdprApplies,uspConsent.usPrivacy&&(i.us_privacy=uspConsent.usPrivacy),gppConsent.gppString&&(i.gpp=gppConsent.gppString,i.gpp_sid=gppConsent.applicableSections);var e=t(_.requests,b,f);(ProperMedia.utils.objectValues(e)||[]).forEach(function(e){var g,m,h,t;g=e,e=ProperMedia.utils.mergeObject({},i,g),properLog.mylog(v,b),m="video"==f.demand_type?1:e.sizes.length,_.incrementRequestsSent(m),h=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(properOps,"bidders.header."+b+".edge")||!1,$.ajax({url:v,method:"POST",requestType:"cors",bidder:b,edge:t,data:JSON.stringify(e),success:function(e){try{var t,i,r,s,o,a,n,d,p=ProperMedia.utils.getTimestampMs(),l=ProperMedia.utils.calcResponseMs(h,p);(e=e?ProperMedia.utils.safeJsonParse(e):"")?(properLog.mylog(e,b),t=e.cpm||0,i=e.width||1,r=e.height||1,s=e.dealId||"",o=e.creativeId||"",a=1e3*e.ttl||f.default_bid_ttl,n=new adObj({bidder:b,size:i+"x"+r,price:parseFloat(t),gross:parseFloat(t),tag_id:g.pageid+"-"+g.formatid,dealid:s,crid:o,request_url:v,response:e,response_ms:l,received_ts:p,ttl:a,floor:g.bidfloor||0}),"video"==f.demand_type?(n.type="video",n.vast_tag=e.adUrl,d=ProperMedia.utils.parseVastVpaid(n.vast_tag),n.vast_type=d.vast_type,n.vpaid=d.vpaid,n.video_type=f.video_type):n.adcode=e.ad,e.isNoAd?_.logNoBidResponse(n):_.logBidResponse(n),u=b,(c=e).cSyncUrl?userSyncs.add({type:"iframe",url:c.cSyncUrl,bidder:u}):c.dspPixels&&c.dspPixels.length&&c.dspPixels.forEach(function(e){userSyncs.add({type:"image",url:e,bidder:u})})):(properLog.mylog("No Smart Ad Server bids returned"),_.logNoBidResponse(new adObj({bidder:b,price:0,gross:0,tag_id:"",request_url:v,response:e,response_ms:l,received_ts:p,ttl:0}))),_.incrementBidResponseCount(m)}catch(e){throw e.bidder=b,e}var c,u},error:function(e){try{_.incrementBidResponseCount(m);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(h,t),r={bidder:b,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};_.logBidResponseError(r)}catch(e){throw e.bidder=b,e}}})})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"slot",default_bid_ttl:12e4,gvlid:45}}}(),bidAdapters.sonobi=function(){function i(s,o){var a={imps:{},data_map:{},request_cnt:0};return 0<Object.keys(s).length&&Object.keys(s).forEach(function(e){for(var t=0;t<s[e].length;t++){var i=s[e][t],r=(void 0===a.imps[i]&&(r=ProperMedia.utils.deepAccess(properOps,"bidders.header."+o+".site_id")||i,a.imps[i]={bidId:r,floor:0,sizes:[]}),getBidderFloor(o,e));(!a.imps[i].floor||r<a.imps[i].floor)&&(a.imps[i].floor=r,a.data_map[i]=r),a.imps[i].sizes.push(e),a.request_cnt++}}),a}return{formatRequest:i,send:function(c){var u=c.bidder,g=properOps.bidder_info[u]||g,m=i(c.requests,u),h=m.data_map||{},s=m.request_cnt;if(0==s)return!1;var e={key_maker:"",ref:properPage.bidder_page_url,s:ProperMedia.utils.generateUUID(),pv:ProperMedia.utils.generateUUID(),vp:properDevice.device_type,lib_name:"prebid",lib_v:properOps.prebid_version,us:1,ius:1};(t=userIds.getUIdsObj())&&Object.keys(t).length&&(t.id5id&&(t.id5id=ProperMedia.utils.deepAccess(t,"id5id.uid")),e.userid=JSON.stringify(t));(t=userIds.getEidsArray())&&t.length&&(e.eids=JSON.stringify(t));var o={};Object.keys(m.imps).forEach(function(e){var t=m.imps[e],i=t.bidId,r=t.floor,t="display"==g.demand_type?t.sizes.join(","):"";o[e]=i+"|"+t+"|"+r}),e.key_maker=JSON.stringify(o);""!=(t=schainCheck(u))&&(e.schain=JSON.stringify(t)),ProperMedia.utils.deepSetValue(e,"coppa",ProperMedia.utils.deepAccess(properSpecialOps,"coppa")?1:0),gdprConsent&&"boolean"==typeof gdprConsent.gdprApplies&&(e.gdpr=gdprConsent.gdprApplies.toString(),gdprConsent.consentString)&&(e.consent_string=gdprConsent.consentString),uspConsent.usPrivacy&&(e.us_privacy=uspConsent.usPrivacy);var _="https://apex.go.sonobi.com/trinity.json?"+ProperMedia.utils.formatQueryString(e,!0),a=(properLog.mylog(_,u),c.incrementRequestsSent(s),ProperMedia.utils.getTimestampMs()),t=ProperMedia.utils.deepAccess(properOps,"bidders.header."+u+".edge")||!1;$.ajax({url:_,method:"GET",requestType:"cors",bidder:u,edge:t,success:function(n){try{properLog.mylog(n,u);var d,e,p=ProperMedia.utils.getTimestampMs(),l=ProperMedia.utils.calcResponseMs(a,p);(n=ProperMedia.utils.safeJsonParse(n)||{})&&n.slots&&0<Object.keys(n.slots).length?(d=n.sbi_dc||"",Object.keys(n.slots).forEach(function(e){var t,i,r,s,o,a=n.slots[e];0<Object.keys(a).length?(a.sbi_dozer,t=a.sbi_aid||"",a.sbi_ct,i=a.sbi_crid||a.sbi_aid||"",r=e,s=a.sbi_mouse,o=a.sbi_size,"video"==g.demand_type&&(o=m.imps[e].sizes[0]),e=[],a.sbi_adomain&&(e=[a.sbi_adomain]),o=new adObj({bidder:u,size:o,price:parseFloat(s),gross:parseFloat(s),tag_id:r,crid:i,adid:t,adomain:e,request_url:_,response:a,response_ms:l,received_ts:p,ttl:g.default_bid_ttl,floor:ProperMedia.utils.deepAccess(h,r)||0}),"video"==g.demand_type?(o.type="video",o.vast_tag="https://"+d+"apex.go.sonobi.com/vast.xml?vid="+t+"&ref="+encodeURIComponent(properPage.bidder_page_url),s=ProperMedia.utils.parseVastVpaid(o.vast_tag),o.vast_type=s.vast_type,o.vpaid=s.vpaid,o.video_type=g.video_type):o.adcode='<script type="text/javascript" src="https://'+d+"apex.go.sonobi.com/sbi.js?aid="+t+"&as=null&ref="+encodeURIComponent(properPage.bidder_page_url)+'"><\/script>',c.logBidResponse(o)):(o=new adObj({bidder:u,price:0,gross:0,tag_id:"",request_url:_,response:a,response_ms:l,received_ts:p,ttl:0}),c.logNoBidResponse(o))}),i=u,(t=n)&&t.sbi_px&&(t=t.sbi_px.map(function(e){return{type:e.type,url:e.url,bidder:i}}),userSyncs.add(t))):(e=new adObj({bidder:u,price:0,gross:0,tag_id:"",request_url:_,response:n,response_ms:l,received_ts:p,ttl:0}),c.logNoBidResponse(e)),c.incrementBidResponseCount(s)}catch(e){throw e.bidder=u,e}var t,i},error:function(e){try{c.incrementBidResponseCount(s);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(a,t),r={bidder:u,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};c.logBidResponseError(r)}catch(e){throw e.bidder=u,e}}})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:12e4,gvlid:104}}}(),bidAdapters.sovrn=function(){var a="sovrn",v="https://ap.lijit.com/rtb/bid?src=prebid_prebid_"+properOps.prebid_version;function r(s,o,e){var a={imps:{},data_map:{},request_cnt:0};return 0<Object.keys(s).length&&Object.keys(s).forEach(function(e){e.split("x");for(var t=0;t<s[e].length;t++){var i=s[e][t],r=(void 0===a.imps[i]&&(a.imps[i]={id:i.toString(),banner:{format:[],w:1,h:1},tagid:i,bidfloor:0},(r=function(){var e=[],t=ProperMedia.utils.deepAccess(properSpecialOps,"carbon_deal_id")||"";t&&(ProperMedia.utils.isStr(t)&&(t=t.split(",")),e.concat(t.map(e=>e.trim())));t=ProperMedia.utils.deepAccess(properSpecialOps,"signal_deal_id")||"";t&&(ProperMedia.utils.isStr(t)&&(t=t.split(",")),e.concat(t.map(e=>e.trim())));return e}()).length)&&(a.imps[i].ext=a.imps[i].ext||{},a.imps[i].ext.deals=r),getBidderFloor(o,e));(!a.imps[i].bidfloor||r<a.imps[i].bidfloor)&&(a.imps[i].bidfloor=r,a.data_map[i]=r),a.imps[i].banner.format.push((i=(i=e).split("x"),{w:parseInt(i[0]),h:parseInt(i[1])})),a.request_cnt++}}),a}return{send:function(h){var _=h.bidder,b=properOps.bidder_info[_]||b,e=r(h.requests,_),t=ProperMedia.utils.objectValues(e.imps)||[],f=e.data_map||{},s=e.request_cnt;if(0==t.length)return!1;var i,e={id:ProperMedia.utils.generateUUID(),imp:t,site:{domain:properPage.domain,page:properPage.bidder_page_url}};(t=userIds.getEidsArray())&&t.length&&(t.forEach(function(e){e.uids&&e.uids[0]&&"criteo.com"===e.source&&(i=e.uids[0].id)}),ProperMedia.utils.deepSetValue(e,"user.ext.eids",t),i)&&ProperMedia.utils.deepSetValue(e,"user.ext.prebid_criteoid",i);""!=(t=schainCheck(_))&&ProperMedia.utils.deepSetValue(e,"source.ext.schain",t),ProperMedia.utils.deepSetValue(e,"regs.ext.gdpr",Number(gdprConsent.gdprApplies)),ProperMedia.utils.deepSetValue(e,"user.ext.consent",gdprConsent.consentString),uspConsent.usPrivacy&&ProperMedia.utils.deepSetValue(e,"regs.ext.us_privacy",uspConsent.usPrivacy),properLog.mylog(v,_),h.incrementRequestsSent(s);var o=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(properOps,"bidders.header."+_+".edge")||!1;$.ajax({url:v,method:"POST",requestType:"cors",bidder:_,edge:t,data:JSON.stringify(e),success:function(e){try{properLog.mylog(e,_);var u,t,i,g=ProperMedia.utils.getTimestampMs(),m=ProperMedia.utils.calcResponseMs(o,g),r=((e=ProperMedia.utils.safeJsonParse(e)||{})&&e.seatbid&&0!=e.seatbid.length&&e.seatbid[0].bid&&e.seatbid[0].bid.length?(u=e.seatbid[0].bid,Object.keys(u).forEach(function(e){var e=u[e],t=e.impid||"",i=e.w+"x"+e.h,r=e.cid||"",s=e.crid||"",o=e.dealid||"",a=e.adomain||[],n=e.price||0,d=e.adm||"",p=e.nurl||"",l=1e3*ProperMedia.utils.deepAccess(e,"ext.ttl")||b.default_bid_ttl,c=ProperMedia.utils.getUrlParameters(p),c=(void 0!==c.seatid&&c.seatid,void 0!==c.campaignid&&c.campaignid,void 0!==c.bannerid&&c.bannerid,void 0!==c.cb&&c.cb,void 0!==c.rpid&&c.rpid,d&&(d=decodeURIComponent(d),p)&&(d+=ProperMedia.utils.createTrackPixel(p),p=""),new adObj({bidder:_,size:i,price:parseFloat(n),gross:parseFloat(n),adcode:d,nurl:p,tag_id:t,cid:r,crid:s,dealid:o,adomain:a,request_url:v,response:e,response_ms:m,received_ts:g,ttl:l,floor:ProperMedia.utils.deepAccess(f,t)||0}));h.logBidResponse(c)})):(properLog.mylog("no sovrn bids found"),t=new adObj({bidder:_,price:0,gross:0,tag_id:"",request_url:v,response:e,response_ms:m,received_ts:g,ttl:0}),h.logNoBidResponse(t)),e);try{r&&r.ext&&r.ext.iid&&(i="",gdprConsent&&gdprConsent.gdprApplies&&"string"==typeof gdprConsent.consentString&&(i+="&gdpr_consent="+gdprConsent.consentString),uspConsent.usPrivacy&&(i+="&us_privacy="+uspConsent.usPrivacy),userSyncs.add({type:"iframe",url:"//ap.lijit.com/beacon?informer="+r.ext.iid+i,bidder:a}))}catch(e){throw e.bidder=a,e}h.incrementBidResponseCount(s)}catch(e){throw e.bidder=_,e}},error:function(e){try{h.incrementBidResponseCount(s);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(o,t),r={bidder:_,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};h.logBidResponseError(r)}catch(e){throw e.bidder=_,e}}})},onBidWon:function(e,t){return e.nurl&&((new Image).src=e.nurl),!0},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:9e4,gvlid:13},formatRequest:r}}(),bidAdapters.sublime=function(){var f="https://pbjs.sskzlabs.com/bid",r="antenna.ayads.co",s="0.8.0",u=null,g={zoneId:"",transactionId:"",notifyId:"",timeout:3e3};function e(n,d,p){var l={imps:{},request_cnt:0},c=ProperMedia.utils.generateUUID();return 0<Object.keys(n).length&&Object.keys(n).forEach(function(e){for(var t,i=0;i<n[e].length;i++){var r,s,o,a=n[e][i];void 0===l.imps[a]&&(r=function(){var e=window.sublime=window.sublime||{},t=e.notifyId;t=t||ProperMedia.utils.generateUUID();e.notifyId||(e.notifyId=t);return t}(),s=ProperMedia.utils.generateUUID(),o=ProperMedia.utils.generateUUID(),t={transactionId:s,notifyId:r,zoneId:u,debug:properOps.testing_mode.ids||!1},Object.assign(g,t),l.imps[a]={adUnitCode:a,auctionId:c,bidder:d,requestId:a,sizes:[],notifyId:r,zoneId:u,bidRequestsCount:0,bidderRequestId:o,transactionId:s}),"display"==p.demand_type&&l.imps[a].sizes.push((t=(t=e).split("x"),{w:parseInt(t[0]),h:parseInt(t[1])}))}}),l}function i(e,t){var i=Date.now(),i={t:i,tse:i,z:g.zoneId,e:e,src:"pa",puid:g.transactionId||g.notifyId,notid:g.notifyId||"",pbav:s,pubtimeout:g.timeout,pubpbv:properOps.prebid_version,device:(/(?:phone|windows\s+phone|ipod|blackberry|Galaxy Nexus|SM-G892A|(?:android|bbd+|meego|silk|googlebot) .+?mobile|palm|windows\s+ce|opera mini|avantgo|docomo)/i.test(navigator.userAgent)?"m":/(?:ipad|playbook|Tablet|(?:android|bb\d+|meego|silk)(?! .+? mobile))/i.test(navigator.userAgent)&&"t")||"d"},e=("bidwon"===e&&(i.sspname=t||""),ProperMedia.utils.formatQueryString(i));(new Image).url="https://"+r+"/?"+e}return{formatRequest:e,send:function(h){var _=h.bidder,b=properOps.bidder_info[_]||b;if(!(u=Number(ProperMedia.utils.deepAccess(properOps,"bidders.header."+_+".site_id"))||0))return properLog.mylog("Sublime: Error Site ID is Required."),!1;var i=e(h.requests,_,b);Object.keys(i.imps).forEach(function(e){var t,u,g,m;t=i.imps[e],u=e,g="display"==b.demand_type?t.sizes.length:1,e={pbav:s,prebidVersion:properOps.prebid_version,currencyCode:"USD",timeout:3e3,referer:properPage.referrer},gdprConsent&&(e.gdprConsent=gdprConsent.consentString,e.gdpr=gdprConsent.gdprApplies),(e=Object.assign({},e,t)).bidRequestsCount=g,properLog.mylog(f,_),h.incrementRequestsSent(g),m=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(properOps,"bidders.header."+_+".edge")||!1,$.ajax({method:"POST",url:f,requestType:"cors",contentType:"text/plain",withCredentials:!1,bidder:_,edge:t,data:JSON.stringify(e),success:function(e){try{properLog.mylog(e,_);var t,i,r,s,o,a,n,d,p,e=ProperMedia.utils.safeJsonParse(e),l=ProperMedia.utils.getTimestampMs(),c=ProperMedia.utils.calcResponseMs(m,l);e&&e.ad&&!e.timeout&&!/<!--\s+No\s+ad\s+-->/gim.test(e.ad)?(e.requestId,t=e.cpm||0,i=e.width||1,r=e.height||1,s=e.creativeId,e.dealId,o=e.ad||"",a=e.ttl||b.default_bid_ttl,n=i+"x"+r,d={},e.sspname&&(d.sspname=sspname),p=new adObj({bidder:_,size:n,price:parseFloat(t),gross:parseFloat(t),tag_id:u,crid:s,adomain:[],adcode:o,ad_details:d,request_url:f,response:e,response_ms:c,received_ts:l,ttl:a}),h.logBidResponse(p)):(p=new adObj({bidder:_,price:0,gross:0,tag_id:u,request_url:f,response:e,response_ms:c,received_ts:l,ttl:0}),h.logNoBidResponse(p)),h.incrementBidResponseCount(g)}catch(e){throw e.bidder=_,e}},error:function(e){try{h.incrementBidResponseCount(g);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(m,t),r={bidder:_,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};h.logBidResponseError(r)}catch(e){throw e.bidder=_,e}}})})},onBidWon:function(e,t){i("bidwon",ProperMedia.utils.deepAccess(e,"ad_details.sspname"))},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"slot",default_bid_ttl:6e4,gvlid:114}}}(),bidAdapters.teads=function(){var f="https://a.teads.tv/hb/bid-request",s={GDPR_APPLIES_PUBLISHER:12,GDPR_APPLIES_GLOBAL:11,GDPR_DOESNT_APPLY:0,CMP_NOT_FOUND_OR_ERROR:22};function r(e,t,d){var p={data:{},data_map:{},request_cnt:0},l=ProperMedia.utils.deepAccess(properOps,"bidders.header."+t+".site_id")||0,c=ProperMedia.utils.deepAccess(e,"auction.id");if(e.requests&&r(e.requests,""),e.slot_requests)for(var i in e.slot_requests)r(e.slot_requests[i],i);function r(a,n){0<Object.keys(a).length&&Object.keys(a).forEach(function(e){for(var t=0;t<a[e].length;t++){var i,r,s=a[e][t],o=s.split("-"),o=l?(i=l,o[0]):(i=o[0],o[1]);if(!i)return properLog.mylog("Error: Teads Page ID is Required."),p;if(!o)return properLog.mylog("Error: Teads Placement ID is Required."),p;void 0===p.data[s]&&(r="teads-"+ProperMedia.utils.generateUUID(),p.data[s]={bidId:s,placementId:parseInt(o),pageId:parseInt(i),adUnitCode:r,bidderRequestId:ProperMedia.utils.generateUUID(),transactionId:ProperMedia.utils.generateUUID(),auctionId:c,sizes:[]},p.data_map[s]={sizes:[],tag_id:s,slot_name:n||""});o=d.native_sizes[e]||e;p.data[s].sizes.push(o),p.data_map[s].sizes.push(e),p.request_cnt++}})}return p}function o(e,t,i){var r=s.GDPR_APPLIES_PUBLISHER;return e?(e=i,((i=t)&&1===e?i.hasGlobalScope||i.hasGlobalConsent:i&&2===e&&!i.isServiceSpecific)&&(r=s.GDPR_APPLIES_GLOBAL)):r=s.GDPR_DOESNT_APPLY,r}return{send:function(g){var m=g.bidder,e=properOps.bidder_info[m]||e,h=r(g,m,e),e=ProperMedia.utils.objectValues(h.data)||[],_=h.request_cnt,e={referrer:properPage.bidder_page_url,data:e,deviceWidth:properPage.width,hb_version:properOps.prebid_version,...function(){var e,t={unifiedId2:"uid2.id",liveRampId:"idl_env",lotamePanoramaId:"lotamePanoramaId",id5Id:"id5id.uid",criteoId:"criteoId",yahooConnectId:"connectId",quantcastId:"quantcastId",epsilonPublisherLinkId:"publinkId",publisherFirstPartyViewerId:"pubcid",merkleId:"merkleId.id",kinessoId:"kpuid"},i=userIds.getUIdsObj(),r={};for(e in t){var s=t[e],s=ProperMedia.utils.deepAccess(i,s);s&&(r[e]=s)}return r}()},t=schainCheck(m),b=(""!=t&&(e.schain=t),gdprConsent&&(t="boolean"==typeof gdprConsent.gdprApplies,i="string"==typeof gdprConsent.consentString,t=t?o(gdprConsent.gdprApplies,gdprConsent.vendorData,gdprConsent.apiVersion):s.CMP_NOT_FOUND_OR_ERROR,e.gdpr_iab={consent:i?gdprConsent.consentString:"",status:t,apiVersion:gdprConsent.apiVersion}),uspConsent.usPrivacy&&(e.us_privacy=uspConsent.usPrivacy),properLog.mylog(f,m),g.incrementRequestsSent(_),ProperMedia.utils.getTimestampMs()),i=ProperMedia.utils.deepAccess(properOps,"bidders.header."+m+".edge")||!1;$.ajax({url:f,method:"POST",requestType:"cors",bidder:m,edge:i,data:JSON.stringify(e),success:function(e){try{e=ProperMedia.utils.safeJsonParse(e);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(b,t);if(e&&e.responses&&0<e.responses.length){properLog.mylog(e,m);for(var r=0;r<e.responses.length;r++){var s=e.responses[r],o=s.bidId||"",a=s.width||1,n=s.height||1,d=s.cpm||0,p=s.ad||"",l=s.creativeId||"",c=1e3*(s.ttl||120),u="1x1",p=("1x1"==(u=-1!==h.data_map[o].sizes.indexOf(a+"x"+n)?a+"x"+n:u)&&(u=h.data_map[o].sizes.pop()||u),(1==properOps.dfp_per_slot&&0==properPage.isolated?'<script>try { var slot_div = window.top.document.getElementById("{PROPER_SLOT_DIV_ID}-iframe").contentWindow.document.getElementById("{PROPER_SLOT_DIV_ID}"); var div = document.createElement(\'div\'); div.setAttribute("id", "'+h.data[o].adUnitCode+'"); slot_div.appendChild(div); } catch(e) { console.error(e); }<\/script>':'<script>try { var slot_div = window.top.document.getElementById("{PROPER_SLOT_DIV_ID}"); var div = document.createElement(\'div\'); div.setAttribute("id", "'+h.data[o].adUnitCode+'"); slot_div.appendChild(div); } catch(e) { console.error(e); }<\/script>')+p);g.logBidResponse(new adObj({bidder:m,size:u,price:parseFloat(d),gross:parseFloat(d),adcode:p,tag_id:o,crid:l,request_url:f,response:s,response_ms:i,received_ts:t,ttl:c,target_slot:ProperMedia.utils.deepAccess(h,"data_map."+o+".slot_name")||""}))}}else properLog.mylog("no teads bids returned"),g.logNoBidResponse(new adObj({bidder:m,price:0,gross:0,tag_id:"",request_url:f,response:e,response_ms:i,received_ts:t,ttl:0}));g.incrementBidResponseCount(_)}catch(e){throw e.bidder=m,e}},error:function(e){try{g.incrementBidResponseCount(_);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(b,t),r={bidder:m,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};g.logBidResponseError(r)}catch(e){throw e.bidder=m,e}}})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",div_insertion:1,gvlid:132,native_sizes:{native_horizontal:"300x250",native_vertical:"300x250"}},getUserSyncs:function(){var e,t="";gdprConsent&&(e={status:o(gdprConsent.gdprApplies,gdprConsent.vendorData),consent:gdprConsent.consentString},t="?gdprIab="+encodeURIComponent(JSON.stringify(e))),userSyncs.add({type:"iframe",url:"https://sync.teads.tv/iframe"+t,bidder:"teads"})},formatRequest:r}}(),bidAdapters.thirtythreeacross=function(){var p="thirtythreeacross",P="https://ssc.33across.com/api/v1/hb",r="https://de.tynt.com/deb/v2?m=xch&rt=html",l={sticky_horizontal:"1x1"};function e(o,a,n){var d={};return 0<Object.keys(o).length&&Object.keys(o).forEach(function(e){for(var t,i=0;i<o[e].length;i++){var r,s=o[e][i];void 0===d[s]&&(d[s]={},"display"==n.demand_type?(d[s].banner={format:[]},d[s].product="siab"):"video"==n.demand_type&&(r=e.split("x"),d[s].video={skip:1,skipafter:5,linearity:"outstream"==n.video_type?2:1,placement:1,startdelay:0,minduration:15,maxduration:30,playback_methods:[2,3,6],api:[1,2],mimes:["video/mp4","application/javascript"],protocols:[2,3,5,6],w:parseInt(r[0])||0,h:parseInt(r[1])||0,ext:{ttx:{bidfloors:[getBidderFloor(a,e)]}}},d[s].product=n.video_type,"outstream"==n.video_type)&&(d[s].placement=2)),"display"==n.demand_type&&(d[s].banner.format.push((r=void 0,r=(t=l[t=e]||t).split("x"),{w:parseInt(r[0]),h:parseInt(r[1]),ext:{ttx:{bidfloors:[getBidderFloor(p,t)]}}})),"sticky_horizontal"==e)&&(d[s].product="inview",d[s].special_size=e)}}),d}return{formatRequest:e,send:function(f){var v=f.bidder,y=properOps.bidder_info[v]||y,t=e(f.requests,v,y);Object.keys(t).forEach(function(e){var h=t[e],_=e,s="display"==y.demand_type?h.banner.format.length:1,b=h.product,e="inview"==b?100:"nm",i={id:ProperMedia.utils.generateUUID(),site:{id:_},device:function(){var e=window.top.self;return{ext:{ttx:{...function(){var{innerWidth:e,innerHeight:t,screen:i}=window.top.self,[i,r]=[Math.max(i.width,i.height),Math.min(i.width,i.height)];if(e<t)return{w:r,h:i};return{w:i,h:r}}(),pxr:e.devicePixelRatio,vp:function(){var e=function(){let e=window.top.self;try{for(;e.parent!==e&&e.parent.document;)e=e.parent}catch(e){}return e}(),e=e.document.documentElement;return{w:e.clientWidth,h:e.clientHeight}}(),ah:e.screen.availHeight,mtp:e.navigator.maxTouchPoints}}}}(),imp:[],ext:{ttx:{caller:[{name:"proper.io",version:"1.0"}]}},user:{ext:{eids:userIds.getEidsArray()||""}}},o=("display"==y.demand_type?i.imp.push({banner:h.banner}):"video"==y.demand_type&&i.imp.push({video:h.video}),i.imp[0]&&(i.imp[0].ext={ttx:{prod:b,viewability:{amount:isNaN(e)?e:Math.round(e)}}}),""!=(e=schainCheck(v))&&ProperMedia.utils.deepSetValue(i,"source.ext.schain",e),i.regs={ext:{gdpr:!0===gdprConsent.gdprApplies?1:0}},gdprConsent.consentString&&ProperMedia.utils.deepSetValue(i,"regs.ext.consent",gdprConsent.consentString),uspConsent.usPrivacy&&ProperMedia.utils.deepSetValue(i,"regs.ext.us_privacy",uspConsent.usPrivacy),1==properOps.testing_mode.ids&&(i.test=1),properLog.mylog(P,v),f.incrementRequestsSent(s),ProperMedia.utils.getTimestampMs()),e=ProperMedia.utils.deepAccess(properOps,"bidders.header."+v+".edge")||!1;$.ajax({method:"POST",url:P,requestType:"cors",bidder:v,edge:e,data:JSON.stringify(i),success:function(u){try{properLog.mylog(u,v),u=ProperMedia.utils.safeJsonParse(u);var e,g=ProperMedia.utils.getTimestampMs(),m=ProperMedia.utils.calcResponseMs(o,g),t=(u&&u.seatbid&&0<u.seatbid.length&&u.seatbid[0].bid&&0<u.seatbid[0].bid.length?Object.keys(u.seatbid).forEach(function(e){var c=u.seatbid[e].bid;Object.keys(c).forEach(function(e){var e=c[e],t=(u.bidid,e.price||0),i=e.w||1,r=e.h||1,s=e.adid||"",o=e.cid||"",a=e.crid||"",n=e.cat||[],d=e.adomain||[],p=(u.cur,e.adm||""),l=e.ttl||y.default_bid_ttl,i=i+"x"+r,r=("inview"==b&&"1x1"==i&&(i=h.special_size||i),new adObj({bidder:v,size:i,price:parseFloat(t),gross:parseFloat(t),tag_id:_,adid:s,cid:o,crid:a,cat:n,adomain:d,request_url:P,response:e,response_ms:m,received_ts:g,ttl:l,floor:getBidderFloor(v,i)}));"video"==y.demand_type?(r.type="video",r.vast_tag=p,t=ProperMedia.utils.parseVastVpaid(r.vast_tag),r.vast_type=t.vast_type,r.vpaid=t.vpaid,r.video_type=y.video_type):r.adcode=p,f.logBidResponse(r)})}):(e=new adObj({bidder:v,price:0,gross:0,tag_id:"",request_url:P,response:u,response_ms:m,received_ts:g,ttl:0}),f.logNoBidResponse(e)),f.incrementBidResponseCount(s),i);t=[{type:"iframe",url:r+"&id="+t.site.id+"&gdpr_consent="+encodeURIComponent(gdprConsent.consentString)+"&us_privacy="+encodeURIComponent(uspConsent.usPrivacy),bidder:p}],"boolean"==typeof gdprApplies&&(t[0].url+="&gdpr="+Number(gdprConsent.gdprApplies)),userSyncs.add(t)}catch(e){throw e.bidder=v,e}},error:function(e){try{f.incrementBidResponseCount(s);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(o,t),r={bidder:v,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};f.logBidResponseError(r)}catch(e){throw e.bidder=v,e}}})})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"slot",default_bid_ttl:6e4,gvlid:58}}}(),bidAdapters.triplelift=function(){var I="https://tlx.3lift.com/header/auction";function r(e,n,d){var p={imps:{},data_map:{},request_cnt:0};if(e.requests&&i(e.requests,""),e.slot_requests)for(var t in e.slot_requests)i(e.slot_requests[t],t);function i(o,a){0<Object.keys(o).length&&Object.keys(o).forEach(function(e){for(var t=0;t<o[e].length;t++){var i=o[e][t],r=i.split("-"),s=(s=(s=ProperMedia.utils.deepAccess(d,"native_sizes."+e)||e).split("x"),{w:parseInt(s[0]),h:parseInt(s[1])}),s=(placementId=r[0],void 0===p.imps[i]&&(r={id:i,tagid:placementId,floor:0},"display"==d.demand_type?r.banner={format:[s]}:"video"==d.demand_type&&(r.video={mimes:["video/mp4","application/javascript"],w:s.w,h:s.h,context:d.video_type},"instream"==d.video_type?r.video.placement=1:r.video.placement=3),p.imps[i]=r,p.data_map[i]={tag_id:i,tag_sizes:[],slot_name:a||"",floor:0}),getBidderFloor(n,e));(!p.imps[i].floor||s<p.imps[i].floor)&&(p.imps[i].floor=s,ProperMedia.utils.deepSetValue(p,"data_map."+i+".floor",s)),p.data_map[i].tag_sizes.push(e),p.request_cnt++}})}return p}function s(e,t,i,r){return!(!e||!e[t])&&(e=e[t],{source:i,uids:[{id:e.id||e,ext:{rtiPartner:r}}]})}return{send:function(f){var v=f.bidder,y=properOps.bidder_info[v]||y,e=r(f,v,y),t=ProperMedia.utils.objectValues(e.imps)||[],P=e.data_map||{},w=e.request_cnt;if(0==t.length)return!1;e={imp:t};t=(t=(t=I)+"?lib=prebid&v="+properOps.prebid_version)+"&referrer="+encodeURIComponent(properPage.bidder_page_url)+"&tmax=550",ProperMedia.utils.deepAccess(properSpecialOps,"coppa")&&(t+="&coppa="+!!properSpecialOps.coppa),gdprConsent&&(void 0!==gdprConsent.gdprApplies&&(t+="&gdpr="+!!gdprConsent.gdprApplies),void 0!==gdprConsent.consentString)&&(t+="&cmp_cs="+gdprConsent.consentString),uspConsent&&uspConsent.usPrivacy&&(t+="&us_privacy="+uspConsent.usPrivacy),0<(i=function(){var e=userIds.getUIdsObj()||{};{var t,i;Object.keys(e).length&&(t=function(e){return s(e,"idl_env","liveramp.com","idl")}(e),e=function(e){return s(e,"pubcid","pubcid.org","pubcid")}(e),i=[],t&&i.push(t),e)&&i.push(e)}return i}()||[]).length&&ProperMedia.utils.deepSetValue(e,"user.ext.eids",i);""!=(i=schainCheck(v))&&ProperMedia.utils.deepSetValue(e,"ext.schain",i),properLog.mylog(t,v),f.incrementRequestsSent(w);var M=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.deepAccess(properOps,"bidders.header."+v+".edge")||!1;$.ajax({url:t,requestType:"cors",method:"POST",bidder:v,edge:i,data:JSON.stringify(e),success:function(e){try{properLog.mylog(e,v);var t=ProperMedia.utils.safeJsonParse(e)||{},i=ProperMedia.utils.getTimestampMs(),r=ProperMedia.utils.calcResponseMs(M,i);if(t&&t.bids&&0<t.bids.length)for(var s=0;s<t.bids.length;s++){var o,a=t.bids[s],n=a.imp_id||0,d=a.cpm||0,p=a.ad||"",l=a.width||1,c=a.height||1,u=(a.iurl,a.crid||""),g=a.adomain||[],m=a.advertiser_name||"",h="1x1",_=("1x1"==(h=-1!==ProperMedia.utils.deepAccess(P,n+".tag_sizes").indexOf(l+"x"+c)?l+"x"+c:h)&&(h=(ProperMedia.utils.deepAccess(P,n+".tag_sizes")||[h]).pop()),parseFloat(d)),b=new adObj({bidder:v,size:h,price:_,gross:_,tag_id:ProperMedia.utils.deepAccess(P,n+".tag_id")||n,adomain:g,crid:u,adid:m,request_url:I,response:a,response_ms:r,received_ts:i,ttl:y.default_bid_ttl,floor:ProperMedia.utils.deepAccess(P,n+".floor")||0,target_slot:ProperMedia.utils.deepAccess(P,n+".slot_name")||""});"video"==y.demand_type?(b.type="video",b.vast_tag=p,o=ProperMedia.utils.parseVastVpaid(b.vast_tag),b.vast_type=o.vast_type,b.vpaid=o.vpaid,b.video_type=y.video_type):b.adcode=p,f.logBidResponse(b)}else f.logNoBidResponse(new adObj({bidder:v,price:0,gross:0,tag_id:"",request_url:I,response:t,response_ms:r,received_ts:i,ttl:0}));f.incrementBidResponseCount(w)}catch(e){throw e.bidder=v,e}},error:function(e){try{f.incrementBidResponseCount(w);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(M,t),r={bidder:v,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};f.logBidResponseError(r)}catch(e){throw e.bidder=v,e}}})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,gvlid:28,native_sizes:{native_horizontal:"300x250",native_vertical:"300x250"}},getUserSyncs:function(){var e=[];gdprConsent&&(gdprConsent.gdprApplies&&e.push("gdpr="+encodeURIComponent(gdprConsent.gdprApplies)),gdprConsent.consentString)&&e.push("cmp_cs="+encodeURIComponent(gdprConsent.consentString)),uspConsent&&uspConsent.usPrivacy&&e.push("us_privacy="+encodeURIComponent(uspConsent.usPrivacy)),userSyncs.add({type:"iframe",url:"https://eb2.3lift.com/sync?"+e.join("&"),bidder:"triplelift"})},formatRequest:r,removeCreative:function(e){try{if(1==properOps.dfp_per_slot){var t=window.top.document.querySelectorAll("#"+CSS.escape(e.div_id)+" .tlod");if(t&&0<t.length)for(var i=0;i<t.length;i++){var r=t[i];r.parentNode.removeChild(r)}}}catch(e){console.error(e)}}}}(),bidAdapters.undertone=function(){var m=0;function r(o,a){var n={imps:{},tag_sizes:{},tag_ids:{},request_cnt:0},d=properDevice.isMobile()?"mobile":"desktop";return Object.keys(o).forEach(function(e){for(var t=0;t<o[e].length;t++){var i,r,s=o[e][t];void 0===n.imps[s]&&(r={bidRequestId:i=ProperMedia.utils.generateUUID(),hbadaptor:"prebid",url:properPage.bidder_page_url,domain:properPage.domain,placementId:void 0!==s?s.toString():null,publisherId:parseInt(m),sizes:ProperMedia.utils.deepAccess(a,"native_sizes."+d+"."+e)||[e.split("x").map(function(e){return parseInt(e)})],params:{placementId:s.toString(),publisherId:parseInt(m)}},"video"==a.demand_type&&(r.video={streamType:a.video_type,playbackmethod:[6],maxDuration:30,skippable:!0},r.mediaType="video"),0<r.sizes.length&&(n.request_cnt++,n.imps[s]=r,ProperMedia.utils.deepAccess(a,"native_sizes."+d+"."+e))&&(n.tag_sizes[i]=e),n.tag_ids[i]=s)}}),n}function a(){return gdprConsent?"gdpr="+(gdprConsent.gdprApplies?"1":"0")+"&gdprstr="+(gdprConsent.consentString||""):null}return{send:function(p){var l,c,s,e,t,o,i,u=p.bidder,g=properOps.bidder_info[u]||g;return(m=ProperMedia.utils.deepAccess(properOps,"bidders.header."+u+".site_id")||0)?(l="https://hb.undertone.com/hb?pid="+m+"&domain="+properPage.domain,c=r(p.requests,g),e=ProperMedia.utils.objectValues(c.imps)||[],0!=(s=c.request_cnt)&&(t=Math.max(document.documentElement.clientWidth,window.innerWidth||0),i=Math.max(document.documentElement.clientHeight,window.innerHeight||0),e={"x-ut-hb-params":e,commons:{adapterVersion:properOps.prebid_version,uids:userIds.getUIdsObj()||{},pageSize:0==t||0==i?null:[t,i]}},(t=a())&&(l+="&"+t),uspConsent.usPrivacy&&(l+="&ccpa="+uspConsent.usPrivacy),o=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.deepAccess(properOps,"bidders.header."+u+".edge")||!1,void $.ajax({url:l,method:"POST",requestType:"cors",bidder:u,edge:i,data:JSON.stringify(e),success:function(e){try{properLog.mylog(e,u);var t,e=ProperMedia.utils.safeJsonParse(e),n=ProperMedia.utils.getTimestampMs(),d=ProperMedia.utils.calcResponseMs(o,n);e&&Array.isArray(e)&&0<e.length?e.forEach(function(e){var t="1x1",i=(ProperMedia.utils.deepAccess(c,"tag_sizes."+e.bidRequestId)?t=ProperMedia.utils.deepAccess(c,"tag_sizes."+e.bidRequestId):e.width&&e.height&&(t=e.width+"x"+e.height),e.cpm||0),r=e.ttl||0,s=e.adId||"",o=e.adId||"",a=ProperMedia.utils.deepAccess(c,"tag_ids."+e.bidRequestId)||"",t=new adObj({bidder:u,size:t,price:parseFloat(i),gross:parseFloat(i),tag_id:a,crid:s,adid:o,ttl:1e3*r||g.default_bid_ttl,request_url:l,response:e,response_ms:d,received_ts:n});"video"==g.demand_type?(t.type="video",t.vast_tag=e.ad,i=ProperMedia.utils.parseVastVpaid(t.vast_tag),t.vast_type=i.vast_type,t.vpaid=i.vpaid,t.video_type=g.video_type):t.adcode=e.ad,p.logBidResponse(t)}):(t=new adObj({bidder:u,price:0,gross:0,tag_id:"",request_url:l,response:e,response_ms:d,received_ts:n,ttl:0}),p.logNoBidResponse(t)),p.incrementBidResponseCount(s)}catch(e){throw e.bidder=u,e}},error:function(e){try{p.incrementBidResponseCount(s);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(o,t),r={bidder:u,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};p.logBidResponseError(r)}catch(e){throw e.bidder=u,e}}}))):(properLog.mylog("Error: Undertone Site ID is Required."),!1)},bidderInfo:{rev_share:.9,bid_grouping:"page",demand_type:"display",default_bid_ttl:36e4,gvlid:677,native_sizes:{desktop:{sticky_horizontal:[[1,1]],native_horizontal:[[1,2]]},mobile:{sticky_horizontal:[[1,1],[320,50]],native_horizontal:[[1,2]]}}},getUserSyncs:function(){var e="",t=a();t&&(e+="?"+t),uspConsent.usPrivacy&&(e+=(0<e.length?"&":"?")+"ccpa="+uspConsent.usPrivacy),userSyncs.add({type:"iframe",url:"https://cdn.undertone.com/js/usersync.html"+e,bidder:"undertone"})},formatRequest:r}}(),bidAdapters.unruly=function(){const f="https://targeting.unrulymedia.com/unruly_prebid";let p=null;function l(e){return e.split("x").map(function(e){return parseInt(e)})}function i(r,s,o){const a={imps:{},request_cnt:0},n=o.auctionId,d=schainCheck(s);return 0<Object.keys(r).length&&Object.keys(r).forEach(function(t){for(let e=0;e<r[t].length;e++){var i=r[t][e];void 0===a.imps[i]&&(a.imps[i]={bidder:s,params:{siteId:p},mediaTypes:{},adUnitCode:ProperMedia.utils.generateUUID(),transactionId:ProperMedia.utils.generateUUID(),bidId:i,bidderRequestId:ProperMedia.utils.generateUUID(),auctionId:n,src:"client",bidRequestsCount:1,bidderRequestsCount:1,bidderWinsCount:0,userIdAsEids:userIds.getEidsArray(),userId:userIds.getUIdsObj()}),""!=d&&ProperMedia.utils.deepSetValue(a,"imps."+i+".schain",d),"display"==o.demand_type?(ProperMedia.utils.deepAccess(a,"imps."+i+".mediaTypes.banner")||(a.imps[i].banner={sizes:[]}),a.imps[i].banner.sizes.push(l(t))):"video"==o.demand_type&&(ProperMedia.utils.deepAccess(a,"imps."+i+".mediaTypes.video")||(a.imps[i].mediaTypes.video={context:o.video_type,playerSize:[]}),a.imps[i].mediaTypes.video.playerSize.push(l(t))),a.request_cnt++}}),a}return{formatRequest:i,send:function(g){const m=g.bidder,h=properOps.bidder_info[m]||h;var e=(ProperMedia.utils.deepAccess(properOps,"bidders.header."+m+".site_id")||"").toString().split("-")||["",""];if(!(p=properDevice.isMobile()&&2==e.length?e[1]:e[0]))return properLog.mylog("Error: Unruly Site ID is Required."),!1;h.auctionId=ProperMedia.utils.deepAccess(g,"auction.id");var e=i(g.requests,m,h),t=ProperMedia.utils.objectValues(e.imps)||[];const _=e.request_cnt,b=(e={bidderRequest:{bidderCode:"unruly",auctionId:t[0].auctionId,bidderRequestId:t[0].bidderRequestId,auctionStart:Date.now(),timeout:550,refererInfo:{referer:properPage.url,reachedTop:!0,numIframes:0,stack:[properPage.url],canonicalUrl:properPage.canonical_url},start:Date.now(),invalidBidsCount:0,bids:t,gdprConsent:{consentString:gdprConsent.consentString||"",vendorData:gdprConsent.vendorData||{},gdprApplies:!!gdprConsent.gdprApplies},uspConsent:uspConsent.usPrivacy||""}},properLog.mylog(f,m),g.incrementRequestsSent(_),ProperMedia.utils.getTimestampMs());$.ajax({url:f,method:"POST",requestType:"cors",data:JSON.stringify(e),success:function(t){try{var i=ProperMedia.utils.getTimestampMs(),r=ProperMedia.utils.calcResponseMs(b,i);if((t=ProperMedia.utils.safeJsonParse(t))&&t.bids&&0!=t.bids.length){properLog.mylog(t,m);for(let e=0;e<t.bids.length;e++){var s,o=t.bids[e],a=o.cpm||0,n=o.width||0,d=o.height||0,p=o.bidId||"",l=o.creativeId||"",c=new adObj({bidder:m,size:n+"x"+d,price:parseFloat(a),gross:parseFloat(a),tag_id:p,crid:l,request_url:f,response:o,response_ms:r,received_ts:i,ttl:h.default_bid_ttl}),u=ProperMedia.utils.deepAccess(o,"meta.mediaType");u&&"video"===u.toLowerCase()?(c.type="video",c.vast_tag=o.vastUrl||"",s=ProperMedia.utils.parseVastVpaid(c.vast_tag),c.vast_type=s.vast_type,c.vpaid=s.vpaid,c.video_type=ProperMedia.utils.deepAccess(o,"meta.videoContext")):u&&"banner"===u.toLowerCase()&&(c.adcode=o.ad),g.logBidResponse(c)}}else{properLog.mylog("Unruly: No bids returned");var e=new adObj({bidder:m,price:0,gross:0,tag_id:"",request_url:f,response:t,response_ms:r,received_ts:i,ttl:0});g.logNoBidResponse(e)}g.incrementBidResponseCount(_)}catch(e){throw e.bidder=m,e}},error:function(e){try{g.incrementBidResponseCount(_);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(b,t),r={bidder:m,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};g.logBidResponseError(r)}catch(e){throw e.bidder=m,e}}})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:36e4,gvlid:36}}}(),bidAdapters.vidazoo=function(){var e={rev_share:1,demand_type:"display",bid_grouping:"slot",default_bid_ttl:3e5,gvlid:744},v="vidazoo",y="59ac17c192832d0011283fe3";const P=36e5,w="vidSid",M="vdzwopt";let I={gvlid:e.gvlid,bidderCode:v};const x={britepoolid:1,criteoId:1,id5id:1,idl_env:1,lipb:1,netId:1,parrableId:1,pubcid:1,tdid:1,pubProvidedId:1};function S(e){try{return ProperMedia.utls.safeJsonParse(properStorage.getDataFromLocalStorage(e,I))}catch(e){}return null}function k(e,t,i){try{var r=i||Date.now(),s=JSON.stringify({value:t,created:r});properStorage.setDataInLocalStorage(e,s,I)}catch(e){}}return{send:function(h){var s,o,a,_=h.bidder,b=properOps.bidder_info[_]||b,f=(y=ProperMedia.utils.deepAccess(properOps,"bidders.header."+_+".site_id")||y,s=h.requests,o=_,a={},0<Object.keys(s).length&&Object.keys(s).forEach(function(e){for(var t=0;t<s[e].length;t++){var i=s[e][t],r=(void 0===a[i]&&(a[i]={sizes:[],floor:0}),a[i].sizes.push(e),getBidderFloor(o,e));(!a[i].floor||r<a[i].floor)&&(a[i].floor=r)}}),a);Object.keys(f).forEach(function(e){var s,t,i,r,o,a,n,d,p,l,c,u,g,m=e.split("-")[0]||e,e=f[e];m&&e.sizes.length&&(s=e.sizes.length,t=function(i){try{var r=S(i);let e=0,t;r&&r.value&&Date.now()-r.created<expiry&&(e=r.value,t=r.created);var s=e+1;return k(i,s,t),s}catch(e){return 0}}(i=function(e,t="_"){var i=e.length;let r=0,s=0;if(0<i)for(;s<i;)r=(r<<5)-r+e.charCodeAt(s++)|0;return t+r}(properPage.url)),i=function(e,t=P){var i="u_"+e,r=Date.now(),s=S(i);let o;!s||!s.value||r-s.created>t?(o=e+"_"+r.toString(),k(i,o)):o=s.value;return o}(i),d=S(w)||"",r=function(){let e=properStorage.getDataFromLocalStorage(M,I);e||(e=String(Date.now()),properStorage.setDataInLocalStorage(M,e,I));return e}(),o=properStorage.cookiesAreEnabled(I)||properStorage.localStorageIsEnabled(I),ProperMedia.utils.deepAccess(properOps,"bidders.header."+_+".account_overrides.enabled")&&(y=ProperMedia.utils.deepAccess(properOps,"bidders.header."+_+".account_overrides.bidder_ids.pId")||y),a={},"display"==b.demand_type?a.banner={sizes:e.sizes.map(e=>e.split("x").map(e=>parseInt(e)))}:"video"==b.demand_type&&(n=e.sizes[0].split("x").map(e=>parseInt(e)),a.video={context:b.video_type,mimes:["video/mp4","application/javascript"],playerSize:n,w:n[0],h:n[1],maxduration:30,minduration:10,api:[2],delivery:6,pos:0,playbackmethod:6,placement:"outstream"==b.video_type?3:1,linearity:"outstream"==b.video_type?2:1,protocols:[2,3,5,6],startdelay:0,skip:0}),c=n={url:encodeURIComponent(properPage.url),uqs:"?"+ProperMedia.utils.formatQueryString(properPage.get_vars,!0),cb:Date.now(),bidFloor:e.floor,bidId:ProperMedia.utils.generateUUID(),referrer:properPage.referrer,adUnitCode:ProperMedia.utils.generateUUID(),publisherId:y,sessionId:d,sizes:e.sizes,dealId:t,uniqueDealId:i,bidderVersion:"1.0.0",prebidVersion:properOps.prebid_version,res:screen.width+"x"+screen.height,mediaTypes:a,ptrace:r,isStorageAllowed:o},g=userIds.getUIdsObj(),Object.keys(g).forEach(function(e){if(x[e]){var t=g[e];switch(u="uid."+e,e){case"digitrustid":c[u]=ProperMedia.utils.deepAccess(t,"data.id");break;case"lipb":c[u]=t.lipbid;break;case"parrableId":c[u]=t.eid;break;case"id5id":c[u]=t.uid;break;default:c[u]=t}}}),""!=(d=schainCheck(_))&&(n.schain=d),gdprConsent&&("boolean"==typeof gdprConsent.gdprApplies&&(n.gdpr=gdprConsent.gdprApplies?1:0),gdprConsent.consentString)&&(n.gdprConsent=gdprConsent.consentString),uspConsent&&uspConsent.usPrivacy&&(n.usPrivacy=uspConsent.usPrivacy),gppConsent.gppString&&(n.gppString=gppConsent.gppString,n.gppSid=gppConsent.applicableSections),p="https://prebidnp.cootlogix.com/prebid/multi/"+m,1==properOps.testing_mode.ids&&(p="https://demoad.cootlogix.com/prebid/multi/"+(m="5e7b4eac063c510017ca44ef")),properLog.mylog(p,_),h.incrementRequestsSent(s),l=ProperMedia.utils.getTimestampMs(),e=ProperMedia.utils.deepAccess(properOps,"bidders.header."+_+".edge")||!1,$.ajax({url:p,method:"POST",requestType:"cors",bidder:_,edge:e,data:JSON.stringify(n),success:function(e){try{properLog.mylog(e,_),e=ProperMedia.utils.safeJsonParse(e);var i=ProperMedia.utils.getTimestampMs(),r=ProperMedia.utils.calcResponseMs(l,i);if(e.results&&Array.isArray(e.results)&&0<e.results.length){e.results.forEach(function(e){var t=new adObj({bidder:_,size:size,price:parseFloat(e.price),gross:parseFloat(e.price),tag_id:m,ttl:1e3*(e.exp||b.default_bid_ttl),request_url:p,response:e,response_ms:r,received_ts:i});"display"==b.demand_type?t.adcode=e.ad:"video"==b.demand_type&&(t.type="video",t.vast_tag=e.vastXml,e=ProperMedia.utils.parseVastVpaid(t.vast_tag),t.vast_type=e.vast_type,t.vpaid=e.vpaid,t.video_type=b.video_type),h.logBidResponse(t)});try{var t="?gdpr="+(gdprConsent.gdprApplies?1:0)+"&gdpr_consent="+encodeURIComponent(gdprConsent.consentString||"")+"&us_privacy="+encodeURIComponent(uspConsent.usPrivacy||"");userSyncs.add({type:"iframe",url:"https://prebid.cootlogix.com/api/sync/iframe/"+t,bidder:v})}catch(e){throw e.bidder=v,e}}else h.logNoBidResponse(new adObj({bidder:_,price:0,gross:0,tag_id:"",request_url:p,response:e,response_ms:r,received_ts:i,ttl:0}));h.incrementBidResponseCount(s)}catch(e){throw e.bidder=_,e}},error:function(e){try{h.incrementBidResponseCount(s);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(l,t),r={bidder:_,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};h.logBidResponseError(r)}catch(e){throw e.bidder=_,e}}}))})},bidderInfo:e}}(),bidAdapters.yahoo=function(){var o=["admixer.net","adserver.org","adtelligent.com","akamai.com","amxrtb.com","audigent.com","britepool.com","criteo.com","crwdcntrl.net","deepintent.com","hcn.health","id5-sync.com","idx.lat","intentiq.com","intimatemerger.com","liveintent.com","liveramp.com","mediawallahscript.com","merkleinc.com","netid.de","neustar.biz","nextroll.com","novatiq.com","parrable.com","pubcid.org","quantcast.com","quantcast.com","tapad.com","uidapi.com","verizonmedia.com","yahoo.com","zeotap.com"],b="https://c2shb.pubgw.yahoo.com/bidRequest",n="yahoo";function d(e){e=e.split("x");return{w:parseInt(e[0]),h:parseInt(e[1])}}function a(s,o,a){var n={imps:{},data_map:{},request_cnt:0};return 0<Object.keys(s).length&&Object.keys(s).forEach(function(e){for(var t=0;t<s[e].length;t++){var i=s[e][t],r=(void 0===n.imps[i]&&(r=i.split("-")[0]||i,1==properOps.testing_mode.ids&&(r="video"==a.demand_type?"8a96958a017a7a57ac375d50c0c700cc":"8a969978017a7aaabab4ab0bc01a0009"),n.imps[i]={id:i.toString(),tagid:r,secure:properPage.use_ssl?1:0,bidfloor:0,ext:{pos:r}},1==properOps.testing_mode.ids&&(n.imps[i].ext.e2eTestMode=!0),"display"==a.demand_type?(r=properUser.checkAdBlock()?["text/html","image/jpg"]:["text/html","text/javascript","application/javascript","image/jpg"],n.imps[i].banner={mimes:r,format:[]}):"video"==a.demand_type&&(r=d(e),n.imps[i].video={mimes:["video/mp4","application/javascript"],w:r.w,h:r.h,maxbitrate:void 0,maxduration:30,minduration:10,api:[2],delivery:6,pos:0,playbackmethod:6,placement:"outstream"==a.video_type?3:1,linearity:"outstream"==a.video_type?2:1,protocols:[2,3,5,6],startdelay:0,rewarded:void 0})),"display"==a.demand_type&&n.imps[i].banner.format.push(d(e)),getBidderFloor(o,e));(!n.imps[i].bidfloor||r<n.imps[i].bidfloor)&&(n.imps[i].bidfloor=r,n.data_map[i]=r),n.request_cnt++}}),n}return{formatRequest:a,send:function(g){var m=g.bidder,h=properOps.bidder_info[m]||h,e=(ProperMedia.utils.deepAccess(properOps,"bidders.header."+m+".site_id")||"").split("-")||["",""],e=properDevice.isMobile()&&2==e.length?e[1]:e[0];if(!(e=1==properOps.testing_mode.ids?"8a969516017a7a396ec539d97f540011":e))return properLog.mylog("Error: Yahoo Site ID is Required."),!1;var t=a(g.requests,m,h),i=ProperMedia.utils.objectValues(t.imps)||[],_=t.data_map||{},r=(t.request_cnt,{id:ProperMedia.utils.generateUUID(),cur:["USD"],imp:[],site:{id:e,page:properPage.bidder_page_url,domain:properPage.domain,ref:properPage.referrer},device:{dnt:0,ua:navigator.userAgent,ip:void 0,w:window.screen.width,h:window.screen.height},source:{ext:{hb:1,adapterver:"1.0.1",prebidver:properOps.prebid_version,integration:{name:"prebid.js",ver:properOps.prebid_version}},fd:1},user:{ext:{}}});0<(t=function(){var e=ProperMedia.utils.deepCopy(userIds.getEidsArray());if(ProperMedia.utils.isArray(e)&&0<e.length)return e.filter(function(e){return-1!==o.indexOf(e.source)});return[]}()).length&&ProperMedia.utils.deepSetValue(r,"user.ext.eids",t);""!=(e=schainCheck(m))&&(ProperMedia.utils.deepSetValue(r,"source.ext.schain",e),ProperMedia.utils.deepSetValue(r,"source.ext.schain.nodes.0.rid",r.id)),ProperMedia.utils.deepSetValue(r,"user.ext.consent",gdprConsent.gdprApplies?gdprConsent.consentString:""),"boolean"==typeof gdprConsent.gdprApplies&&ProperMedia.utils.deepSetValue(r,"regs.ext.gdpr",Number(gdprConsent.gdprApplies)),ProperMedia.utils.deepSetValue(r,"regs.ext.us_privacy",uspConsent.usPrivacy||"");var s=1!=properOps.testing_mode.ids&&function(){if(gdprConsent&&gdprConsent.gdprApplies&&2===gdprConsent.apiVersion)return!1;return!0}();properLog.mylog(b,m),i.forEach(function(e){var a;e=e,r.imp=[e],g.incrementRequestsSent(1),a=ProperMedia.utils.getTimestampMs(),e=ProperMedia.utils.deepAccess(properOps,"bidders.header."+m+".edge")||!1,$.ajax({url:b,method:"POST",requestType:"cors",bidder:m,headers:{"x-openrtb-version":"2.5","Content-Type":"application/json"},withCredentials:s,edge:e,data:JSON.stringify(r),success:function(l){try{var c=ProperMedia.utils.getTimestampMs(),u=ProperMedia.utils.calcResponseMs(a,c);if((l=ProperMedia.utils.safeJsonParse(l))&&l.seatbid&&0<l.seatbid.length&&l.seatbid[0].bid&&0<l.seatbid[0].bid.length){properLog.mylog(l,m),Object.keys(l.seatbid).forEach(function(p){Object.keys(l.seatbid[p].bid).forEach(function(e){var e=l.seatbid[p].bid[e],t=(e.adId||e.impid||e.crid,e.impid||""),i=e.ext&&e.ext.encp?e.ext.encp:e.price,r=e.w||1,s=e.h||1,o=e.adm||"",a=e.nurl||"",n=e.crid||0,d=e.dealId||"",r=new adObj({bidder:m,size:r+"x"+s,price:parseFloat(i),gross:parseFloat(i),nurl:a,tag_id:t,crid:n,dealid:d,request_url:b,response:e,response_ms:u,received_ts:c,ttl:h.default_bid_ttl,floor:ProperMedia.utils.deepAccess(_,t)||0});"video"==h.demand_type?(r.type="video",r.vast_tag=o,a&&(r.vast_tag=a),s=ProperMedia.utils.parseVastVpaid(r.vast_tag),r.vast_type=s.vast_type,r.vpaid=s.vpaid,r.video_type=h.video_type):r.adcode=o,g.logBidResponse(r)})});var e,i,r,t,s=l;try{ProperMedia.utils.deepAccess(s,"ext.pixels")&&(e=s.ext.pixels||[],i=/\w*(?=\s)/,r=/src=("|')(.*?)\1/,e)&&(t=e.match(/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi))&&t.forEach(function(e){var t=e.match(i)[0],e=e.match(r)[2];t&&e&&(t="img"===t.toLowerCase()?"image":"iframe",userSyncs.add({type:t,url:e}))})}catch(e){throw e.bidder=n,e}}else{properLog.mylog("no "+m+" bids returned");var o=new adObj({bidder:m,price:0,gross:0,tag_id:"",request_url:b,response:l,response_ms:u,received_ts:c,ttl:0});g.logNoBidResponse(o)}g.incrementBidResponseCount(1)}catch(e){throw e.bidder=m,e}},error:function(e){try{g.incrementBidResponseCount(1);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(a,t),r={bidder:m,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};g.logBidResponseError(r)}catch(e){throw e.bidder=m,e}}})})},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:3e5,acceptable_ads:!0,gvlid:25}}}(),bidAdapters.s2s=function(){var R;properOps.s2s_endpoint;return{send:function(D){if(!D||!D.requests)return!1;var e=!!(void 0!==properSpecialOps.s2s_websockets?properSpecialOps:properOps).s2s_websockets,t=!!(void 0!==properSpecialOps.s2s_sse?properSpecialOps:properOps).s2s_sse,i=(R=e?properOps.s2s_wss_endpoint:t?properOps.s2s_sse_endpoint:properOps.s2s_endpoint,properDevice.isMobile()?"mobile":"desktop"),r=ProperMedia.utils.deepCopy(properOps.floors[i]||{backup:.01,sizes:{}}),s=(ProperMedia.utils.deepAccess(properSession,"sessionData.bid_avg")&&Object.keys(properSession.sessionData.bid_avg).forEach(function(e){(!ProperMedia.utils.deepAccess(r,"sizes."+e)||r.sizes[e]<properSession.sessionData.bid_avg[e])&&ProperMedia.utils.deepSetValue(r,"sizes."+e,properSession.sessionData.bid_avg[e])}),{openRTBBidRequest:(i={id:null,at:1,tmax:550,site:{id:"",page:properPage.bidder_page_url,ref:properPage.referrer,domain:properPage.domain,publisher:{id:properOps.site_name,name:properPage.domain,domain:properPage.domain}},device:{connectiontype:0,ua:navigator.userAgent,ip:null,dnt:ProperMedia.utils.getDNT()?1:0,js:1,geo:null,os:window.device.os_group,h:properPage.height,w:properPage.width,language:navigator.language.split("-")[0]},user:{buyeruid:null,geo:null},source:{},regs:{coppa:ProperMedia.utils.deepAccess(properSpecialOps,"coppa")?1:0,ext:{}},ext:{},test:1==properOps.testing_mode.ids?1:0,imp:[]},(o=userIds.getEidsArray())&&o.length&&ProperMedia.utils.deepSetValue(i,"user.ext.eids",o),properOps.schain&&ProperMedia.utils.deepSetValue(i,"source.ext.schain",properOps.schain),"boolean"==typeof gdprConsent.gdprApplies&&ProperMedia.utils.deepSetValue(i,"regs.ext.gdpr",Number(gdprConsent.gdprApplies)),ProperMedia.utils.deepSetValue(i,"user.ext.consent",gdprConsent.consentString),uspConsent.usPrivacy&&ProperMedia.utils.deepSetValue(i,"regs.ext.us_privacy",uspConsent.usPrivacy),gppConsent&&(ProperMedia.utils.deepSetValue(i,"regs.gpp",gppConsent.gppString),ProperMedia.utils.deepSetValue(i,"regs.gpp_sid",gppConsent.applicableSections)),i),bidder_ids:D.requests,proper_uid:cookieMatching.proper_uid,is_secure:properPage.use_ssl?1:0,is_mobile:properDevice.isMobile(),floors:r,cookies:{}}),o=(Object.keys(s.bidder_ids).forEach(function(e){e=e.replace("_s2s",""),cookieMatching.bidderUserSyncValues[e]&&(s.cookies[e]=cookieMatching.bidderUserSyncValues[e])}),1==properOps.testing_mode.ids&&(s.debug=!0),properLog.mylog(R,"s2s"),Object.keys(D.requests).length||0),L=e||t?1:o,z=(D.incrementRequestsSent(o),ProperMedia.utils.getTimestampMs());ProperMedia.utils.deepAccess(properOps,"bidders.header.s2s.edge"),$.ajax({url:R,method:"POST",requestType:"cors",websocket:e,sse:t,bidder:"s2s",timeout:(e||t)&&properDevice.isMobile()?4e3:2e3,data:JSON.stringify(s),success:function(t){try{t=ProperMedia.utils.safeJsonParse(t);var e=!!(void 0!==properSpecialOps.s2s_websockets?properSpecialOps.s2s_websockets:e),i=!!(void 0!==properSpecialOps.s2s_sse?properSpecialOps.s2s_sse:i),r=(properLog.mylog(t,"s2s"),ProperMedia.utils.getTimestampMs()),s=ProperMedia.utils.calcResponseMs(z,r);if(t&&t.bids&&0<t.bids.length){for(var o=properDevice.isMobile()?"mobile":"desktop",a=0;a<t.bids.length;a++){var n=t.bids[a],d=n.nobid||!1,p=n.adcode||"",l=n.vast_tag||"",c=n.vast_type||"",u=n.vpaid||!1,g=n.bidder+"_s2s",m=n.media_type||"",h=n.price||0,_=n.impid||"",b=n.burl||"",f=n.nurl||"",v=n.dealid||"",y=n.adid||"",P=n.adomain||[],w=n.cid||"",M=n.crid||"",I=n.cat||[],x=n.ext||{},S=n.native||{},k=n.floor||0,A=parseInt(n.w||1),C=parseInt(n.h||1),O=ProperMedia.utils.deepAccess(properOps,"bidder_info."+g)||O,T=n.exp||O.default_bid_ttl||12e4,j=("display"==m&&f&&(p+='<img src="'+f+'" width=1 height=1>',f=""),A+"x"+C),j=ProperMedia.utils.deepAccess(O,"native_sizes."+o+"."+j)||j,E=new adObj({bidder:g,native:S,nobid:d,type:m,size:j,burl:b,nurl:f,price:parseFloat(h),gross:parseFloat(h),tag_id:_,request_url:R,response:n,response_ms:s,received_ts:r,dealid:v,adid:y,adomain:P,cid:w,crid:M,cat:I,ext:x,ttl:T,floor:k});"video"==m?(E.vast_tag=l,E.vast_type=c,E.vpaid=u,E.video_type=O.video_type):E.adcode=p,D.logBidResponse(E)}D.incrementBidResponseCount(L)}else(e||i)&&t.cookies?(e||i)&&t.error&&(e?sendError(new Error("WebSocket Server Error: "+t.error)):i&&sendError(new Error("Server Sent Events Error: "+t.error))):(D.incrementBidResponseCount(L),D.logNoBidResponse(new adObj({bidder:"s2s",price:0,gross:0,tag_id:"",request_url:R,response:t,response_ms:s,received_ts:r,ttl:0})));t&&t.cookies&&Object.keys(t.cookies).map(function(e){t.cookies[e]&&cookieMatching.updateBidderUserSyncData(e,t.cookies[e])})}catch(e){e.bidder="s2s",sendError(e)}},error:function(e){try{D.incrementBidResponseCount(L);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(z,t),r={bidder:"s2s",status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};D.logBidResponseError(r)}catch(e){e.bidder="s2s",sendError(e)}}})},onBidWon:function(e,t){return e.nurl&&((new Image).src=e.nurl),e.burl&&$.ajax({url:e.burl,method:"GET",withCredentials:!0}),!0},bidderInfo:{rev_share:1,demand_type:"display",bid_grouping:"page",default_bid_ttl:12e4},removeCreative:function(e){if("gumgum_s2s"==e.displayed_ad.bidder)try{var t,i=window.top.document.getElementById("GG_PXS");i&&(t=i.parentNode)&&t.parentNode.removeChild(t)}catch(e){console.error(e)}}}}(),bidAdapters.aol_instream=function(){var r=["https://cm.g.doubleclick.net/pixel?google_nid=adaptv_dbm&google_cm&google_sc","https://pr-bh.ybp.yahoo.com/sync/adaptv_ortb/{combo_uid}","https://sync-tm.everesttech.net/upi/pid/m7y5t93k?redir=https%3A%2F%2Fsync.adap.tv%2Fsync%3Ftype%3Dgif%26key%3Dtubemogul%26uid%3D%24%7BUSER_ID%7D","https://match.adsrvr.org/track/cmf/generic?ttd_pid=adaptv&ttd_tpi=1"],o=["adserver.org","criteo.com","id5-sync.com","intentiq.com","liveintent.com","quantcast.com","verizonmedia.com","liveramp.com"];return{send:function(m){var h=m.bidder,_=properOps.bidder_info[h]||_,e=(ProperMedia.utils.deepAccess(properOps,"bidders.header."+h+".site_id")||"").toString().split("-")||["",""],e=properDevice.isMobile()&&2==e.length?e[1]:e[0];if(!(e=1==properOps.testing_mode.ids?"HBExchange":e))return properLog.mylog("Error: AOL Video Site ID is Required."),!1;var i=m.requests,b="https://ads.adaptv.advertising.com/rtb/openrtb?ext_id="+e;Object.keys(i).forEach(function(e){for(var t=0;t<i[e].length;t++)!function(e,c,t){var u=e.split("x"),g=getBidderFloor(h,e),e={id:ProperMedia.utils.generateUUID(),at:2,cur:"USD",imp:[{id:parseInt(t+1).toString(),secure:properPage.use_ssl?1:0,bidfloor:g,video:{mimes:["video/mp4","application/javascript"],w:parseInt(u[0]),h:parseInt(u[1]),linearity:"outstream"==_.video_type?2:1,protocols:[2,5],api:[2],delivery:[6],playbackmethod:[2],minduration:1,maxduration:15},ext:{hb:1}}],site:{page:properPage.url,ref:properPage.referrer},device:{ua:navigator.userAgent,js:1},tmax:550},t=(userIdAsEids=userIds.getEidsArray()).filter(function(e){return-1!==o.indexOf(e.source)});t&&t.length&&ProperMedia.utils.deepSetValue(e,"user.ext.eids",t);t=schainCheck(h);""!=t&&ProperMedia.utils.deepSetValue(e,"source.ext.schain",t);"boolean"==typeof gdprConsent.gdprApplies&&ProperMedia.utils.deepSetValue(e,"regs.ext.gdpr",gdprConsent.gdprApplies);ProperMedia.utils.deepSetValue(e,"user.ext.consent",gdprConsent.consentString),uspConsent.usPrivacy&&ProperMedia.utils.deepSetValue(e,"regs.ext.us_privacy",uspConsent.usPrivacy);properLog.mylog(b,h),properLog.mylog(h+": sending bid request"),m.incrementRequestsSent(1);var s=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(properOps,"bidders.header."+h+".edge")||!1;$.ajax({method:"POST",requestType:"cors",bidder:h,edge:t,data:JSON.stringify(e),url:b,success:function(e){properLog.mylog("AOL Video: parsing response");try{var t,p=ProperMedia.utils.getTimestampMs(),l=ProperMedia.utils.calcResponseMs(s,p);(e=ProperMedia.utils.safeJsonParse(e))&&ProperMedia.utils.deepAccess(e,"seatbid.bid")&&0<e.seatbid.bid.length?(properLog.mylog(e,h),e.seatbid.forEach(function(e){(e.bid||[]).forEach(function(e){var t=e.w||u[0],i=e.h||u[1],r=e.price||0,s=e.adm||"",o=e.crid||"",a=e.dealid||"",n=e.adomain||[],d=ProperMedia.utils.parseVastVpaid(s),t=new adObj({bidder:h,type:"video",size:t+"x"+i,price:parseFloat(r),gross:parseFloat(r),vast_tag:s,vast_type:d.vast_type,vpaid:d.vpaid,video_type:_.video_type,tag_id:c,crid:o,dealid:a,adomain:n,request_url:b,response:e,response_ms:l,received_ts:p,ttl:_.default_bid_ttl,floor:g});m.logBidResponse(t)})})):(properLog.mylog(h+": no bid returned"),t=new adObj({bidder:h,price:0,gross:0,tag_id:c,request_url:b,response:e,response_ms:l,received_ts:p,ttl:0,floor:g}),m.logNoBidResponse(t)),m.incrementBidResponseCount(1)}catch(e){throw properLog.mylog(h+": unknown error with parsing response - "+e),e.bidder=h,e}},error:function(e){try{m.incrementBidResponseCount(1);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(s,t),r={bidder:h,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};m.logBidResponseError(r)}catch(e){throw e.bidder=h,e}}}),function(){var e=r.map(function(e){return{type:"image",url:e,demand_type:"video",bidder:h}});userSyncs.add(e)}()}(e,i[e][t],t)})},bidderInfo:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"slot",default_bid_ttl:36e5,gvlid:25}}}(),bidAdapters.beachfront_instream=function(){var r="",s={identityLink:{adapter:userIdAdapters.identityLink,rtiPartner:"idl"}};return{send:function(g){var m=g.bidder,h=properOps.bidder_info[m]||h;if(r=ProperMedia.utils.deepAccess(properOps,"bidders.header."+m+".site_id")||0,!(r=1==properOps.testing_mode.ids?"11bc5dd5-7421-4dd8-c926-40fa653bec76":r))return properLog.mylog("Error: Beachfront Video Site ID is Required."),!1;var i=g.requests,_="https://reachms.bfmio.com/bid.json?exchange_id="+r;Object.keys(i).forEach(function(e){for(var t=0;t<i[e].length;t++)!function(p,l){var e=p.split("x"),c=getBidderFloor(m,p),e={isPrebid:!0,appId:r,domain:properPage.domain,id:ProperMedia.utils.generateUUID(),imp:[{video:{w:parseInt(e[0]),h:parseInt(e[1]),mimes:["video/mp4","application/javascript"]},bidfloor:c,secure:properPage.use_ssl?1:0}],site:{page:properPage.url,domain:properPage.domain},device:{ua:navigator.userAgent,language:navigator.language,devicetype:properDevice.isMobile()?1:/(smart[-]?tv|hbbtv|appletv|googletv|hdmi|netcast\.tv|viera|nettv|roku|\bdtv\b|sonydtv|inettvbrowser|\btv\b)/i.test(navigator.userAgent)?3:2,dnt:ProperMedia.utils.getDNT()?1:0,js:1,geo:{}},regs:{ext:{}},user:{ext:{}},cur:["USD"]},t=function(){var r=[];return Object.keys(s).forEach(function(e){var t,i,e=s[e];ProperMedia.utils.deepAccess(e,"adapter.config.enabled")&&(t=e.adapter.getValue(),i=e.adapter.source,e=e.rtiPartner,r.push({source:i,uids:[{id:t,ext:{rtiPartner:e}}]}))}),r}();t&&ProperMedia.utils.deepSetValue(e,"user.ext.eids",t);gdprConsent&&(ProperMedia.utils.deepSetValue(e,"regs.ext.gdpr",gdprConsent.gdprApplies?1:0),ProperMedia.utils.deepSetValue(e,"user.ext.consent",gdprConsent.consentString));uspConsent.usPrivacy&&ProperMedia.utils.deepSetValue(e,"regs.ext.us_privacy",uspConsent.usPrivacy);properLog.mylog(_,m),properLog.mylog(m+": sending bid request"),g.incrementRequestsSent(1);var u=ProperMedia.utils.getTimestampMs(),t=ProperMedia.utils.deepAccess(properOps,"bidders.header."+m+".edge")||!1;$.ajax({method:"POST",requestType:"cors",bidder:m,edge:t,data:JSON.stringify(e),url:_,success:function(e){properLog.mylog(m+": parsing response");try{var t,i,r,s,o,a,n=ProperMedia.utils.getTimestampMs(),d=ProperMedia.utils.calcResponseMs(u,n);(e=ProperMedia.utils.safeJsonParse(e))&&e.url&&""!=e.url?(t=e.bidPrice||0,i=e.url||e.vast||"",r=e.crid||e.cmpId||"",s=e.cmpId||"",o=ProperMedia.utils.parseVastVpaid(i),a=new adObj({bidder:m,type:"video",size:p,price:parseFloat(t),gross:parseFloat(t),vast_tag:i,vast_type:o.vast_type,vpaid:o.vpaid,video_type:h.video_type,tag_id:l,crid:r,cid:s,request_url:_,response:e,response_ms:d,received_ts:n,ttl:h.default_bid_ttl,floor:c}),g.logBidResponse(a)):(properLog.mylog(m+": no bid returned"),a=new adObj({bidder:m,price:0,gross:0,tag_id:l,request_url:_,response:e,response_ms:d,received_ts:n,ttl:0,floor:c}),g.logNoBidResponse(a)),g.incrementBidResponseCount(1)}catch(e){throw properLog.mylog(m+": unknown error with parsing response - "+e),e.bidder=m,e}},error:function(e){try{g.incrementBidResponseCount(1);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(u,t),r={bidder:m,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};g.logBidResponseError(r)}catch(e){throw e.bidder=m,e}}})}(e,i[e][t])})},bidderInfo:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"slot",default_bid_ttl:3e5,gvlid:335},getUserSyncs:function(){var e="1---",t=gdprConsent.gdprApplies?1:0,i=encodeURIComponent(gdprConsent.consentString||""),t=(uspConsent.usPrivacy&&(e=encodeURIComponent(uspConsent.usPrivacy)),"https://sync.bfmio.com/sync_iframe?ifg=1&id="+r+"&gdpr="+t+"&gc="+i+"&gce=1&us_privacy="+e);userSyncs.add({type:"iframe",url:t,demand_type:"video",bidder:"beachfront_instream"})}}}(),bidAdapters.openx_instream=function(){var S="openx_instream",r="https://propermedia-d.openx.net/v/1.0/avjp",k=!0,s=[userIdAdapters.identityLink,userIdAdapters.id5Id,userIdAdapters.pubCommonId];return{send:function(M){var I=M.bidder,x=properOps.bidder_info[I]||x,i=M.requests;Object.keys(i).forEach(function(e){for(var t=0;t<i[e].length;t++)!function(e,b){var f=e.split("x"),t=ProperMedia.utils.deepAccess(properOps,"bidders.header."+I+".site_id")||b,v=getBidderFloor(I,e),e=[{video:{mimes:["video/mp4","application/javascript"],w:parseInt(f[0]),h:parseInt(f[1])},w:parseInt(f[0]),v:parseInt(f[1])}],t={ju:properPage.bidder_page_url,jr:properPage.referrer,ch:document.charSet||document.characterSet,res:screen.width+"x"+screen.height+"x"+screen.colorDepth,ifr:!1,tz:(new Date).getTimezoneOffset(),tws:window.top.innerWidth+"x"+window.top.innerHeight,be:1,bc:"hb_pb_3.0.3",dddid:ProperMedia.utils.generateUUID(),pubcid:properUser.pubcid,nocache:(new Date).getTime(),auid:t,aumfs:Math.round(1e3*v).toString(),vwd:parseInt(f[0]),vht:parseInt(f[1]),vmimes:["video/mp4","application/javascript"],openrtb:e};"outstream"==x.video_type&&(t.vos="101");e=schainCheck(I);""!=e&&(t.schain=ProperMedia.utils.formatSupplyChainString(e));gdprConsent&&(t.gdpr_consent=gdprConsent.consentString||"","boolean"==typeof gdprConsent.gdprApplies&&(t.gdpr=gdprConsent.gdprApplies?1:0),t.x_gdpr_f=1);uspConsent&&uspConsent.usPrivacy&&(t.us_privacy=uspConsent.usPrivacy);t=function(t){return s.forEach(function(e){ProperMedia.utils.deepAccess(e,"config.enabled")&&ProperMedia.utils.deepAccess(e,"storage.name")&&(t[e.storage.name]=e.getValue())}),t}(t),1==properOps.testing_mode.ids&&(t.vtest="1");e=ProperMedia.utils.formatQueryString(t,!0);r=x.alias?"https://onscroll-d.openx.net/v/1.0/avjp":r,ProperMedia.utils.deepAccess(properOps,"bidders.header."+I+".account_overrides.enabled")&&(r=ProperMedia.utils.deepAccess(properOps,"bidders.header."+I+".account_overrides.bidder_ids.endpoint_url")||r);var y=r+"?"+e,P=(properLog.mylog(y,I),properLog.mylog(I+": sending bid request"),M.incrementRequestsSent(1),ProperMedia.utils.getTimestampMs()),w=new Date;$.ajax({method:"GET",requestType:"cors",url:y,success:function(e){properLog.mylog(I+": parsing response");try{var t,i,r,s,o,a,n,d,p,l=ProperMedia.utils.getTimestampMs(),c=ProperMedia.utils.calcResponseMs(P,l),u=((e=ProperMedia.utils.safeJsonParse(e))&&e.vastUrl&&e.pub_rev?(t=Number(e.pub_rev)/1e3||0,i=e.vastUrl||"",r=f[0]||e.width,s=f[1]||e.height,o=e.adid||"",a=e.adid||"",n=e.deal_id||"",d=ProperMedia.utils.parseVastVpaid(i),m=e,h=w,k&&(k=!1,(h={bd:+new Date-h,bp:m.pub_rev,br:"0",bs:ProperMedia.utils.getPageDomain(),bt:3e3,ts:m.ts}).br=h.bt<h.bd?"t":"p",m=(m&&m.creative&&m.creative[0]&&m.creative[0].tracking&&m.creative[0].tracking.impression||"").match(/([^?]+\/)ri\?/),_=m&&1<m.length?m[1]+"bo?"+ProperMedia.utils.formatQueryString(h,!0):_)&&userSyncs.add({type:"image",url:_,bidder:S}),p=new adObj({bidder:I,type:"video",size:r+"x"+s,price:parseFloat(t),gross:parseFloat(t),vast_tag:i,vast_type:d.vast_type,vpaid:d.vpaid,video_type:x.video_type,tag_id:b,crid:o,adid:a,deal_id:n,request_url:y,response:e,response_ms:c,received_ts:l,ttl:1e3*e.ttl||x.default_bid_ttl,floor:v}),M.logBidResponse(p)):(properLog.mylog(I+": no bid returned"),p=new adObj({bidder:I,price:0,gross:0,tag_id:"",request_url:y,response:e,response_ms:c,received_ts:l,ttl:0,floor:v}),M.logNoBidResponse(p)),e),g="//u.openx.net/w/1.0/pd";u&&(u.ads&&u.ads.pixels?g=u.ads.pixels:u.pixels&&(g=u.pixels)),u="",gdprConsent&&(u=(u+="?gdpr="+(gdprConsent.gdprApplies?1:0))+"&gdpr_consent="+encodeURIComponent(gdprConsent.consentString||"")),uspConsent&&uspConsent.usPrivacy&&(u+=(0<u.length?"&":"?")+"us_privacy="+encodeURIComponent(uspConsent.usPrivacy)),userSyncs.add({type:"iframe",url:g+u,demand_type:"video",bidder:S}),M.incrementBidResponseCount(1)}catch(e){properLog.mylog(I+": unknown error with parsing response - "+e)}var m,h,_},error:function(e){try{M.incrementBidResponseCount(1);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(P,t),r={bidder:I,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};M.logBidResponseError(r)}catch(e){throw e.bidder=I,e}}})}(e,i[e][t])})},bidderInfo:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"slot",default_bid_ttl:3e5,gvlid:62}}}(),bidAdapters.pubmatic_instream=function(){var _="https://hbopenbid.pubmatic.com/translator?source=prebid-client",i="109126";function r(o,a,n){var d={imps:[],data_map:{}},p=1;return 0<Object.keys(o).length&&Object.keys(o).forEach(function(e){for(var t=0;t<o[e].length;t++){var i=o[e][t],r=(1==properOps.testing_mode.ids&&(i=properDevice.isMobile()?"2124083":"2124082"),e.split("x")),s=getBidderFloor(a,e);d.imps.push({id:p.toString(),tagid:i,secure:properPage.use_ssl?1:0,ext:{},bidfloor:s,bidfloorcur:"USD",video:{mimes:["video/mp4","application/javascript"],minduration:1,maxduration:15,startdelay:0,playbackmethod:[6],api:[2],protocols:[2,3,5,6],w:parseInt(r[0]),h:parseInt(r[1]),linearity:1,placement:"outstream"==n.video_type?3:1,ext:{video_skippable:1}}}),d.data_map[p]={tag_id:i,floor:s,size:r[0]+"x"+r[1]},p++}}),d}return{send:function(u){var g=u.bidder,m=properOps.bidder_info[g]||m,e=(t=r(u.requests,g,m)).imps||[],h=t.data_map||{},s=t.imps.length;if(i=m.alias?"159475":i,ProperMedia.utils.deepAccess(properOps,"bidders.header."+g+".account_overrides.enabled")&&(i=ProperMedia.utils.deepAccess(properOps,"bidders.header."+g+".account_overrides.bidder_ids.pubId")||i),1==properOps.testing_mode.ids&&(i="157593"),0==s)return!1;var t={id:""+(new Date).getTime(),at:1,cur:["USD"],imp:e,site:{page:properPage.url,ref:document.referrer,publisher:{id:i.toString()},domain:properPage.domain},device:{ua:navigator.userAgent,js:1,dnt:ProperMedia.utils.getDNT()?1:0,h:screen.height,w:screen.width,language:navigator.language,geo:{}},user:{geo:{}},ext:{wrapper:{wv:"prebid_prebid_"+properOps.prebid_version,transactionId:ProperMedia.utils.generateUUID(),wp:"pbjs"}},tmax:550};properOps.testing_mode.enabled&&(t.test=1),t.device.language=t.device.language&&t.device.language.split("-")[0],(e=userIds.getEidsArray())&&e.length&&ProperMedia.utils.deepSetValue(t,"user.eids",e);""!=(e=schainCheck(g))&&ProperMedia.utils.deepSetValue(t,"source.ext.schain",e),ProperMedia.utils.deepAccess(properSpecialOps,"coppa")&&ProperMedia.utils.deepSetValue(t,"regs.coppa",1),gdprConsent&&(ProperMedia.utils.deepSetValue(t,"user.ext.consent",gdprConsent.consentString||""),ProperMedia.utils.deepSetValue(t,"regs.ext.gdpr",gdprConsent.gdprApplies?1:0)),uspConsent.usPrivacy&&ProperMedia.utils.deepSetValue(t,"regs.ext.us_privacy",uspConsent.usPrivacy),properLog.mylog(_,g),properLog.mylog(g+": sending bid request"),u.incrementRequestsSent(s);var o=ProperMedia.utils.getTimestampMs(),e=ProperMedia.utils.deepAccess(properOps,"bidders.header."+g+".edge")||!1;$.ajax({method:"POST",requestType:"cors",bidder:g,edge:e,data:JSON.stringify(t),url:_,success:function(e){properLog.mylog(g+": parsing response");try{var t,l=ProperMedia.utils.getTimestampMs(),c=ProperMedia.utils.calcResponseMs(o,l);(e=ProperMedia.utils.safeJsonParse(e))&&e.seatbid&&0<e.seatbid.length&&e.seatbid[0].bid&&0<e.seatbid[0].bid.length?e.seatbid.forEach(function(e){(e.bid||[]).forEach(function(e){var t=e.impid||"",i=e.adm||"",r=e.price||0,s=e.w||0,o=e.h||0,a=e.adomain||[],n=e.cid||"",d=e.crid||"",p=s+"x"+o,s=(s&&o||(p=ProperMedia.utils.deepAccess(h,t+".size")||(properDevice.isMobile()?"400x300":"640x480")),ProperMedia.utils.parseVastVpaid(i)),o=new adObj({bidder:g,type:"video",size:p,price:parseFloat(r),gross:parseFloat(r),vast_tag:i,vast_type:s.vast_type,vpaid:s.vpaid,video_type:m.video_type,tag_id:ProperMedia.utils.deepAccess(h,t+".tag_id")||t,adomain:a,cid:n,crid:d,request_url:_,response:e,response_ms:c,received_ts:l,ttl:m.default_bid_ttl,floor:ProperMedia.utils.deepAccess(h,t+".floor")||getBidderFloor(g,p)});u.logBidResponse(o)})}):(t=new adObj({bidder:g,price:0,gross:0,tag_id:"",request_url:_,response:e,response_ms:c,received_ts:l,ttl:0}),u.logNoBidResponse(t)),u.incrementBidResponseCount(s)}catch(e){properLog.mylog(g+": unknown error with parsing response - "+e)}},error:function(e){try{u.incrementBidResponseCount(s);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(o,t),r={bidder:g,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};u.logBidResponseError(r)}catch(e){throw e.bidder=g,e}}})},bidderInfo:{rev_share:.81,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:3e5,gvlid:76},getUserSyncs:function(){var e="https://ads.pubmatic.com/AdServer/js/showad.js#PIX&kdntuid=1&p="+i;gdprConsent&&(e=(e+="&gdpr="+(gdprConsent.gdprApplies?1:0))+"&gdpr_consent="+encodeURIComponent(gdprConsent.consentString||"")),uspConsent.usPrivacy&&(e+="&us_privacy="+encodeURIComponent(uspConsent.usPrivacy)),userSyncs.add({type:"iframe",url:e,demand_type:"video",bidder:"pubmatic_instream"})},formatRequest:r}}(),bidAdapters.rubicon_instream=function(){accountId=8777,alias_accountId=15380;var _="https://prebid-server.rubiconproject.com/openrtb2/auction";function i(o,a,n){var d,p={imps:[],data_map:{}},e=(ProperMedia.utils.deepAccess(properOps,"bidders.header."+a+".site_id")||"").toString().split("-")||["",""],l=properDevice.isMobile()&&2==e.length?e[1]:e[0];return accountId=n.alias?alias_accountId:accountId,ProperMedia.utils.deepAccess(properOps,"bidders.header."+a+".account_overrides.enabled")&&(accountId=ProperMedia.utils.deepAccess(properOps,"bidders.header."+a+".account_overrides.bidder_ids.accountId")||accountId),l?(d=1,0<Object.keys(o).length&&Object.keys(o).forEach(function(e){for(var t=0;t<o[e].length;t++){var i=o[e][t],r=e.split("x"),s=getBidderFloor(a,e);p.imps.push({id:d.toString(),secure:properPage.use_ssl?1:0,bidfloor:s,ext:{rubicon:{accountId:parseInt(accountId),siteId:parseInt(l),zoneId:parseInt(i),position:"btf",floor:s,video:{language:"en",size_id:"outstream"==n.video_type?203:201,playerWidth:parseInt(r[0]),playerHeight:parseInt(r[1])},prebid:{auctiontimestamp:(new Date).getTime()}}},video:{playerSize:[parseInt(r[0]),parseInt(r[1])],context:n.video_type,mimes:["video/mp4","application/javascript"],protocols:[2,5],w:parseInt(r[0]),h:parseInt(r[1]),maxduration:60,linearity:1,api:[2],pos:3}}),p.data_map[d]={floor:s,tag_id:i,size:r[0]+"x"+r[1]},d++}})):properLog.mylog("Error: Rubicon Video Site ID is Required."),p}return{send:function(u){var g=u.bidder,m=properOps.bidder_info[g]||m,e=(t=i(u.requests,g,m)).imps||[],h=t.data_map||{},s=t.imps.length;if(0==s)return!1;var t={id:ProperMedia.utils.generateUUID(),test:1==properOps.testing_mode.ids?1:0,cur:["USD"],source:{tid:ProperMedia.utils.generateUUID()},tmax:550,imp:e,ext:{prebid:{cache:{vastxml:{returnCreative:!1}},targeting:{includewinners:!0,includebidderkeys:!1,pricegranularity:{ranges:[{max:20,increment:.01}]}},bidders:{rubicon:{integration:"pbjs"}}}},site:{page:properPage.url,content:{language:"en"}}};(e=userIds.getEidsArray())&&e.length&&ProperMedia.utils.deepSetValue(t,"user.ext.eids",e);""!=(e=schainCheck(g))&&ProperMedia.utils.deepSetValue(t,"source.ext.schain",e),ProperMedia.utils.deepAccess(properSpecialOps,"coppa")&&ProperMedia.utils.deepSetValue(t,"regs.coppa",1),gdprConsent&&(ProperMedia.utils.deepSetValue(t,"user.ext.consent",gdprConsent.consentString),"boolean"==typeof gdprConsent.gdprApplies)&&ProperMedia.utils.deepSetValue(t,"regs.ext.gdpr",Number(gdprConsent.gdprApplies)),uspConsent.usPrivacy&&ProperMedia.utils.deepSetValue(t,"regs.ext.us_privacy",uspConsent.usPrivacy),properLog.mylog(_,g),properLog.mylog(g+": sending bid request"),u.incrementRequestsSent(s);var o=ProperMedia.utils.getTimestampMs(),e=ProperMedia.utils.deepAccess(properOps,"bidders.header."+g+".edge")||!1;$.ajax({method:"POST",requestType:"cors",bidder:g,edge:e,data:JSON.stringify(t),url:_,success:function(e){properLog.mylog(g+": parsing response");try{var t,l=ProperMedia.utils.getTimestampMs(),c=ProperMedia.utils.calcResponseMs(o,l);(e=ProperMedia.utils.safeJsonParse(e))&&e.seatbid&&0<e.seatbid.length&&e.seatbid[0].bid&&0<e.seatbid[0].bid.length?(properLog.mylog(e,g),e.seatbid.forEach(function(e){(e.bid||[]).forEach(function(e){var t=e.impid||"",i=e.price||0,r=e.w||0,s=e.h||0,o=e.adomain||[],a=e.cid||"",n=e.crid||"",d=r+"x"+s,r=(r&&s||(d=ProperMedia.utils.deepAccess(h,t+".size")||(properDevice.isMobile()?"400x300":"640x480")),""),s="",p=ProperMedia.utils.deepAccess(e,"ext.prebid.targeting")||{},p=(ProperMedia.utils.deepAccess(e,"ext.prebid.cache.vastXml.url")?r=ProperMedia.utils.deepAccess(e,"ext.prebid.cache.vastXml.url"):p&&p.hb_uuid&&p.hb_cache_host&&p.hb_cache_path&&(r="https://"+p.hb_cache_host+p.hb_cache_path+"?uuid="+p.hb_uuid),e.adm&&(r=e.adm),e.nurl&&(s=e.nurl),!r&&e.nurl&&(r=e.nurl),ProperMedia.utils.parseVastVpaid(r)),i=new adObj({bidder:g,type:"video",size:d,price:parseFloat(i),gross:parseFloat(i),vast_tag:r,vast_type:p.vast_type,vpaid:p.vpaid,video_type:m.video_type,nurl:s,tag_id:ProperMedia.utils.deepAccess(h,t+".tag_id"),adomain:o,cid:a,crid:n,request_url:_,response:e,response_ms:c,received_ts:l,ttl:1e3*e.ttl||m.default_bid_ttl,floor:ProperMedia.utils.deepAccess(h,t+".floor")||getBidderFloor(g,d)});u.logBidResponse(i)})})):(properLog.mylog(g+": no bid returned"),t=new adObj({bidder:g,price:0,gross:0,tag_id:"",request_url:_,response:e,response_ms:c,received_ts:l,ttl:0}),u.logNoBidResponse(t)),u.incrementBidResponseCount(s)}catch(e){properLog.mylog(g+": can't parse bid response - "+e)}},error:function(e){try{u.incrementBidResponseCount(s);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(o,t),r={bidder:g,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};u.logBidResponseError(r)}catch(e){throw e.bidder=g,e}}})},bidderInfo:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"page",default_bid_ttl:3e5,gvlid:52},getUserSyncs:function(){userSyncs.add({type:"iframe",url:"https://eus.rubiconproject.com/usync.html",demand_type:"video",bidder:"rubicon_instream"})},formatRequest:i}}(),bidAdapters.spotx_instream={send:function(m){var h=m.bidder,_=properOps.bidder_info[h]||_,e=(ProperMedia.utils.deepAccess(properOps,"bidders.header."+h+".site_id")||"").split("-")||["",""],i=properDevice.isMobile()&&2==e.length?e[1]:e[0];if(!(i=1==properOps.testing_mode.ids?"79391":i))return properLog.mylog("Error: SpotX Site ID is Required."),!1;var b="https://search.spotxchange.com/openrtb/2.3/dados/"+i,r=m.requests;Object.keys(r).forEach(function(e){for(var t=0;t<r[e].length;t++)!function(e,c){var u=e.split("x"),g=getBidderFloor(h,e),e={id:i,imp:{id:ProperMedia.utils.generateUUID(),secure:!!properPage.use_ssl,bidfloor:g,video:{w:parseInt(u[0]),h:parseInt(u[1]),ext:{sdk_name:"Prebid 1+",versionOrtb:properOps.prebid_version,ad_unit:_.video_type},mimes:["video/mp4","application/javascript"]}},site:{id:"",page:properPage.url,content:"content"},device:{h:parseInt(properPage.height),w:parseInt(properPage.width),dnt:ProperMedia.utils.getDNT()?1:0,language:"en",make:navigator.vendor||"",ua:navigator.userAgent},ext:{wrap_response:1},user:{ext:{}}},t=userIds.getEidsArray();t.length&&ProperMedia.utils.deepSetValue(e,"user.ext.eids",t);properUser.pubcid&&ProperMedia.utils.deepSetValue(e,"user.ext.fpc",properUser.pubcid);t=schainCheck(h);""!=t&&ProperMedia.utils.deepSetValue(e,"source.ext.schain",t);gdprConsent&&("boolean"==typeof gdprConsent.gdprApplies&&ProperMedia.utils.deepSetValue(e,"regs.ext.gdpr",gdprConsent.gdprApplies?1:0),ProperMedia.utils.deepSetValue(e,"user.ext.consent",gdprConsent.consentString));uspConsent.usPrivacy&&ProperMedia.utils.deepSetValue(e,"regs.ext.us_privacy",uspConsent.usPrivacy);properLog.mylog(b,h),properLog.mylog(h+": sending bid request"),m.incrementRequestsSent(1);var s=ProperMedia.utils.getTimestampMs(),t=(new Date,ProperMedia.utils.deepAccess(properOps,"bidders.header."+h+".edge")||!1);$.ajax({method:"POST",requestType:"cors",bidder:h,edge:t,data:JSON.stringify(e),url:b,success:function(e){properLog.mylog(h+": parsing response");try{var t,p=ProperMedia.utils.getTimestampMs(),l=ProperMedia.utils.calcResponseMs(s,p);(e=ProperMedia.utils.safeJsonParse(e))&&e.seatbid&&0<e.seatbid.length&&e.seatbid[0].bid&&0<e.seatbid[0].bid.length?e.seatbid.forEach(function(e){(e.bid||[]).forEach(function(e){var t=e.price||0,i=u[0]||(properDevice.isMobile()?400:640),r=u[1]||(properDevice.isMobile()?300:480),s=e.adomain||[],o=e.cid||"",a=e.crid||"",n="https://search.spotxchange.com/ad/vast.html?key="+ProperMedia.utils.deepAccess(e,"ext.cache_key"),d=ProperMedia.utils.parseVastVpaid(n),i=new adObj({bidder:h,type:"video",size:i+"x"+r,price:parseFloat(t),gross:parseFloat(t),vast_tag:n,vast_type:d.vast_type,vpaid:d.vpaid,video_type:_.video_type,tag_id:c||e.impid,adomain:s,cid:o,crid:a,request_url:b,response:e,response_ms:l,received_ts:p,ttl:_.default_bid_ttl,floor:g});m.logBidResponse(i)})}):(properLog.mylog(h+": no bid returned"),t=new adObj({bidder:h,price:0,gross:0,tag_id:"",request_url:b,response:e,response_ms:l,received_ts:p,ttl:0}),m.logNoBidResponse(t)),m.incrementBidResponseCount(1)}catch(e){properLog.mylog(h+": unknown error with parsing response - "+e)}},error:function(e){try{m.incrementBidResponseCount(1);var t=ProperMedia.utils.getTimestampMs(),i=ProperMedia.utils.calcResponseMs(s,t),r={bidder:h,status:e.status,statusText:e.statusText,timeout:e.timeout,response_ms:i};m.logBidResponseError(r)}catch(e){throw e.bidder=h,e}}})}(e,r[e][t])})},bidderInfo:{rev_share:1,demand_type:"video",video_type:"instream",bid_grouping:"slot",default_bid_ttl:36e4,gvlid:165}},window.addEventListener("unload",function(){properLog.proper_tracker()}),window.addEventListener("hashchange",checkProperDebugConsole,!1);var _0x230d0f=_0x22c2;function _0x4652(){var e=["length","indexOf","size","404847SuRWOS","44228VPsDNM","isNumber","string","safeJsonParse","push","winning_ad","winning_ad.dfp_price","_0x4f6067","40YLJRwb","WyIxdTc2MjlzIiwiY3hjMHNnIiwiMWNmdzFzMCIsImxzejExYyIsIjFsYmoyMHciLCI0MXAwamsiLCIxM2s5MWo0IiwiejRmamVvIiwiMXltemtlOCIsImpyVUdMSmwiLCJHaGRUMDFIIiwidXpITXFIWCIsIkRVbXNEaDIiLCJ2UkhuYzdEIiwiY1VDYWJmdSIsIklaSE8zMTkiLCIxSzA5bVQ0IiwiRnduYWdnNCIsIlFTYWNyV0kiLCJGZVpPQVFjIiwiUnI1UDhMZSIsIkZjRHpENjQiLCJQYTdaRkdxIiwiREkwbkVMTSIsIjR2bTFiZmwiLCJIaEIwNTZxIiwiaG9jZ2tqZiIsIm9WcVRmTXEiLCJFMDQ0WHg5IiwiWDJtc3VnQyIsIjYxVkhzNDIiLCJJU0JQbHJaIiwicDZISGQ1cSIsInhodmhMaTMiLCJZZ0FUTzFuIiwiMWliY2RuOSIsIkdxZGFuSXoiLCJUYUQ2WEFNIiwib0E4VUtJNyIsInRoaVp4SXIiLCI0T3ViTzJIIiwiVTVPMnZRVCIsIkVwMXFPTU0iLCJHQlgwYW5ZIiwiTTR2RVlXaCIsIkpvaE51OFgiLCJNRTdZejAzIiwicHJwZWd4VCIsImVzZmhocDAiLCI3T3J2VTBsIiwiSE1tc3dVdyIsInFDQ2NVR3oiLCJFNGpERlZXIiwiemZ6aWc1ZSIsIm9EZUIwZ2EiLCJCbXhuNEtqIiwiTVR1NmFTaSIsInF3VW9xeE8iLCJ3dG56U2dQIiwicTdxRWl5biIsIkhoeW1hT1ciLCJFNU03dE9DIiwiMlJBVzdKNSIsIlVUdFFiWEQiLCJ2SDJQMU9BIiwiTjhydGN6dyIsIlFGSG1OSngiLCJMNUJEYjlOIiwiOVBuNmd5USIsIkZZQThIeUsiLCJUODJZdVRLIiwiT3czWTd2NyIsIno2UFJGUTkiLCJQMlpJYWVMIiwiZ1FoUWljMyIsIjFBYlo1WEMiLCJEY3R3TjFDIiwiSXc1cDZsVSIsIjV1OWVKTE0iLCI4VzhjNTVjIiwiSlQ1NWNkeCIsIlYyM3lYS1oiLCJxVWhCa0FkIiwiWmhoQ1VFWSIsImZvaXpnaDEiLCJXckVJenFXIiwiNkpNcElTZCIsIjZOczBvQkkiLCJrMGdZVmdaIiwiOGl2c3RlYyIsIldDem1QcFEiLCJkeU4yTkllIiwid1l0WXYyMyIsInl5dlpSRE4iLCJTODY1SXZWIiwidnJNTnd6TCIsIktsZm4xdnciLCJTQWNiQ1NBIiwieEZHaERIZSIsInFDNVFiUHciLCJNUkhaQXZpIiwiWHllQjMybiIsInpldEtpRWUiLCJRSWNBWlRQIiwiTDBldEF3SiIsImV4cXJiZlkiLCJGR2xubFB4IiwiaTl1YzlLYSIsImd3d05qSTQiLCJtWmVyZ3hzIiwiNHJSWG0zTCIsIncwM3pNaU8iLCJSUk5SWU84IiwickxKWjJDTCIsIlNYOWExek4iLCJ2TWdEMmpJIiwicnpSd2lFMiIsInB1R3pUdEwiLCJONzJUYVZCIiwiaGo5TFg4RCIsIjlPb25sazEiLCJMR0NlTEZoIiwiV0lEYzI0cyIsIkxCbjF1d1IiLCJtUjVMejVmIiwiSjVtcEs2MyIsIlhUUDhFYjYiLCJ3dndTN2Y3IiwiNVpVaEZhOSIsIlBiM29OSGciLCJPenlocVNWIiwiRGhXTFBieCIsIm8zZzBXSHMiLCJxUzI3THhHIiwiYlFBeTFWTCIsIkxlUWpEWHYiLCJiUFBiUnlZIiwiYWdsSm5UdyIsIkFyTVhraE8iLCJTNGZuOXpkIiwiUFNkZExubyIsIkxJeU5icXUiLCJwbDlLd3VZIiwiV0dLUGhNVCIsIlpwajJrc2UiLCJjMHhUV2VEIiwiSnhyZHNKRSIsImZtTmZvS3QiLCJNenNpVWUwIiwiRGh3N0l1ZyIsImNkajkzcTciLCI5MFdncjJsIiwiSkhoRll3eCIsIjJjMFllWUoiLCJISDF4Y29iIiwidFNqTHltMCIsInVtSE04dDgiLCJIenpXUElRIiwid0RiUDF2MCIsIkE4TlFJUWoiLCJzREdhYUU3IiwiU3pUOFB0YyIsInc5WWZCMUwiLCI4cXliMkhSIiwiZEZKWlB6dSIsInBsUGZhQnMiLCJuUHREdEpjIiwiODZ1OWQ0UiIsIk04WGgxT2EiLCJSTm5XTmJNIiwiQU5KQ1RScyIsIkdzdUY4QzkiLCJkOHFmQXZFIiwiU2F0OVA5biIsIk5Namp0ZlMiLCJlczRHYTVYIiwiRVV5Z1NmOSIsIjZrM2RkV2giLCJLVmdxQzJ5IiwiekhtSHdFciIsIjVPaDZwYmEiLCJLcWllaE5PIiwiaFF6NVRCaCIsIjhHM2cycjkiLCJwbDBIbVVwIiwiZ0hGUHo3YSIsIk1HZHFVVjkiLCI4OFA5OHcwIiwiNW0wd2x2RiIsIkZ4c25SYTkiLCJBZjFYb1JVIiwiYkxnQUo5SyIsIm9CRFdNbmQiLCJFalQ5UWdPIiwib3V3NnNqaiIsIjlBU1cyREUiLCJwM1JZQlFwIiwicEdjdDlIYyIsImgyeE5oYkMiLCJrRnFpUmMxIiwiVHpQTnFoNiIsIjRQdUo5b0kiLCJxM3d6RkJhIiwiWElKSUZxMiIsInFnNlR5NEoiLCJkVnZpWFFuIiwid1pNUGdLYSIsIkNiMWFaR0QiLCJPS0hMN0F6IiwiMmRJd3l2UyIsImhVbkFEYXkiLCJqRjZYOEI2Iiwialp6QzhNaSIsIndVVldzZ2UiLCJRZjFub29mIiwiTGpKaEZhRiIsIkoxTDZmM20iLCJMTlFTemtKIiwiUTZxTENiRiIsIkd3WnREYVAiLCJXVzFPSG1lIiwiaEtHdHMzQSIsIjFCaElOTm0iLCJuN3VEUUNGIiwiY0lIMFM4QiIsIjdxY1NKeWMiLCJUWGZtbVdwIiwiWER4bkJ1ZSIsInVGbUUyOFEiLCJjTE1FOG1QIiwibmJUZU5ldSIsIjFBY09RQTYiLCJ5dzlDaGJqIiwiMlg5ZktSSSIsInN4Y2lyQmgiLCJkSFdiU3FOIiwiZU5sVjZJRiIsIlNwbkViSVYiLCJNY3A4TzdEIiwicFhJRW96TiIsIk1PamdYQlYiLCI5M3p5QVdNIiwiZ1pmekVHTCIsIlhJTEJzcTMiLCJlUndwdGxUIiwiek96d0hqbyIsInVEWjRuTlgiLCJiQTc3TE5MIiwidUpsS2J5WCIsIktWSVFyOU8iLCJiYXpLZlBZIiwibTh1YXdYZiIsImV2UjFPNEgiLCJBVUwzaXdaIiwiWkFmWHFGZiIsIjFWNDFRbkMiLCJiRXZvVGVnIiwiVFZ1Nmh0YSIsIlhhc0ROOUciLCJTdEc3VU1uIiwiR3NYbnJMYSIsIkJIQlBoVTYiLCJLN1hDSVlZIiwieWI1Z01oQSIsIk1US2RkQWQiLCJFbkRJZ0lVIiwiYUE3N0l5MSIsIk5nNWwyTEEiLCJCSndIeW1WIiwiVmoxdTh6MyIsIk1sQTUxelAiLCJGRFA2YnZ4IiwiNThicllYeCIsIjliN21jSlkiLCIzN2UxamM0IiwiQ0xCbDRpYiIsInRMb01GTDciLCJaWlQ3SjJpIiwiR1NFblRCYSIsIkxGQkFLTzgiLCJSdjBoMzFXIiwiRzhlSFR0WiIsImxpZEQ5NVQiLCJaWEZjeHlVIiwiNE9URVo4bSIsImF0TmY5Z1UiLCJZck5FaHlhIiwiOGVST1ZxZSIsImVWdnl1S0YiLCI3eDk4em1MIiwiOVhFT2tNViIsIk1sRFRxM1MiLCJjQ01lNjhIIiwiWHF2MExiUSIsInZhVm0xMk0iLCI2ZWdGUWExIiwiUG1MODYwaCIsIkM0dGd3YVIiLCJlbnhFN05GIiwiOG9xTmZtWSIsIkhoakEwWU8iLCJ1dTIxTnd6IiwidExOaURRVyIsIk8zYldyNVQiLCIxWTI4TENVIiwibjFNd0pvNyIsIkVMVGVyNUQiLCJZb1Y1OU51Iiwic056SW5heCIsIlVGVXdDTHYiLCJPczNuTzFIIiwiWUJSRTVUdyIsIkl0S2c0R1UiLCJOUDRRTU9uIiwibEFPNmxnbyIsIm1ieHlEeTMiLCJDNGJKclduIiwiMHhGc1NDVSIsIlF0SkplU1EiLCJsSVBMRlp5IiwiVzZNUUprNiIsIjhNQlhYZWciLCJUR0w4RzdHIiwidmVwb3RVUyIsIjRwV2M1R3kiLCJNaDZBand6IiwiQ2x1Z21oUSIsIjQ2ZHRoZFUiLCJ1eGYzS28yIiwiSU5KTG53QSIsIjc4UEhSWHkiLCJvNzNyRExFIiwiT2VkV3Q2MSIsInhkc3RVMDMiLCI0V1Z3S08wIiwiSXV2aWZqUiIsIm9JNDBsb04iLCJ2eFp3Z3pmIiwiT1psRGlzNiIsIlRJcTVoVTUiLCJXUWZXUERKIiwiNnlDaXlGZCIsImlsNHltS2wiLCJtdGtvdUZmIiwiR0VQZnJqQSIsIlhwRXdyV2QiLCIyMDQyMHdUIiwicHRjTzViYSIsIlB0QU9Ub28iLCJ3aGhkWGFPIiwicnJFMW83ZyIsIkFDeEFoTEUiLCJzeGR5cWhpIiwiZFJPWTZENiIsInJLRm12RE8iLCJZeEpHNkxBIiwidENOUVFoQiIsIkVXanNJQW8iLCJUUUZLVzRvIiwiS2xzdjN2MCIsImlOQ3k4eE0iLCJYeFJJOG1pIiwiWmZ3dW82TSIsIjc2ck9PcmoiLCJTQThSWmZDIiwiUU4weUJxdSIsIlRJY2JCbTQiLCJvUFNnSUNlIiwiYWRiaWMyayIsIkRjWnpISkkiLCI0ODVzVTR4IiwiM2RrbGpYNSIsIktuNzVjR0giLCJBSWpQSzlXIiwiZWFyNTlGVyIsIko3QTBmMUQiLCJzQTRYUzhoIiwiRjNqQ0FjQyIsIjhBakRPekoiLCJJU3YxekZHIiwiMjVmczFldCIsImxsWEM3ZUUiLCJWSmFHRXpoIiwiRGwwd2ZWbyIsImVGOTZEQ3IiLCJoTUQ5MzJ1IiwiVTFDb0ltSiIsIkFhQnJ1ekUiLCJ6RTlaYnUzIiwiTzdRZXNpaCIsInhESHd1bDkiLCJXaU1mU2l5IiwiMG9FaDRlTiIsImZrZXRzbE0iLCJxbVRMQktlIiwiQWtldnZoSSIsImRncjdWaGEiLCJRYVpJbzdLIiwiTktXNjJmcSIsInpqQXdua2EiLCJhS2Q1b3FpIiwic2JWV0NDZiIsImtrOFVnUDUiLCJHRDVKeEhDIiwienlEbW1lVyIsIlU4WjdTbWYiLCI4MzBNbk1yIiwiZG5pWHJzSCIsIkdEaXI2NnYiLCJkekJPelN4IiwiWkR1eUppSCIsIjAxb2tlcmIiLCI1eU1hWnB0IiwiVWhvUUFxWSIsIjZPc1k1OGgiLCIzeUY0MGNNIiwiV1BtcEgyMiIsIm5tS3kxNGEiLCJraEJVbHBzIiwiZlpDTmYyMiIsIjJxcENOTWUiLCJuT28yRlN4Iiwiakc2ODdXTyIsIkFCMEdxVUIiLCIxZ21xTnRrIiwiY0JMOVlsUCIsIkFTS0Z6Mm8iLCJrN05QSVVmIiwiUnN1SmI3TCIsIlliTFB1TXMiLCI1YVk4SktoIiwiYUhWWlpuRCIsIlNra1k1RVYiLCIyYUN1SWNyIiwiaTVzUEo4ciIsIm1WNTk5a0YiLCJVMVA3SnNtIiwibXo4QWFEZCIsIm0zeDIybU4iLCJ0ZXN0QmlkIl0=","5656NmGTdf","log","utils","deepAccess","forEach","dfp_bid_price","validateValue","121wfizmC","40578FuhBAI","b64DecodeUnicode","isStr","amazon_ads","203XQppuy","hasWinningBid","_0x432f92","1116064GeaqGy","replace","494754RZZFqE","5bOCafQ","hasWinningAmazonBid","sizes","565752xGPwrK","winning_amazon_ad","_0x3aa07a","AMZN_BID_KEYS","17bCjsUG","sort","price"];return(_0x4652=function(){return e})()}!function(){for(var e=_0x22c2,t=_0x4652();;)try{if(124860==+parseInt(e(380))*(-parseInt(e(397))/2)+parseInt(e(372))/3+-parseInt(e(387))/4*(-parseInt(e(373))/5)+parseInt(e(363))/6*(parseInt(e(367))/7)+parseInt(e(370))/8+parseInt(e(386))/9*(parseInt(e(395))/10)+parseInt(e(404))/11*(-parseInt(e(376))/12))break;t.push(t.shift())}catch(e){t.push(t.shift())}}();var _0x4d3546,_0xef5ca=ProperMedia[_0x230d0f(399)][_0x230d0f(390)](ProperMedia[_0x230d0f(399)][_0x230d0f(364)](_0x230d0f(396)));function _0x22c2(e,t){var i=_0x4652();return(_0x22c2=function(e,t){return i[e-=363]})(e,t)}function _0x1530b1(){var t=_0x230d0f;try{return _0x4d3546=_0x4d3546?_0x4d3546:properSpecialOps[t(379)]?ProperMedia.utils.safeJsonParse(ProperMedia[t(399)][t(364)](properSpecialOps[t(379)])):ProperMedia[t(399)][t(390)](ProperMedia[t(399)][t(364)]("WyIxZ3Vib3FvIiwiejMxbzh3IiwiMXlsbHA4ZyIsIjhnNG5pOCIsIjE3eW9vaHMiLCJxN2VvMDAiLCIxcHB5b3prIiwiY3Z5NW1vIiwiMWNlaTZtOCIsInVuODY0ZyIsIjF1NXM3NDAiLCI0MGI1ZHMiLCIxM2l2NmRjIiwibHJsNXZrIiwiMWxhNTZ2NCIsImYzdXdvdyIsIjFlbWV4b2ciLCJ3djR4Nm8iLCIxd2RveTY4IiwiNjg3d2cwIiwiMTVxcnhmayIsIm56aHd4cyIsIjFuaTF4eGMiLCJhbzFla2ciLCIxYTZsZmswIiwic2ZiZjI4IiwiMXJ4dmcxcyIsIjFzZWViayIsIjExYXlmYjQiLCJqam9ldGMiLCIxajI4ZnN3IiwiZzd0YTgwIiwiMWZxZGI3ayIsInh6M2FwcyIsIjF4aG5icGMiLCI3YzY5ejQiLCIxNnVxYXlvIiwicDNnYWd3IiwiMW9tMGJnZyIsImJyenMzayIsIjFiYWp0MzQiLCJ0ajlzbGMiLCIxdDF0dGt3IiwiMndjcnVvIiwiMTJld3N1OCIsImtubXNjZyIsIjFrNjZ0YzAiLCJkendqNXMiLCIxZGlnazVjIiwidnI2am5rIiwiMXY5cWtuNCIsIjU0OWl3dyIsIjE0bXRqd2ciLCJtdmpqZW8iLCIxbWUza2U4IiwiOWszMTFjIiwiMTkybjIwdyIsInJiZDFqNCIsIjFxdHgyaW8iLCJvZzBzZyIsIjEwNzAxczAiLCJpZnExYTgiLCIxaHlhMjlzIiwiZ3JzZ3prIiwiMWdhY2h6NCIsInlqMmhoYyIsIjF5MW1pZ3ciLCI3dzVncW8iLCIxN2VwaHE4IiwicG5maDhnIiwiMXA1emk4MCIsImNieXl2NCIsIjFidWl6dW8iLCJ1Mzh6Y3ciLCIxdGx0MGNnIiwiM2dieW04IiwiMTJ5dnpscyIsImw3bHo0MCIsIjFrcTYwM2siLCJlanZweGMiLCIxZTJmcXd3Iiwid2I1cWY0IiwiMXZ0cHJlbyIsIjVvOHBvZyIsIjE1NnNxbzAiLCJuZmlxNjgiLCIxbXkycjVzIiwiYTQyN3N3IiwiMTltbThzZyIsInJ2YzhhbyIsIjFyZHc5YTgiLCIxOGY3azAiLCIxMHF6OGprIiwiaXpwODFzIiwiMWlpOTkxYyIsImZudTNnZyIsIjFmNmU0ZzAiLCJ4ZjQzeTgiLCIxd3hvNHhzIiwiNnM3MzdrIiwiMTZhcjQ3NCIsIm9qaDNwYyIsIjFvMjE0b3ciLCJiODBsYzAiLCIxYXFrbWJrIiwic3phbHRzIiwiMXNodW10YyIsIjJjZGwzNCIsIjExdXhtMm8iLCJrM25sa3ciLCIxam03bWtnIiwiZGZ4Y2U4IiwiMWN5aGRkcyIsInY3N2N3MCIsIjF1cHJkdmsiLCI0a2FjNWMiLCIxNDJ1ZDR3IiwibWJrY240IiwiMWx1NGRtbyIsIjkwM3U5cyIsIjE4aW52OWMiLCJxcmR1cmsiLCIxcTl4dnI0IiwiNGd1MHciLCJ6bjB2MGciLCJodnF1aW8iLCIxaGVhdmk4IiwiaGxyOTR3IiwiMWg0YmE0ZyIsInpkMTltbyIsIjF5dmxhbTgiLCI4cTQ4dzAiLCIxODhvOXZrIiwicWhlOWRzIiwiMXB6eWFkYyIsImQ1eHIwZyIsIjFjb2hzMDAiLCJ1eDdyaTgiLCIxdWZyc2hzIiwiNGFhcXJrIiwiMTNzdXJyNCIsIm0xa3I5YyIsIjFsazRzOHciLCJmZHVpMm8iLCIxZXdlajI4IiwieDU0aWtnIiwiMXdub2prMCIsIjZpN2h0cyIsIjE2MHJpdGMiLCJvOWhpYmsiLCIxbnMxamI0IiwiYXkwenk4IiwiMWFnbDB4cyIsInNwYjBnMCIsIjFzN3YxZmsiLCIyMmR6cGMiLCIxMWt5MG93IiwianRvMDc0IiwiMWpjODE2byIsImdoc3ZscyIsIjFnMGN3bGMiLCJ5OTJ3M2siLCIxeHJteDM0IiwiN201dmN3IiwiMTc0cHdjZyIsInBkZnZ1byIsIjFvdnp3dTgiLCJjMXpkaGMiLCIxYmtqZWd3IiwidHQ5ZHo0IiwiMXRidGV5byIsIjM2Y2Q4ZyIsIjEyb3dlODAiLCJreG1kcTgiLCIxa2c2ZXBzIiwiZTl3NGprIiwiMWRzZzVqNCIsIncxNjUxYyIsIjF2anE2MHciLCI1ZTk0YW8iLCIxNHd0NWE4IiwibjVqNHNnIiwiMW1vMzVzMCIsIjl1Mm1mNCIsIjE5Y21uZW8iLCJybGNtd3ciLCIxcjN3bndnIiwieWZtNjgiLCIxMGd6bjVzIiwiaXBwbW8wIiwiMWk4OW5uayIsImgxczJkYyIsIjFna2MzY3ciLCJ5dDIydjQiLCIxeWJtM3VvIiwiODY1MjRnIiwiMTdvcDM0MCIsInB4ZjJtOCIsIjFwZnozbHMiLCJjbHlrOHciLCIxYzRpbDhnIiwidWQ4a3FvIiwiMXR2c2xxOCIsIjNxYmswMCIsIjEzOHZremsiLCJsaGxraHMiLCIxbDA1bGhjIiwiZXR2YmI0IiwiMWVjZmNhbyIsIndsNWJzdyIsIjF3M3Bjc2ciLCI1eThiMjgiLCIxNWdzYzFzIiwibnBpYmswIiwiMW44MmNqayIsImFlMXQ2byIsIjE5d2x1NjgiLCJzNWJ0b2ciLCIxcm52dW8wIiwiMWllc3hzIiwiMTEweXR4YyIsImo5b3RmayIsIjFpczh1ZjQiLCJmeHRvdTgiLCIxZmdkcHRzIiwieHAzcGMwIiwiMXg3bnFiayIsIjcyNm9sYyIsIjE2a3Fwa3ciLCJvdGdwMzQiLCIxb2MwcTJvIiwiYmkwNnBzIiwiMWIwazdwYyIsInQ5YTc3ayIsIjFzcnU4NzQiLCIybWQ2Z3ciLCIxMjR4N2dnIiwia2RuNnlvIiwiMWp3Nzd5OCIsImRwd3hzMCIsIjFkOGd5cmsiLCJ2aDZ5OXMiLCIxdXpxejljIiwiNHU5eGo0IiwiMTRjdHlpbyIsIm1sankwdyIsIjFtNDN6MGciLCI5YTNmbmsiLCIxOHNuZ240IiwicjFkZzVjIiwiMXFqeGg0dyIsImVnZmVvIiwiengwZ2U4IiwiaTVxZndnIiwiMWhvYWd3MCIsImhncmdnMCIsIjFnemJoZmsiLCJ6ODFneHMiLCIxeXFsaHhjIiwiOGw0Zzc0IiwiMTgzb2g2byIsInFjZWdvdyIsIjFwdXlob2ciLCJkMHh5YmsiLCIxY2poemI0IiwidXM3eXRjIiwiMXVhcnpzdyIsIjQ1YXkybyIsIjEzbnV6MjgiLCJsd2t5a2ciLCIxbGY0emswIiwiZjh1cGRzIiwiMWVyZXFkYyIsIngwNHB2ayIsIjF3aW9xdjQiLCI2ZDdwNHciLCIxNXZycTRnIiwibzRocG1vIiwiMW5uMXFtOCIsImF0MTc5YyIsIjFhYmw4OHciLCJza2I3cjQiLCIxczJ2OHFvIiwiMXhlNzBnIiwiMTFmeTgwMCIsImpvbzdpOCIsIjFqNzg4aHMiLCJnY3Qyd3ciLCIxZnZkM3dnIiwieTQzM2VvIiwiMXhtbjRlOCIsIjdoNjJvMCIsIjE2enEzbmsiLCJwOGczNXMiLCIxb3IwNDVjIiwiYnd6a3NnIiwiMWJmamxzMCIsInRvOWxhOCIsIjF0NnRtOXMiLCIzMWNramsiLCIxZG5nY3U4IiwibjBqYzNrIiwiMXF5d3Y3ayIsImd3czlvZyIsIjE3anBhZjQiLCJ1ODhzMXMiLCIxa3Y1c3NnIiwiNXQ4aWRjIiwiMTlybTFoYyIsImo0cDBxbyIsIjF4Mm54bW8iLCJiZDBlMHciLCIxMXp4ZXJrIiwidmM3NWt3IiwiMWx6NDZiayIsIjlnbXBzIiwiMWg5YjJ0YyIsInFtZTIybyIsIjF1a3JsNm8iLCJmaXVhcmsiLCIxNjVyYmk4Iiwic3VhdDR3IiwiMWpoN3R2ayIsIjdyNW8xcyIsIjFicGo3NXMiLCJsMm02ZjQiLCIxdm9weXBzIiwiOXoyZjQwIiwiMTBsemZ1byIsInl5MXZrMCIsIjFwa3l3YW8iLCIzdmJjb3ciLCIxZWhmNHprIiwibnVpNDh3IiwiMXJzdm5jdyIsImcydGhqNCIsIjE2cHFpOXMiLCJ0ZTl6d2ciLCIxazE3MG40IiwiNHo5cTgwIiwiMTh4bjljMCIsImlhcThsYyIsIjF5ajNzdzAiLCJjdGc5YTgiLCIxM2dkYTB3Iiwid3NuMHU4IiwiMW5mazFrdyIsIjFwd2h6NCIsIjFmbnZldjQiLCJwMHllNGciLCIxc3pieDhnIiwiZHhlbXRjIiwiMTRrYm5rMCIsInI4djU2byIsIjFodnM1eGMiLCI3dG5rZTgiLCIxYnMxM2k4IiwibDU0MnJrIiwiMXZyN3YyOCIsImExa2JnZyIsIjEwb2hjNzQiLCJ4Y203bHMiLCIxbnpqOGNnIiwiMjl2b3FvIiwiMWN2emgxYyIsIm05MmdhbyIsIjFxN2Z6ZW8iLCJoajljc2ciLCIxODY2ZGo0IiwidXVwdjVzIiwiMWxobXZ3ZyIsIjZmcGxoYyIsIjFhZTM0bGMiLCJqcjYzdW8iLCIxeHA1MHFvIiwiYnpoaDR3IiwiMTJtZWh2ayIsInZ5bzhvdyIsIjFtbGw5ZmsiLCJ2eHB0cyIsIjFnaHU3MGciLCJwdXg2OXMiLCIxdHRhcGRzIiwiZXJkZXlvIiwiMTVlYWZwYyIsInMydHhjMCIsIjFpcHF5Mm8iLCI2em9zOHciLCIxYXkyYmN3Iiwia2I1YW04IiwiMXV4OTJ3dyIsIjk3bGpiNCIsInp1aWsxcyIsIno1amtsYyIsIjFwc2dsYzAiLCI0MnQxcTgiLCIxZW93dTB3IiwibzF6dGE4IiwiMXMwZGNlOCIsImdhYjZrZyIsIndkbm1yayIsIjhzbTU4ZyIsIm44MTE0dyIsImJraTMyOCIsInNlMmd3MCIsIjNmMzBnMCIsImh1aHdjZyIsImU4bjZkYyIsInhudXI1cyIsIjZieXF5byIsInByNmJyNCIsIjkzdW9zZyIsInR4MDhocyIsIjFtNW5nZyIsImxudWJjdyIsImdvMW1ndyIsInYzZ2lkYyIsIjdpZjB1OCIsIm5scmgxYyIsImN4NzNzdyIsInJjbHpwYyIsIjJkbWo5YyIsImp1d3lkYyIsImV2NDloYyIsIjUzbjF0cyIsImF4ZWl2NCIsImR0eWJrIiwiZnM3ZjI4IiwiOGFpZHE4IiwiYm92ZW8wIiwiNDc2ZGMwIiwiZG1za2NnIiwiNXE0NHhzIiwiOXZ5MW9nIiwiMXFpejI4IiwiaGp2dHZrIiwiNzBiOWMwIiwiY2YzY2FvIiwiMzlncW8wIiwiZXpobDM0IiwiNGZ4MGprIiwiYTlvaGt3IiwicDJodmsiLCJnaWZjb3ciLCI4Z2Z3MXMiLCJiOGJ0dmsiLCIzcW1zamsiLCJlNTdrZTgiLCI2bmlqMjgiLCI5ZmVndzAiLCIxNjhqcjQiLCJnemxla2ciLCI3ZXpldjQiLCJkOHF2d2ciXQ"))}catch(e){return console[t(398)]("_0x1530b1",e),[]}}function _0x59ab84(t){var e=_0x230d0f;try{var i,r=_0x1530b1();return ProperMedia[e(399)][e(365)](t)?(-1!==(i=r[e(384)](t))&&_0xef5ca[i]&&(t=_0xef5ca[i]),ProperMedia[e(399)].validateValue(t,{type:e(389),max_len:15})):ProperMedia[e(399)][e(403)](t,{type:"number",max:999,max_len:15})}catch(e){return console.log("_0x59ab84",e),t}}function _0x2b21de(t){var i=_0x230d0f;try{var r=_0x1530b1();return t.sort(function(e,t){var i=_0x22c2,e=r.indexOf(e[i(382)]);return r.indexOf(t[i(382)])-e}),t}catch(e){return console[i(398)]("_0x2b21de",e),t||[]}}function _0x4f6067(e){var t=_0x230d0f;try{var i=parseFloat(ProperMedia[t(399)][t(400)](e,t(393)))||0,r=e.hasWinningAmazonBid()?_0x3aa07a(e[t(377)][t(382)]):0,s=parseFloat(e[t(402)]||0);return Math.max(i,r,s)}catch(e){return console[t(398)](t(394),e),0}}function _0x432f92(e){var t,i=_0x230d0f;try{return!(!e[i(368)]()&&!e[i(374)]())&&(t=parseFloat(ProperMedia[i(399)].deepAccess(e,"winning_ad.dfp_price"))||0,(e[i(374)]()?_0x3aa07a(e[i(377)][i(382)]):0)<=t?e[i(392)]:e[i(377)])}catch(e){return console[i(398)](i(369),e),!1}}function _0x359c5d(r,s,o){var a=_0x230d0f;try{return r[a(366)]&&r[a(366)][a(383)]&&r.amazon_ads[a(401)](function(e){var t=a,i=(void 0===s[e.size]&&(o[e[t(385)]]=Math.round(2.5*(99===r[t(375)][e[t(385)]]?4:r[t(375)][e[t(385)]])),s[e[t(385)]]=[]),_0x3aa07a(e[t(382)])||0);s[e[t(385)]][t(391)](i),s[e[t(385)]][t(383)]>o[e[t(385)]]&&(s[e[t(385)]][t(381)](function(e,t){return parseFloat(t)-parseFloat(e)}),s[e.size]=s[e[t(385)]].splice(o[e[t(385)]]-1))}),s}catch(e){return console.log("_0x359c5d",e),s||[]}}function _0x3aa07a(e){var t=_0x230d0f;try{var i=_0x1530b1(),r=0;if(ProperMedia.utils[t(365)](e)){var s=e[t(371)](/(o_|v_)/,"");if("testBid"==s)return 100;var o=i[t(384)](s);-1!==o&&(o<300?r=(o+1)/100:o<424?r=3+5*(o-299)/100:o<454&&(r=o-423+20))}else ProperMedia[t(399)][t(388)](e)&&(r=e);return parseFloat(r)}catch(e){return console[t(398)](t(378),e),0}}return{init:init,set_options:set_options,get_options:get_options,proper_log:properLog.proper_log,proper_debug_console:proper_debug_console,proper_debug_overlay:proper_debug_overlay,proper_display:proper_display,proper_render:proper_render,logMatchingResponse:logMatchingResponse,disableSlotRefresh:disableSlotRefresh,getReportAdInfo:getReportAdInfo,getAdSlots:getAdSlots,refreshSlotByName:refreshSlotByName,refreshAuctionAndSlotsByName:refreshAuctionAndSlotsByName,sendError:sendError,spaNewPage:spaNewPage,spaNewSection:spaNewSection,spaNewPageReset:spaNewPageReset,newPageView:newPageView,runNewAuction:runNewAuction,disableAuctionRefresh:disableAuctionRefresh,infScrollNewPage:infScrollNewPage,buildSlots:buildSlots,deleteSlot:deleteSlot,destroyDfpSlot:destroyDfpSlot,getVideoPlayerOps:getVideoPlayerOps,createVideoSlot:createVideoSlot,runVideoAuction:runVideoAuction,getVideoAd:getVideoAd,destroyVideoPlayer:destroyVideoPlayer,logOutstreamAdSuccess:logOutstreamAdSuccess,logVideoAdSuccess:logVideoAdSuccess,logVideoUnfilled:logVideoUnfilled,logVideoAdError:logVideoAdError,proper_remnant:proper_remnant,runATS:runATS,cookieMatching:cookieMatching,publisherAudiencesOptOut:publisherAudiencesOptOut,getUserIdsAsEids:getUserIdsAsEids,closeSliderSlot:closeSliderSlot,testRps:testRps}}(window,document);var proper_log=ProperMedia.ad_project.proper_log,proper_debug_console=ProperMedia.ad_project.proper_debug_console,proper_debug_overlay=ProperMedia.ad_project.proper_debug_overlay,proper_display=ProperMedia.ad_project.proper_display,proper_render=ProperMedia.ad_project.proper_render,disableSlotRefresh=ProperMedia.ad_project.disableSlotRefresh,logMatchingResponse=ProperMedia.ad_project.logMatchingResponse,properSpaNewPage=ProperMedia.ad_project.spaNewPage,properSpaNewSection=ProperMedia.ad_project.spaNewSection,properSpaNewPageView=ProperMedia.ad_project.newPageView,properSpaNewPageReset=ProperMedia.ad_project.spaNewPageReset,properInfNewPage=ProperMedia.ad_project.infScrollNewPage,properBuildSlots=ProperMedia.ad_project.buildSlots,properDeleteSlot=ProperMedia.ad_project.deleteSlot,properDestroyDfpSlot=ProperMedia.ad_project.destroyDfpSlot,proper_remnant=ProperMedia.ad_project.proper_remnant,runATS=ProperMedia.ad_project.runATS,publisherAudiencesOptOut=ProperMedia.ad_project.publisherAudiencesOptOut,refreshAuctionAndSlotsByName=ProperMedia.ad_project.refreshAuctionAndSlotsByName;ProperMedia.ad_project.init();